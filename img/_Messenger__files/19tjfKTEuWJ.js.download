if (self.CavalryLogger) { CavalryLogger.start_js(["Njni0"]); }

__d("TypeaheadFacepile",["DOM"],(function a(b,c,d,e,f,g){function h(){}h.render=function(i){var j=[c("DOM").create("span",{className:"splitpic leftpic"},[c("DOM").create("img",{alt:"",src:i[0]})]),c("DOM").create("span",{className:"splitpic"+(i[2]?" toppic":"")},[c("DOM").create("img",{alt:"",src:i[1]})])];if(i[2])j.push(c("DOM").create("span",{className:"splitpic bottompic"},[c("DOM").create("img",{alt:"",src:i[2]})]));return c("DOM").create("span",{className:"splitpics clearfix"},j)};f.exports=h}),null);
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DataStore","DOM","Event","Parent","Run","Style","emptyFunction","ge","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function j(k,l,m,n){"use strict";i.constructor.call(this);this.args={data:k,view:l,core:m};c("DataStore").set(n,"Typeahead",this);this.element=n}j.prototype.init=function(k){"use strict";this.init=c("emptyFunction");this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(k||[]);this.inform("init",this);this.data.bootstrap();this.core.focus()};j.prototype.getData=function(){"use strict";if(!this.data){var k=this.args.data;this.data=k;this.data.init()}return this.data};j.prototype.getView=function(){"use strict";__p&&__p();if(!this.view){var k=this.args.view,l=k.node||c("ge")(k.node_id);if(!l){l=c("DOM").create("div",{className:"uiTypeaheadView"});c("DOM").appendContent(this.element,l)}if(typeof k.ctor==="string")this.view=new window[k.ctor](l,k.options||{});else this.view=new k.ctor(l,k.options||{});this.view.init();this.view.setTypeahead(this.element)}return this.view};j.prototype.getCore=function(){"use strict";if(!this.core){var k=this.args.core;if(typeof k.ctor==="string")this.core=new window[k.ctor](k.options||{});else this.core=new k.ctor(k.options||{});this.core.init(this.getData(),this.getView(),this.getElement())}return this.core};j.prototype.getElement=function(){"use strict";return this.element};j.prototype.setHeight=function(k){"use strict";if(k!=="auto")k+="px";c("Style").set(this.element,"height",k)};j.prototype.swapData=function(k){"use strict";return this.$Typeahead1(k,true)};j.prototype.swapDataNoCoreReset=function(k){"use strict";return this.$Typeahead1(k,false)};j.prototype.$Typeahead1=function(k,l){"use strict";__p&&__p();var m=this.core;this.data=this.args.data=k;k.init();if(m){m.data=k;m.initData();if(l)m.reset();this.proxyEvents()}k.bootstrap();return k};j.prototype.proxyEvents=function(){"use strict";[this.data,this.view,this.core].forEach(function(k){k.subscribe(k.events,this.inform.bind(this))},this)};j.prototype.initBehaviors=function(k){"use strict";k.forEach(function(l){if(typeof l==="string")if(b.TypeaheadBehaviors&&b.TypeaheadBehaviors[l])b.TypeaheadBehaviors[l](this);else c("Run").onLoad(function(){if(b.TypeaheadBehaviors)(b.TypeaheadBehaviors[l]||c("emptyFunction"))(this)}.bind(this));else this.enableBehavior(l)},this)};j.getInstance=function(k){"use strict";var l=c("Parent").byClass(k,"uiTypeahead");return l?c("DataStore").get(l,"Typeahead"):null};j.initNow=function(k,l,m){"use strict";if(m)m.init(k);k.init(l)};j.init=function(k,l,m,n){__p&&__p();var o;"use strict";if(!c("DOM").isNodeOfType(k,["input","textarea"]))k=c("DOM").scry(k,"input")[0]||c("DOM").scry(k,"textarea")[0];var p=false;try{p=document.activeElement===k}catch(q){}if(p)j.initNow(l,m,n);else(function(){var r=c("Event").listen(k,"focus",function(){j.initNow(l,m,n);r.remove()})})()};f.exports=j}),null);
__d("BasicTypeaheadRenderer",["BadgeHelper","DOM"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=[];if(i.icon)k.push(c("DOM").create("img",{alt:"",src:i.icon}));var l=i.debug_info;if(l)k.push(c("DOM").create("span",{className:"debugInfo"},l));if(i.text){var m=[i.text];if(i.is_verified)m.push(c("BadgeHelper").renderBadge("xsmall","verified"));k.push(c("DOM").create("span",{className:"text"},m))}if(i.subtext){var n=[i.subtext];k.push(c("DOM").create("span",{className:"subtext"},n))}var o=c("DOM").create("li",{className:i.type||""},k);if(i.text){o.setAttribute("title",i.text);o.setAttribute("aria-label",i.text)}return o}h.className="basic";f.exports=h}),null);
__d("createIxElement",["invariant","DOM","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){__p&&__p();var l="img";j.sprited||j.uri||h(0);if(j.sprited){l=c("joinClasses")(l,j.spriteMapCssClass,j.spriteCssClass);var m=c("DOM").create("i",{className:l});if(k!=null)c("DOM").setContent(m,c("DOM").create("u",null,k));return m}var n=c("DOM").create("img",{className:l,src:j.uri});if(k!=null)n.setAttribute("alt",k);if(j.width)n.setAttribute("width",j.width);if(j.height)n.setAttribute("height",j.height);return n}f.exports=i}),null);
__d("TypeaheadView",["ix","$","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Event","Parent","createIxElement","emptyFunction","getElementText","getOrCreateDOMID","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l,m){"use strict";j.constructor.call(this);this.element=this.content=c("$")(l);Object.assign(this,m)}k.prototype.init=function(){"use strict";this.init=c("emptyFunction");this.initializeEvents();this.reset()};k.prototype.initializeEvents=function(){"use strict";c("Event").listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)})};k.prototype.setTypeahead=function(l){"use strict";this.typeahead=l};k.prototype.setAccessibilityControlElement=function(l){"use strict";this.accessibilityElement=l};k.prototype.getElement=function(){"use strict";return this.element};k.prototype.mouseup=function(event){"use strict";if(event.button!=2){this.select(true);event.prevent()}};k.prototype.mouseover=function(event){"use strict";if(this.ignoreMouseover){this.ignoreMouseover=false;return}if(this.visible)this.highlight(this.getIndex(event))};k.prototype.reset=function(l){"use strict";__p&&__p();if(!l)this.disableAutoSelect=false;this.index=-1;this.items=[];this.results=[];this.value="";this.content.innerHTML="";this.inform("reset");return this};k.prototype.getIndex=function(event){"use strict";return this.items.indexOf(c("Parent").byTag(event.getTarget(),"li"))};k.prototype.getSelection=function(){"use strict";var l=this.results[this.index]||null;return this.visible?l:null};k.prototype.isEmpty=function(){"use strict";return!this.results.length};k.prototype.isVisible=function(){"use strict";return!!this.visible};k.prototype.show=function(){"use strict";c("CSS").show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute("aria-expanded","true");this.visible=true;return this};k.prototype.hide=function(){"use strict";c("CSS").hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute("aria-expanded","false");this.accessibilityElement.removeAttribute("aria-activedescendant")}this.visible=false;return this};k.prototype.render=function(l,m,n){"use strict";__p&&__p();this.value=l;if(!m.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.reset(true);return}var o={results:m,value:l};this.inform("beforeRender",o);m=o.results;var p=n&&this.index!=-1?this.index:this.getDefaultIndex(m);this.results=m;c("DOM").setContent(this.content,this.buildResults(m));this.items=this.getItems();this.highlight(p,false);this.inform("render",this.results)};k.prototype.getItems=function(){"use strict";return c("DOM").scry(this.content,"li")};k.prototype.buildResults=function(l){"use strict";__p&&__p();var m,n=null;if(typeof this.renderer=="function"){m=this.renderer;n=this.renderer.className||""}else{m=b.TypeaheadRenderers[this.renderer];n=this.renderer}m=m.bind(this);var o=l.map(function(q,r){var s=q.node||m(q,r);s.setAttribute("role","option");return s}),p=c("DOM").create("ul",{className:n,id:"typeahead_list_"+(this.typeahead?c("getOrCreateDOMID")(this.typeahead):c("getOrCreateDOMID")(this.element))},o);p.setAttribute("role","listbox");return p};k.prototype.showLoadingIndicator=function(){"use strict";var l=c("createIxElement")(h("85428")),m=c("DOM").create("li",{className:"typeaheadViewInternalLoading"},l),n=c("DOM").create("ul",{role:"listbox"},m);c("DOM").setContent(this.content,n)};k.prototype.getDefaultIndex=function(){"use strict";var l=this.autoSelect&&!this.disableAutoSelect;return this.index<0&&!l?-1:0};k.prototype.next=function(){"use strict";this.highlight(this.index+1);this.inform("next",this.selected)};k.prototype.prev=function(){"use strict";this.highlight(this.index-1);this.inform("prev",this.selected)};k.prototype.getItemText=function(l){"use strict";__p&&__p();var m="";if(l){m=l.getAttribute("aria-label");if(!m){m=c("getElementText")(l);l.setAttribute("aria-label",m)}}return m};k.prototype.setIsViewingSelectedItems=function(l){"use strict";this.viewingSelected=l;return this};k.prototype.getIsViewingSelectedItems=function(){"use strict";return!!this.viewingSelected};k.prototype.highlight=function(l,m){"use strict";__p&&__p();if(this.selected){c("CSS").removeClass(this.selected,"selected");this.selected.setAttribute("aria-selected","false")}if(l>this.items.length-1)l=-1;else if(l<-1)l=this.items.length-1;if(l>=0&&l<this.items.length){this.selected=this.items[l];c("CSS").addClass(this.selected,"selected");this.selected.setAttribute("aria-selected","true");if(this.accessibilityElement)setTimeout(function(){this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(this.selected))}.bind(this),0)}else this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.index=l;this.disableAutoSelect=l==-1;if(m!==false)this.inform("highlight",{index:l,selected:this.results[l],element:this.selected})};k.prototype.select=function(l){"use strict";__p&&__p();if(this.headerIndex&&l)return;var m=this.index,n=this.results[m],o=this.element.getAttribute("id");if(n){var p=function(n){this.inform("select",{index:m,clicked:!!l,selected:n,id:o,query:this.value});this.inform("afterSelect")}.bind(this);if(this.shouldValidateTypeaheadSelection(n))this.validateTypeaheadSelection(n,p);else p(n)}};k.prototype.shouldValidateTypeaheadSelection=function(l){"use strict";return false};k.prototype.validateTypeaheadSelection=function(l,m){"use strict"};Object.assign(k.prototype,{events:["highlight","render","reset","select","beforeRender","next","prev"],renderer:c("BasicTypeaheadRenderer"),autoSelect:false,ignoreMouseover:false});f.exports=k}),null);
__d("FacebarSemanticQuery",["CurrentUser","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="str",i=/\*[\w\-]+\(/g;function j(t){var u={me:c("CurrentUser").getID()};return Object.assign(u,Array.isArray(t.semantic_map)?{}:t.semantic_map)}function k(t,u){var v=j(t);if(typeof v[u]!=="undefined")return String(v[u]);return u}function l(t){return new(c("URI"))("/profile.php").addQueryData({id:t})}function m(t,u){__p&&__p();var v=[u],w=[],x=t.browse_functions,y=t.search_path;while(v.length>0){var z=v.pop();if(!p(z)){w.push(z);continue}var A=z.substring(0,z.indexOf("(")),B=A,C=q(z);if(!x[A]){w=[];break}var D=x[A].minNumParams,E=x[A].maxNumParams;if(v.length>0)if(x[A].numParamsUnbounded){if(w.length>0)A+="-"+C.length}else if(C.length!=1&&C.length>D||C.length===0&&D!=E)A+="-"+C.length;v.push(A);for(var F=0;F<C.length;F++){if(C[F].length===0)continue;if(x[B].allowsFreeText)v.push(h+"/"+encodeURIComponent(encodeURIComponent(C[F])));else v.push(C[F])}}return new(c("URI"))(y+w.join("/"))}function n(t){return t.replace(/[\'\"\[\]]/g,"")}function o(t,u){__p&&__p();var v=JSON.parse(u),w=[];if(v.length>0)w=[v[0]];var x=[],y=t.browse_functions,z=t.search_path;while(w.length>0){var A=w.pop();if(typeof A!=="object"){x.push(n(A));continue}var B=Object.keys(A)[0],C=B,D=A[B];if(!y[B]){x=[];break}var E=y[B].minNumParams,F=y[B].maxNumParams;if(w.length>0)if(y[B].numParamsUnbounded){if(x.length>0)B+="-"+D.length}else if(D.length!=1&&D.length>E||D.length===0&&E!=F)B+="-"+D.length;w.push(B);for(var G=0;G<D.length;G++){if(D[G].length===0)continue;if(y[C].allowsFreeText)w.push(h+"/"+encodeURIComponent(D[G]));else w.push(D[G])}}return new(c("URI"))(z+x.join("/"))}function p(t){return/^[a-z\-]+\(.*\)$/.test(t)}function q(t){if(!p(t)&&t.indexOf("param_")!==0)return[t];var u=t.substring(t.indexOf("(")+1,t.length-1);if(u.length===0)return[];return r(u)}function r(t){__p&&__p();var u=[],v=0,w=0;for(var x=0;x<t.length;++x)if(t[x]==","&&w===0){u.push(t.substring(v,x));v=x+1}else if(t[x]=="(")w++;else if(t[x]==")")w--;u.push(t.substring(v,t.length));return u}function s(t,u,v){this.facebarConfig=t;this.unmapped=(u||"").trim();this.mapped=k(t,this.unmapped);this.position=null;this.$FacebarSemanticQuery1=v!==undefined?v:false}s.prototype.isEntity=function(){return/^\d+$/.test(this.mapped)};s.prototype.isShortcut=function(){return this.mapped.indexOf("shortcut(")===0};s.prototype.isImplemented=function(){return this.mapped&&!this.mapped.match(i)};s.prototype.isSemanticForest=function(){return this.$FacebarSemanticQuery1};s.prototype.getUnimplemented=function(){return(this.mapped.match(i)||[]).map(function(t){return t.substr(1,t.length-2)})};s.prototype.getURI=function(){if(this.isEntity())return l(this.mapped);else if(this.isShortcut())return new(c("URI"))(this.mapped.substr(9,this.mapped.length-10));else if(this.isSemanticForest())return o(this.facebarConfig,this.unmapped);else return m(this.facebarConfig,this.unmapped)};f.exports=s}),null);
__d("LocalSERPSurfaceRequestParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SINGLE_STATE:"sist",TYPEAHEAD:"tyah",ECHO:"ec",SERP_TO_SERP:"s2s",NEARBY_PLACES:"nepl",FEED_STORY:"fest",PLACES_TAB:"plta",NOTIFICATIONS:"noti",RECENT_SEARCHES:"rese",TODAY:"to",SHARED_LINK:"lnk"})}),null);
__d("FacebarURI",["FacebarJSConstants","FacebarSemanticQuery","KeywordsSearchResultConfig","LocalSERPSurfaceRequestParam","URI","WWWBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={event:{ref:c("FacebarJSConstants").eventLinkRef},user:{fref:"ts"},page:{fref:"ts"}},i={getSearchRawPrefix:function j(){return"search"},getSearchPath:function j(){return"/"+this.getSearchRawPrefix()+"/"},getURI:function j(k,l){__p&&__p();var m=null,n=!l.song&&!l.isExtendedResult&&l.path;if(n){m=new(c("URI"))(n);if(l.type in h)m.addQueryData(h[l.type])}else if(c("KeywordsSearchResultConfig").use_seo_urls&&l.type===c("KeywordsSearchResultConfig").result_type&&l.semantic.startsWith("str/"))if(l.keywordType===c("FacebarJSConstants").keywordTypes.local_category)m=new(c("URI"))("/search/places").addQueryData("q",l.keyword?l.keyword:l.text);else m=new(c("URI"))(c("KeywordsSearchResultConfig").seo_top_url).addQueryData("q",l.keyword?l.keyword:l.text);else{var o=new(c("FacebarSemanticQuery"))(k,l.semantic);if(o&&o.isImplemented())m=o.getURI();if(l.keywordType===c("FacebarJSConstants").keywordTypes.local)if(l.isSingleState)m.addQueryData("surface",c("LocalSERPSurfaceRequestParam").SINGLE_STATE);else if(l.isRecent)m.addQueryData("surface",c("LocalSERPSurfaceRequestParam").RECENT_SEARCHES);else m.addQueryData("surface",c("LocalSERPSurfaceRequestParam").TYPEAHEAD)}return m&&i.getQualifiedURI(m)},getQualifiedURI:function j(k){var l=new(c("URI"))(k);if(!l.getDomain()){var m=new(c("URI"))(c("WWWBase").uri);l.setProtocol(m.getProtocol()).setDomain(m.getDomain()).setPort(m.getPort())}return l}};f.exports=i}),null);
__d("FacebarKeywordSearchUtils",["Arbiter","Base64","FacebarJSConstants","FacebarStructuredText","FacebarURI","KeywordsSearchResultConfig","LocalSERPSurfaceRequestParam","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k){var l=0;while(l<k.length)if(k[l].exactMatchKeyword)k.splice(l,1);else++l},i=null,j={addExactMatch:function k(l,m,n){__p&&__p();if(!m.length)return;var o=void 0,p=void 0;for(var q=0,r=m.length;q<r;q++){p=m[q];if(p.type==="grammar")continue;o=true;break}if(!o)return;var s=this.getExactMatchKeywordResult(l);if(!s)return;var t=Math.min(m.length,n),u=t;for(var v=0;v<t;v++){p=m[v];if(p.exactMatchKeyword)return;if(p.cost>c("KeywordsSearchResultConfig").default_cost)--u;if(p.type!==c("KeywordsSearchResultConfig").result_type)continue;s.backendCost=p.cost+c("KeywordsSearchResultConfig").exact_match_cost_delta_from_best;s.cost=p.backendCost;h(m);m.splice(v,0,s);return}h(m);m.splice(Math.min(Math.min(t,n-1),u),0,s)},getExactMatchKeywordResult:function k(l){if(!l||l.is_empty||!l.raw_text)return null;var m=l.raw_text.toLowerCase().replace(/\s{2,}/g," ").trim(),n=c("KeywordsSearchResultConfig").query_prefix_blacklist;for(var o=0;o<n.length;o++)if(m.startsWith(n[o]))return null;var p=this.makeFacebarEntry(m);return this._makeFacebarResult(p,l.cache_id.length)},makeFacebarEntryForLocalPage:function k(l){var m=l.getFragment(0).getUID(),n=l.getFragment(0).getText(),o=m+"/local_search",p=c("FacebarURI").getQualifiedURI(new(c("URI"))("/search/"+o).addQueryData("surface",c("LocalSERPSurfaceRequestParam").SINGLE_STATE));return{semantic:o,text:n,type:c("KeywordsSearchResultConfig").result_type,resultsSetType:c("KeywordsSearchResultConfig").result_set_type,uid:c("KeywordsSearchResultConfig").uid_prefix+n,iconClass:c("KeywordsSearchResultConfig").icon_class,keywordType:c("FacebarJSConstants").keywordTypes.local,uri:p,structure:c("FacebarStructuredText").fromString(n)}},makeFacebarEntry:function k(l){__p&&__p();var m=null,n=null,o=null;if(c("KeywordsSearchResultConfig").gsv2_results_page){if(i!=null)o=i;else o=c("KeywordsSearchResultConfig").gsv2_browse_edge;n="str/"+encodeURIComponent(l).replace(/%20/g,"+")+"/"+o;m=c("FacebarURI").getQualifiedURI(new(c("URI"))("/search/"+n))}else{m=c("FacebarURI").getQualifiedURI(new(c("URI"))(c("KeywordsSearchResultConfig").results_page_url).addQueryData("q",l));n=c("KeywordsSearchResultConfig").shortcut+"("+m.toString()+")"}if(i==null&&c("KeywordsSearchResultConfig").use_seo_urls)m=c("FacebarURI").getQualifiedURI(new(c("URI"))(c("KeywordsSearchResultConfig").seo_top_url).addQueryData("q",l));return{semantic:n,text:l,type:c("KeywordsSearchResultConfig").result_type,resultsSetType:c("KeywordsSearchResultConfig").result_set_type,uid:c("KeywordsSearchResultConfig").uid_prefix+l,iconClass:c("KeywordsSearchResultConfig").icon_class,uri:m,structure:c("FacebarStructuredText").fromString(l)}},clearSelectedTabInfo:function k(){i=null},_makeFacebarResult:function k(l,m){var n={semantic:l.semantic,structure:[{type:"grammar",text:l.text,uid:l.semantic}],type:l.type,resultsSetType:l.resultsSetType,cost:c("KeywordsSearchResultConfig").default_cost,cache_id_length:m,parse:{display:[{type:"grammar",uid:c("KeywordsSearchResultConfig").uid_prefix+l.text}],remTokens:[],suffix:""},iconClass:l.iconClass,exactMatchKeyword:true};n.tuid=JSON.stringify({semantic:n.semantic,structure:n.structure});return n},encodeFacebarURIParams:function k(l){return c("Base64").encode(JSON.stringify(l)).replace(/\=+$/,"")},decodeFacebarURIParams:function k(l){var m=l.getQueryData().ref;if(m==null)return null;var n=void 0;try{n=JSON.parse(c("Base64").decode(m))}catch(o){}return n}};c("Arbiter").subscribe("FacebarTypeahead.persistentTabs",function(k,l){i=l.browseEdge});f.exports=j}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function a(b,c,d,e,f,g){var h={mtouch:"412378670482",www:"256281040558"},i="keywords_search";function j(k){var l=k.appName,m=k.edge;return c("md5")([h[l],c("CurrentUser").getID(),m,Math.floor(Date.now()/30)].join(":"))}f.exports=j}),null);