if (self.CavalryLogger) { CavalryLogger.start_js(["4dncp"]); }

__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){f.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function a(b,c,d,e,f,g){f.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("FBClipboardLink.react",["cx","fbt","Clipboard","DOMContainer.react","Event","React","ReactDOM","SubscriptionsHandler","Tooltip.react","isKeyActivation","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={copied:false,supported:c("Clipboard").isSupported()},this.$FBClipboardLink1=null,this.$FBClipboardLink2=null,this.$FBClipboardLink4=function(s){if(s.clipboardData){s.clipboardData.setData("text/html",this.props.value);s.preventDefault()}}.bind(this),this.$FBClipboardLink5=function(){if(!this.state.supported)return"Unsupported in this browser";if(this.state.copied)return this.props.tooltipSuccess;return this.props.tooltip}.bind(this),this.$FBClipboardLink3=function(){if(this.$FBClipboardLink2){clearTimeout(this.$FBClipboardLink2);this.$FBClipboardLink2=null}}.bind(this),this.$FBClipboardLink7=function(){this.$FBClipboardLink2=setTimeout(this.$FBClipboardLink8,this.props.tooltipSuccessDuration)}.bind(this),this.$FBClipboardLink6=function(event){var s=c("ReactDOM").findDOMNode(this.refs.root),t=c("Clipboard").copy(this.props.value,s);this.$FBClipboardLink3();this.setState({copied:true,supported:t});this.$FBClipboardLink7();this.props.onComplete&&this.props.onComplete(t);if(this.props.stopPropagation)event.stopPropagation()}.bind(this),this.$FBClipboardLink8=function(){this.$FBClipboardLink3();this.setState({copied:false})}.bind(this),o}m.prototype.componentWillUnmount=function(){"use strict";this.$FBClipboardLink3();if(this.$FBClipboardLink1)this.$FBClipboardLink1.release()};m.prototype.componentDidMount=function(){"use strict";if(this.props.type==="html"){var n=c("ReactDOM").findDOMNode(this);this.$FBClipboardLink1=new(c("SubscriptionsHandler"))();this.$FBClipboardLink1.addSubscriptions(c("Event").listen(n,"copy",this.$FBClipboardLink4))}};m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,"_xd6"),o=this.props.children||this.props.label;if(!o&&this.props.childrenDONOTUSE)o=c("React").createElement(c("DOMContainer.react"),null,this.props.childrenDONOTUSE);return c("React").createElement(c("Tooltip.react"),babelHelpers["extends"]({},this.props,{ref:"root",tabIndex:"0",className:n,tooltip:this.$FBClipboardLink5(),"data-pitloot-persistonclick":true,onClick:this.$FBClipboardLink6,onKeyPress:function(p){return c("isKeyActivation")(p)&&this.$FBClipboardLink6()}.bind(this),position:this.props.position,alignH:this.props.alignment}),c("React").createElement("div",{ref:"content",className:"_xd7"},o))};m.propTypes={type:l.string,label:l.node,value:l.node.isRequired,tooltip:l.node,tooltipSuccess:l.node,tooltipSuccessDuration:l.number,onComplete:l.func,position:l.oneOf(["above","below","left","right"]),alignment:l.oneOf(["left","center","right"]),stopPropagation:l.bool};m.defaultProps={tooltip:i._("Copy Text to Clipboard"),tooltipSuccess:i._("\u062a\u0645 \u0646\u0633\u062e \u0627\u0644\u0646\u0635 \u0625\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629"),tooltipSuccessDuration:1e3,type:"string"};f.exports=m}),null);
__d("dispatchEvent",[],(function a(b,c,d,e,f,g){function h(i,j){var k;if(typeof b.Event==="function")k=new b.Event(j);else{k=b.document.createEvent("Event");k.initEvent(j,true,true)}i.dispatchEvent(k)}f.exports=h}),null);
__d("StaleVideoMonitor",["performanceNow","EventEmitter","SubscriptionsHandler","EventListener","setTimeout","clearTimeout"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=1500;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l){"use strict";__p&&__p();i.constructor.call(this);this.$StaleVideoMonitor4=null;this.$StaleVideoMonitor1=new(c("SubscriptionsHandler"))();this.$StaleVideoMonitor2=l.currentTime;this.$StaleVideoMonitor3=c("performanceNow")();this.$StaleVideoMonitor5=l;this.$StaleVideoMonitor1.addSubscriptions(c("EventListener").listen(l,"playing",function(){return this.$StaleVideoMonitor6()}.bind(this)),c("EventListener").listen(l,"play",function(){return this.$StaleVideoMonitor6()}.bind(this)),c("EventListener").listen(l,"timeupdate",function(){return this.$StaleVideoMonitor6()}.bind(this)))}k.prototype.$StaleVideoMonitor7=function(){"use strict";__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var l=this.$StaleVideoMonitor5.currentTime,m=this.$StaleVideoMonitor5.buffered,n=false,o=void 0;for(o=0;o<m.length;++o){var p=m.start(o),q=m.end(o);if(p>l)break;if(p<=l&&q>=l+1){n=true;break}}if(n)if(l===this.$StaleVideoMonitor2)this.emit("stale",c("performanceNow")()-this.$StaleVideoMonitor3,(l-this.$StaleVideoMonitor2)*1e3);else this.$StaleVideoMonitor8()}};k.prototype.$StaleVideoMonitor9=function(l){"use strict";this.$StaleVideoMonitor10();this.$StaleVideoMonitor4=c("setTimeout")(function(){return this.$StaleVideoMonitor7()}.bind(this),l)};k.prototype.$StaleVideoMonitor10=function(){"use strict";if(this.$StaleVideoMonitor4!==null){c("clearTimeout")(this.$StaleVideoMonitor4);this.$StaleVideoMonitor4=null}};k.prototype.$StaleVideoMonitor8=function(){"use strict";this.$StaleVideoMonitor6()};k.prototype.$StaleVideoMonitor6=function(){"use strict";if(this.$StaleVideoMonitor5){this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime;this.$StaleVideoMonitor3=c("performanceNow")();this.$StaleVideoMonitor9(j)}};k.prototype.$StaleVideoMonitor11=function(){"use strict";if(this.$StaleVideoMonitor1)this.$StaleVideoMonitor1.release()};k.prototype.notifyBuffering=function(){"use strict";this.$StaleVideoMonitor10()};k.prototype.notifyBuffered=function(){"use strict";this.$StaleVideoMonitor9(j)};k.prototype.destroy=function(){"use strict";this.$StaleVideoMonitor11();this.$StaleVideoMonitor10();this.$StaleVideoMonitor5=null};f.exports=k}),null);
__d("VideoPushParametersHelper",["URI","VideoPlayerShakaGlobalConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=/(.*)\.(xx|fna)\.fbcdn\.net/;function i(j){"use strict";this.$VideoPushParametersHelper1=new(c("URI"))(j);return this}i.prototype.setStreamEndOffset=function(j){"use strict";this.$VideoPushParametersHelper2=Math.min(Math.floor(j)+1,c("VideoPlayerShakaGlobalConfig").getNumber("live_max_segments_to_push",2));this.$VideoPushParametersHelper4=Math.floor(j)+1;return this};i.prototype.setSegmentStartTime=function(j){"use strict";this.$VideoPushParametersHelper3=j;return this};i.prototype.setPushVideoRepresentationID=function(j){"use strict";this.$VideoPushParametersHelper5=j;return this};i.prototype.setPushAudioRepresentationID=function(j){"use strict";this.$VideoPushParametersHelper6=j;return this};i.prototype.setUseLongCacheForManifest=function(j){"use strict";this.$VideoPushParametersHelper7=j;return this};i.prototype.getURL=function(){"use strict";var j=this.getPushQueryParameters();j.forEach(function(k,l){this.$VideoPushParametersHelper1.addQueryData(l,k)}.bind(this));return this.$VideoPushParametersHelper1.toString()};i.prototype.getPushQueryParameters=function(){"use strict";__p&&__p();var j=new Map(),k=h.test(this.$VideoPushParametersHelper1.toString());if(k&&c("VideoPlayerShakaGlobalConfig").getBool("live_send_push_headers",true)){if(this.$VideoPushParametersHelper2!=null)j.set("_nc_p_n",this.$VideoPushParametersHelper2);if(this.$VideoPushParametersHelper3!=null)j.set("_nc_p_ts",this.$VideoPushParametersHelper3);else if(this.$VideoPushParametersHelper4!=null)j.set("_nc_p_o",this.$VideoPushParametersHelper4);if(this.$VideoPushParametersHelper5!=null&&this.$VideoPushParametersHelper6!=null){j.set("_nc_p_rid",this.$VideoPushParametersHelper5);j.set("_nc_p_arid",this.$VideoPushParametersHelper6)}if(this.$VideoPushParametersHelper7)j.set("_nc_nc","1")}return j};i.prototype.getSegmentsToPush=function(){"use strict";return this.$VideoPushParametersHelper2};i.prototype.getSegmentStartTime=function(){"use strict";return this.$VideoPushParametersHelper3};i.prototype.getSegmentOffset=function(){"use strict";return this.$VideoPushParametersHelper4};i.prototype.getPushVideoRepresentationID=function(){"use strict";return this.$VideoPushParametersHelper5};i.prototype.getPushAudioRepresentationID=function(){"use strict";return this.$VideoPushParametersHelper6};i.prototype.getUseLongCacheForManifest=function(){"use strict";return this.$VideoPushParametersHelper7};i.getDefaultLiveStreamEndOffset=function(){"use strict";return c("VideoPlayerShakaGlobalConfig").getNumber("live_default_stream_end_offset",3)};f.exports=i}),null);
__d("XVideoDataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_data_async/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:true},is_ad:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:false},allow_dash_prefetch:{type:"Bool",defaultValue:false},force_hd:{type:"Bool",defaultValue:false}})}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function a(b,c,d,e,f,g){f.exports=c("memoize")(function(){return!!c("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function a(b,c,d,e,f,g){var h=function h(i){if(i){var j=c("canVideoPlayType")(c("VideoMimeTypes").h264main30avc);return j!=="probably"}return!c("supportsHTML5Video")()};f.exports=h}),null);
__d("VideoPlayerMetaData",["invariant","regeneratorRuntime","Promise","AsyncResponse","AsyncRequest","VideoDashPrefetchCache","VideoData","VideoPushParametersHelper","XVideoDataAsyncController","isHTML5VideoImplementationUnavailable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j=12e4;function k(l){this.videoID=l}k.prototype.getVideoID=function(){return this.videoID};k.prototype.genVideoData=function l(){__p&&__p();var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments[1],o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:q.prev=0;o=this.$VideoPlayerMetaData1;if(!o||m.forceRefetch){if(this.$VideoPlayerMetaData2){clearTimeout(this.$VideoPlayerMetaData2);this.$VideoPlayerMetaData2=null}o=this.$VideoPlayerMetaData1=this.$VideoPlayerMetaData3(m);this.$VideoPlayerMetaData2=setTimeout(function(){this.$VideoPlayerMetaData1=null;n()}.bind(this),m.cacheTimeout||j)}q.next=5;return c("regeneratorRuntime").awrap(o);case 5:return q.abrupt("return",q.sent);case 8:q.prev=8;q.t0=q["catch"](0);throw q.t0;case 11:case"end":return q.stop()}},null,this,[[0,8]])};k.prototype.$VideoPlayerMetaData3=function(l){__p&&__p();var m=c("XVideoDataAsyncController").getURIBuilder().setString("video_id",this.videoID).setBool("supports_html5_video",!c("isHTML5VideoImplementationUnavailable")(true)),n=l.forceFlash,o=l.allowDashPrefetch,p=l.forceHD;if(n!==undefined)m=m.setBool("force_flash",n);if(o!==undefined)m=m.setBool("allow_dash_prefetch",o);if(p!==undefined)m=m.setBool("force_hd",p);var q=m.getURI();return new(c("Promise"))(function(r,s){new(c("AsyncRequest"))(q).setMethod("GET").setURI(q).setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(t){var u=t.payload;if(!u.error)r(new(c("VideoData"))(u));else s(u.error)}).setErrorHandler(function(t){s(t.getErrorDescription())}).send()})};k.get=function(l){if(!i[l])i[l]=new k(l);return i[l]};k.genVideoData=function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:q.next=2;return c("regeneratorRuntime").awrap(k.get(m).genVideoData(n,o));case 2:return q.abrupt("return",q.sent);case 3:case"end":return q.stop()}},null,this)};f.exports=k}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function a(b,c,d,e,f,g){f.exports=c("VideoQualityClassInternal").orderedValues}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],k=44,l="-"+k+"px 0px 0px";h=babelHelpers.inherits(m,c("EventEmitter"));i=h&&h.prototype;function m(n){"use strict";__p&&__p();i.constructor.call(this);this.$VideoVisibilityObserver3=function(o){var p=o[o.length-1],q=this.$VideoVisibilityObserver1;this.$VideoVisibilityObserver1=p.intersectionRatio;if(q!==this.$VideoVisibilityObserver1)this.emit("visibilityChanged",this.$VideoVisibilityObserver1)}.bind(this);this.$VideoVisibilityObserver1=0;this.$VideoVisibilityObserver2=new(c("IntersectionObserver"))(this.$VideoVisibilityObserver3,{threshold:j,rootMargin:l});this.$VideoVisibilityObserver2.observe(n)}m.prototype.destroy=function(){"use strict";if(this.$VideoVisibilityObserver2){this.$VideoVisibilityObserver2.disconnect();this.$VideoVisibilityObserver2=null}};m.prototype.getCurrentIntersectionRatio=function(){"use strict";return this.$VideoVisibilityObserver1};f.exports=m}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={awaitingUpdate:false},this.isFullscreen=function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return!!this.props.isFullscreen}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen()}.bind(this),n}l.prototype.render=function(){var m=Object.assign({},this.props);delete m.isFullscreen;delete m.onToggleFullscreen;return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},m,{className:c("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};l.propTypes={disabled:k.bool,image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func};f.exports=l}),null);
__d("VideoConfig",[],(function a(b,c,d,e,f,g){function h(i){Object.assign(this,i)}f.exports=h}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i.dangerouslyOverrideMediaElementEndedProperty=true;return i}h.isEnded=function(event){return!!(event&&event.detail&&event.detail.dangerouslyOverrideMediaElementEndedProperty)};f.exports=h}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function a(b,c,d,e,f,g){function h(i){if(i.readyState>=c("HTMLMediaElementReadyStates").HAVE_METADATA)return i.muted;else return i.hasAttribute("muted")||i.muted}f.exports=h}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function a(b,c,d,e,f,g){__p&&__p();var h=-1,i=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function j(l,event){__p&&__p();l.time_ms=Date.now();var m=event.timeStamp;if(m&&i){var n=Math.floor(m).toString().length,o=Date.now().toString().length,p=window.performance.now();if(n===o+3){m=Math.floor(m/1e3);l.time_ms=m}else if(n===o)l.time_ms=m;else if(m<=p){var q=window.performance.timing.navigationStart;l.time_ms=q+Math.floor(m)}}return l}var k={initLogger:function l(m,n){__p&&__p();this._loggedEvents={};this._logFunction=m;this._useEventTime=n;var o=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c("getHTMLMediaElementMutedState")(o);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=o.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=h;var p=false;if(o.readyState>=o.HAVE_FUTURE_DATA)this._logReadyToPlay();else p=true;if(this.skipSubscriptions())return;var q=this.getSubscriptions();if(p)q.addSubscriptions(c("EventListener").listen(o,"canplay",this._logReadyToPlay.bind(this)));q.addSubscriptions(c("EventListener").listen(o,"ended",this.onEnded.bind(this)),c("EventListener").listen(o,"pause",this.onPause.bind(this)),c("EventListener").listen(o,"playing",this.onPlaying.bind(this)),c("EventListener").listen(o,"seeked",this.onSeeked.bind(this)),c("EventListener").listen(o,"seeking",this.onSeeking.bind(this)),c("EventListener").listen(o,"play",this.onPlay.bind(this)),c("EventListener").listen(o,"loadedmetadata",this.onLoadedMetadata.bind(this)),c("EventListener").listen(o,"timeupdate",this.onTimeUpdate.bind(this)),c("EventListener").listen(o,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function l(){return false},onCanPlay:function l(m){this._logReadyToPlay(m)},onPlay:function l(m){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true},logHeartbeat:function l(){if(c("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(c("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var m=this._getVideoCurrentTime();this._lastStartTimePosition=m;this._lastPlayedTime=m}else this._logEvent(c("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function l(m){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},m))},_logOnce:function l(event,m){if(this._loggedEvents[event])return;this._logEvent(event,m)},_logEvent:function l(event,m){__p&&__p();this._loggedEvents[event]=true;var n=m?m:{};n.video_id=this.getVideoID();if(!Object.prototype.hasOwnProperty.call(n,"video_time_position"))n.video_time_position=this._getVideoCurrentTime();if(!n.time_ms)n.time_ms=Date.now();n.time=Math.round(n.time_ms/1e3);if(this.getAdClientToken){var o=this.getAdClientToken();if(o)n.ad_client_token=o}if(this.getPlayerFormat)n.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)n.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)n.player_suborigin=this.getPlayerSuborigin();if(this.getExternalLogIDAndType){var p=this.getExternalLogIDAndType(),q=p.externalLogID,r=p.externalLogType;n.external_log_id=q;n.external_log_type=r}this._logFunction(event,n)},_logReadyToPlay:function l(){this._logOnce(c("VideoPlayerLoggerEvent").READY_TO_PLAY)},onPause:function l(m){__p&&__p();this._logNextPlayingEvent=true;var n=this.getVideoElement();if(this._pendingPlayRequest){var o={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,o);return}var event=n.ended||c("VideoPlayerExperiments").abortLoadingDecisioningLogic&&c("dangerouslyOverrideMediaElementEndedProperty").isEnded(m)?c("VideoPlayerLoggerEvent").FINISHED_PLAYING:c("VideoPlayerLoggerEvent").PAUSED,p=this._getVideoCurrentTime();if(p)this._lastPlayedTime=p;var q=this._lastPlayedTime,r=m.lastPauseReason;if(event===c("VideoPlayerLoggerEvent").FINISHED_PLAYING)q=Math.max(q,n.duration);else if(this.preventPauseLoggingInMixin===true)return;else if(this.preventPauseLoggingInMixin===false)r=r||"unloaded";this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q,debug_reason:r},m));this._lastStartTimePosition=h},onEnded:function l(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==h&&c("UserAgent").isBrowser("IE"))this.onPause({})},logRepresentationEnded:function l(m){__p&&__p();if(m){var n={representation_id:m.representationID,next_representation_id:m.nextRepresentationID,stream_switch_reason:m.streamSwitchReason};if(c("VideoPlayerHTML5Experiments").newStateChangeCalculation)n=this._getWatchTimeClosingLogData(n);this._logEvent(c("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,n);if(c("VideoPlayerHTML5Experiments").newStateChangeCalculation){var o=this._getVideoCurrentTime();this._lastStartTimePosition=o;this._lastPlayedTime=o}}},addWatchTimeData:function l(m){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){m.video_last_start_time_position=this._lastStartTimePosition;m.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h}return m},getLastPlayReason:function l(){return null},getVideoPlayReason:function l(){return null},onPlaying:function l(m){__p&&__p();if(!this._logNextPlayingEvent)return;if(c("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return}var n=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c("VideoPlayerLoggerEvent").STARTED_PLAYING]?c("VideoPlayerLoggerEvent").UNPAUSED:c("VideoPlayerLoggerEvent").STARTED_PLAYING,o=this._amendEventTime({debug_reason:n,video_play_reason:this.getVideoPlayReason()},m),p=this._getVideoCurrentTime();if(c("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var q=this.getVideoElement().currentTime,r=q-p;o.time_ms-=Math.round(r*1e3)}this._logEvent(event,o);this._lastStartTimePosition=p;this._lastPlayedTime=p;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function l(){this._allowNextSeek=true},onSeeked:function l(m){__p&&__p();this._seeking=false;var n=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return}this._allowNextSeek=false;this._ignoreNextPlaying=false;var o={video_seek_source_time_position:n};if(this._lastStartTimePosition!==h)o.video_last_start_time_position=this._lastStartTimePosition;else o.video_last_start_time_position=n;this._logEvent(c("VideoPlayerLoggerEvent").SCRUBBED,this._amendEventTime(o,m));var p=this.getVideoElement();if(p.paused)this._lastStartTimePosition=h;else this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function l(m){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true}},onTimeUpdate:function l(m){this._currentTimeAtLoadedMetadataCache=null;var n=this.getVideoElement();if(!n.paused)this._lastPlayedTime=this._getVideoCurrentTime()},onVolumeChange:function l(m){__p&&__p();var n=this.getVideoElement(),o={},event=null;if(c("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var p=n.muted,q=this._muted,r=n.volume,s=this._volume;o.current_volume=Math.round(r*100);this._volume=r;this._muted=p;var t=p||r==0,u=q||s==0;if(u&&t)return;if(u!=t)if(t)event=c("VideoPlayerLoggerEvent").MUTED;else event=c("VideoPlayerLoggerEvent").UNMUTED;else{if(s==r)return;if(r<s)event=c("VideoPlayerLoggerEvent").VOLUME_DECREASE;else event=c("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else{if(n.muted!==this._muted&&n.volume===this._volume&&n.volume>0)event=n.muted?c("VideoPlayerLoggerEvent").MUTED:c("VideoPlayerLoggerEvent").UNMUTED;else{event=n.volume>this._volume?c("VideoPlayerLoggerEvent").VOLUME_INCREASE:c("VideoPlayerLoggerEvent").VOLUME_DECREASE;o.current_volume=Math.round(n.volume*100)}this._muted=n.muted;this._volume=n.volume}this._logEvent(event,this._amendEventTime(o,m))},_amendEventTime:function l(m,event){var n=this._useEventTime;if(c("VideoPlayerHTML5Experiments").fixEventTimeLogging)n=n&&event;if(n)return j(m,event);else m.time_ms=Date.now();return m},_getVideoCurrentTime:function l(){var m=this.getVideoElement().currentTime.toFixed(2);if(c("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)m=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(c("VideoPlayerHTML5Experiments").fixCurrentTimeType)return+m;return m},onLoadedMetadata:function l(m){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime}};f.exports=k}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","clearInterval","performanceNow","setInterval"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new(c("SubscriptionsHandler"))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c("Event").listen(this.$MediaBufferingDetector1,"playing",function(){return this.$MediaBufferingDetector8()}.bind(this)),c("Event").listen(this.$MediaBufferingDetector1,"pause",function(){return this.$MediaBufferingDetector9()}.bind(this)),c("Event").listen(this.$MediaBufferingDetector1,"ended",function(){return this.$MediaBufferingDetector10()}.bind(this)),c("Event").listen(this.$MediaBufferingDetector1,"timeupdate",function(){return this.$MediaBufferingDetector11()}.bind(this)))}j.prototype.$MediaBufferingDetector12=function(){"use strict";var k=c("performanceNow")(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1e3,p=m-o,q=c("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;if(m*.2<Math.abs(p)&&!q)this.$MediaBufferingDetector13();else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15()};j.prototype.$MediaBufferingDetector15=function(){"use strict";this.$MediaBufferingDetector5=c("performanceNow")();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};j.prototype.$MediaBufferingDetector7=function(){"use strict";if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c("setInterval")(function(){return this.$MediaBufferingDetector12()}.bind(this),500)};j.prototype.$MediaBufferingDetector16=function(){"use strict";c("clearInterval")(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null};j.prototype.$MediaBufferingDetector13=function(){"use strict";if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit("bufferingStart")};j.prototype.$MediaBufferingDetector14=function(){"use strict";if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit("bufferingEnd")};j.prototype.$MediaBufferingDetector8=function(){"use strict";this.$MediaBufferingDetector14();this.$MediaBufferingDetector7()};j.prototype.$MediaBufferingDetector9=function(){"use strict";this.$MediaBufferingDetector14();this.$MediaBufferingDetector16()};j.prototype.$MediaBufferingDetector10=function(){"use strict";this.$MediaBufferingDetector14();this.$MediaBufferingDetector16()};j.prototype.$MediaBufferingDetector11=function(){"use strict";if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7()}};j.prototype.destroy=function(){"use strict";if(c("VideoPlayerExperiments").fireBufferingEndEventOnDestroy)this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release()};f.exports=j}),null);
__d("VideoPlaybackQuality",[],(function a(b,c,d,e,f,g){__p&&__p();function h(j){if(typeof j.getVideoPlaybackQuality==="function")return j.getVideoPlaybackQuality().droppedVideoFrames;var k=j.webkitDroppedFrameCount;if(typeof k==="number")return k;return 0}function i(j){if(typeof j.getVideoPlaybackQuality==="function")return j.getVideoPlaybackQuality().totalVideoFrames;var k=j.webkitDecodedFrameCount;if(typeof k==="number")return k;return 0}f.exports={getDroppedFrames:h,getTotalFrames:i}}),null);
__d("XLiveBroadcastCaptionsURIFetchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live/broadcast/captions/uri/",{video_id:{type:"String"}})}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k){return k>=c("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function j(k,l){k instanceof window.HTMLMediaElement||h(0);if(i(k.readyState))c("setImmediate")(l);return c("EventListener").listen(k,"canplay",l)}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o)}.bind(this))};f.exports=j}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function a(b,c,d,e,f,g){__p&&__p();function h(j){return j>=c("HTMLMediaElementReadyStates").HAVE_METADATA}function i(j,k){if(h(j.readyState))c("setImmediate")(k);return c("EventListener").listen(j,"loadedmetadata",k)}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n)}.bind(this))};f.exports=i}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){__p&&__p();if(i.currentTime==j)return k&&c("setImmediate")(k);try{i.currentTime=j}catch(l){}if(i.currentTime)var m=c("EventListener").listen(i,"seeked",function(){m.remove();k&&k()});else c("onLoadedMetadataHTMLMediaElement")(i,function(){i.currentTime=j;var m=c("EventListener").listen(i,"seeked",function(){m.remove();k&&k()})})}f.exports=h}),null);
__d("VideoPlayerHTML5Api",["cx","Promise","regeneratorRuntime","AsyncRequest","AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","ErrorUtils","DOM","DOMDimensions","Event","EventListener","HVideoPlayerMixin","StaleVideoMonitor","MediaBufferingDetector","Run","SubscriptionsHandler","VideoData","VideoFrameBuffer","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerVersions","VideoPlayerShakaGlobalConfig","VideoPlayerExperiments","VideoQualityClasses","XLiveBroadcastCaptionsURIFetchAsyncController","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","classWithMixins","isHTML5VideoImplementationUnavailable","getHTMLMediaElementMutedState","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo","VideoPlaybackQuality","Deferred"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("VideoPlaybackQuality").getDroppedFrames,l=c("VideoPlaybackQuality").getTotalFrames,m=null;c("requireWeak")("TVViewerConfigsManager",function(u){return m=u});function n(u){switch(u){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function o(u){switch(u){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+u+" is unknown"}}var p=-1,q=.05,r=476,s=476;i=babelHelpers.inherits(t,c("classWithMixins")(c("AbstractVideoPlayerApi"),c("mixin")(c("HVideoPlayerMixin"))));j=i&&i.prototype;function t(u,v){"use strict";__p&&__p();j.constructor.call(this);this.getDebug=function(){return{VideoPlayerHTML5Shaka:this.$VideoPlayerHTML5Api37}}.bind(this);this.$VideoPlayerHTML5Api36=u;this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api36.id;this.preventSeekLoggingInMixin=c("VideoPlayerShakaGlobalConfig").getBool("improve_rebuffer_logging",true);var w=this.$VideoPlayerHTML5Api60();this.$VideoPlayerHTML5Api52=w.width;this.$VideoPlayerHTML5Api14=w.height;if(v)this.$VideoPlayerHTML5Api9=v;else this.$VideoPlayerHTML5Api9=JSON.parse(this.$VideoPlayerHTML5Api36.getAttribute("data-config"));this.$VideoPlayerHTML5Api5=new(c("MediaBufferingDetector"))(this.$VideoPlayerHTML5Api36);this.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api61()}.bind(this));this.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api62()}.bind(this));this.$VideoPlayerHTML5Api24=p;this.$VideoPlayerHTML5Api26=c("getHTMLMediaElementMutedState")(this.$VideoPlayerHTML5Api36);this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api36.volume;this.$VideoPlayerHTML5Api25=false;this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api30=false;this.$VideoPlayerHTML5Api3=false;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api36.getAttribute("preload")=="auto";this.$VideoPlayerHTML5Api33=null;this.$VideoPlayerHTML5Api38=new(c("StaleVideoMonitor"))(this.$VideoPlayerHTML5Api36);this.$VideoPlayerHTML5Api38.addListener("stale",function(y,z){return this.$VideoPlayerHTML5Api63(y,z)}.bind(this));this.$VideoPlayerHTML5Api12=false;this.$VideoPlayerHTML5Api41=false;this.$VideoPlayerHTML5Api56=this.$VideoPlayerHTML5Api9.useStrictTrackDimensionsExclusionLogic;this.$VideoPlayerHTML5Api35=typeof this.$VideoPlayerHTML5Api9.resolutionConstraintFactor==="number"?this.$VideoPlayerHTML5Api9.resolutionConstraintFactor:c("VideoPlayerShakaGlobalConfig").getNumber("resolution_constraint_factor",2);if(this.$VideoPlayerHTML5Api9.lazyPreload)if(this.$VideoPlayerHTML5Api9.onafterloadRegister)c("Run").onAfterLoad(function(){return this.$VideoPlayerHTML5Api36.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload)}.bind(this));else this.$VideoPlayerHTML5Api36.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload);this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api9.disableNativeControls;this.$VideoPlayerHTML5Api44=this.$VideoPlayerHTML5Api9.subtitlesActive;this.$VideoPlayerHTML5Api64();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api42=new(c("SubscriptionsHandler"))();this.$VideoPlayerHTML5Api65();this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api9.useRateLimited;this.$VideoPlayerHTML5Api66(false);var x=c("VideoQualityClasses").indexOf("hd");this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api9.minQuality!==null&&c("VideoQualityClasses").indexOf(this.$VideoPlayerHTML5Api9.minQuality)>=x;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api9.minQuality;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api9.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api9.accessToken;this.$VideoPlayerHTML5Api39=this.$VideoPlayerHTML5Api9.startTimestamp;this.$VideoPlayerHTML5Api34=q;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api9.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api67.bind(this),this.$VideoPlayerHTML5Api9.useEventTime);this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api31=null;this.$VideoPlayerHTML5Api53=false;this.$VideoPlayerHTML5Api54=false;this.$VideoPlayerHTML5Api55=this.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest}t.prototype.getAdClientToken=function(){"use strict";this.$VideoPlayerHTML5Api9.ad_client_token};t.prototype.$VideoPlayerHTML5Api63=function(u,v){"use strict";this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:u,stale_video_current_time_delta:v});if(this.$VideoPlayerHTML5Api9.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs==="number")this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs/1e3);if(c("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled)this.emit("videoNodeStaled")};t.prototype.$VideoPlayerHTML5Api61=function(){"use strict";this.emit("buffering");this.$VideoPlayerHTML5Api38.notifyBuffering()};t.prototype.$VideoPlayerHTML5Api62=function(){"use strict";this.emit("buffered");this.$VideoPlayerHTML5Api38.notifyBuffered()};t.prototype.$VideoPlayerHTML5Api69=function(){"use strict";this.emit("networkInterrupted")};t.prototype.$VideoPlayerHTML5Api70=function(){"use strict";this.emit("networkResumed")};t.prototype.$VideoPlayerHTML5Api71=function(){"use strict";this.emit("streamInterrupted");this.$VideoPlayerHTML5Api53=true};t.prototype.$VideoPlayerHTML5Api72=function(){"use strict";this.emit("streamResumed");this.$VideoPlayerHTML5Api53=false};t.prototype.isStreamInterrupted=function(){"use strict";return this.$VideoPlayerHTML5Api53};t.prototype.getVideoID=function(){"use strict";if(this.$VideoPlayerHTML5Api10)return this.$VideoPlayerHTML5Api10.getVideoID();return this.$VideoPlayerHTML5Api9.video_id};t.prototype.getDroppedFrames=function(){"use strict";return k(this.$VideoPlayerHTML5Api36)};t.prototype.getTotalFrames=function(){"use strict";return l(this.$VideoPlayerHTML5Api36)};t.prototype.getDOMElement=function(){"use strict";return this.$VideoPlayerHTML5Api36};t.prototype.getVideoElement=function(){"use strict";return this.$VideoPlayerHTML5Api36};t.prototype.getSubscriptions=function(){"use strict";return this.$VideoPlayerHTML5Api42};t.onImplementationReady=function(u,v){"use strict";v()};t.prototype.destroy=function(u){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api12)return;this.$VideoPlayerHTML5Api12=true;this.$VideoPlayerHTML5Api73();if(c("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy)this.$VideoPlayerHTML5Api5.destroy();if(c("VideoPlayerHTML5Experiments").destroyWithoutStillFrame)this.abortLoadingWithoutStillFrame();else this.abortLoading(u);this.$VideoPlayerHTML5Api74();if(this.$VideoPlayerHTML5Api75)c("DOM").remove(this.$VideoPlayerHTML5Api75);if(c("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy)this.$VideoPlayerHTML5Api42.release()};t.prototype.getVideoInfo=function(){"use strict";if(!this.$VideoPlayerHTML5Api10)return null;var u=this.getAvailableVideoQualities();return{isHD:u&&this.getSelectedVideoQuality()==u[u.length-1],streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:u&&u.length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api18,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api37?"DASH manifest":this.$VideoPlayerHTML5Api76(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api20,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null}};t.isImplementationUnavailable=function(u){"use strict";return c("isHTML5VideoImplementationUnavailable")(u)};t.prototype.pause=function(u){"use strict";__p&&__p();this.$VideoPlayerHTML5Api22=u;if(u==="unloaded"&&!this.isPaused()){var v=this.$VideoPlayerHTML5Api55||c("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;if(v&&this.$VideoPlayerHTML5Api17)this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"}));else this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api54=true;this.preventPauseLoggingInMixin=true}this.$VideoPlayerHTML5Api77();if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.pause();else this.$VideoPlayerHTML5Api36.pause()};t.prototype.$VideoPlayerHTML5Api66=function(u){"use strict";this.$VideoPlayerHTML5Api17=u};t.prototype.preload=function(){"use strict";if(!this.$VideoPlayerHTML5Api32){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api78();this.$VideoPlayerHTML5Api32=true;this.$VideoPlayerHTML5Api36.setAttribute("preload","auto")}};t.prototype.isPreloading=function(){"use strict";return this.$VideoPlayerHTML5Api32};t.prototype.play=function(u){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Api49)this.$VideoPlayerHTML5Api49=u;this.$VideoPlayerHTML5Api23=u;if(!this.isPaused()){if(c("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent){c("dispatchEvent")(this.$VideoPlayerHTML5Api36,"play");setTimeout(function(){return c("dispatchEvent")(this.$VideoPlayerHTML5Api36,"playing")}.bind(this),0)}else this.$VideoPlayerHTML5Api79();return}this.$VideoPlayerHTML5Api30=true;this.$VideoPlayerHTML5Api66(true);if(this.$VideoPlayerHTML5Api1){c("dispatchEvent")(this.$VideoPlayerHTML5Api36,"play");this.$VideoPlayerHTML5Api78();this.$VideoPlayerHTML5Api3=true;return}this.$VideoPlayerHTML5Api80()};t.prototype.$VideoPlayerHTML5Api77=function(){"use strict";if(this.$VideoPlayerHTML5Api3&&this.isPaused())c("dispatchEvent")(this.$VideoPlayerHTML5Api36,"pause");this.$VideoPlayerHTML5Api66(false);this.$VideoPlayerHTML5Api81()};t.prototype.$VideoPlayerHTML5Api81=function(){"use strict";this.$VideoPlayerHTML5Api30=false;this.$VideoPlayerHTML5Api3=false};t.prototype.$VideoPlayerHTML5Api82=function(){"use strict";this.$VideoPlayerHTML5Api36.setAttribute("preload","auto");this.$VideoPlayerHTML5Api32=true;this.$VideoPlayerHTML5Api36.load();this.$VideoPlayerHTML5Api36.muted=this.$VideoPlayerHTML5Api26};t.prototype.seek=function(u){"use strict";__p&&__p();var v=c("VideoPlayerShakaGlobalConfig").getBool("clear_buffer_on_seek_back",false),w=c("VideoPlayerShakaGlobalConfig").getNumber("clear_buffer_on_seek_back_delta",0);if(this.$VideoPlayerHTML5Api37&&v&&typeof w==="number"&&this.$VideoPlayerHTML5Api36.currentTime-u>=w)this.$VideoPlayerHTML5Api37.clearBufferAfterSeekingIfLowerQuality(u);this.allowNextSeekInMixin();if(c("VideoPlayerShakaGlobalConfig").getBool("current_time_during_ready_state_zero_throws",false)){if(this.$VideoPlayerHTML5Api36.readyState!==0)this.$VideoPlayerHTML5Api36.currentTime=u}else try{this.$VideoPlayerHTML5Api36.currentTime=u}catch(x){}};t.prototype.removeRotation=function(){"use strict";c("CSS").removeClass(this.$VideoPlayerHTML5Api36,"_56jr");c("CSS").removeClass(this.$VideoPlayerHTML5Api36,"_56js");c("CSS").removeClass(this.$VideoPlayerHTML5Api36,"_56jt");this.$VideoPlayerHTML5Api36.style.marginLeft="";this.$VideoPlayerHTML5Api36.style.marginTop="";this.$VideoPlayerHTML5Api36.style.width="";this.$VideoPlayerHTML5Api36.style.height=""};t.prototype.applyRotation=function(u){"use strict";__p&&__p();if(!u)return;c("CSS").conditionClass(this.$VideoPlayerHTML5Api36,"_56jr",u==90);c("CSS").conditionClass(this.$VideoPlayerHTML5Api36,"_56js",u==180);c("CSS").conditionClass(this.$VideoPlayerHTML5Api36,"_56jt",u==270);if(u==180)return;var v=this.$VideoPlayerHTML5Api14,w=this.$VideoPlayerHTML5Api52,x=(v-w)/2,y=(w-v)/2;this.$VideoPlayerHTML5Api36.style.marginLeft=y+"px";this.$VideoPlayerHTML5Api36.style.marginTop=x+"px";this.$VideoPlayerHTML5Api36.style.height=w+"px";this.$VideoPlayerHTML5Api36.style.width=v+"px"};t.prototype.switchVideo=function(u){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=u)return;var v=new(c("VideoData"))(this.$VideoPlayerHTML5Api9.videoData[u]);this.$VideoPlayerHTML5Api10=v;if((v.hasDashManifest()||v.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported()&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var w,x;this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&v.hasHighlightsManifest();w=v.getDashManifest();if(v.isLiveStream())x=v.getLiveManifestUrl();var y=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api36,v.getDashPrefetchedRepresentationIDs(),{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api9.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api27,maxPlayQuality:this.$VideoPlayerHTML5Api28,width:this.$VideoPlayerHTML5Api52,height:this.$VideoPlayerHTML5Api14,manifest:w,manifestUrl:x,isLive:v.isLiveStream(),startTimestamp:this.$VideoPlayerHTML5Api39,videoID:this.getVideoID(),disableStreaming:this.$VideoPlayerHTML5Api9.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,resolutionConstraintFactor:this.$VideoPlayerHTML5Api35,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api9.vpcPlayingStateEmitter});y.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api61()}.bind(this));y.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api62()}.bind(this));y.addListener("tracksChanged",function(){return this.emit("qualityChange")}.bind(this));y.addListener("streamInterrupted",function(){return this.$VideoPlayerHTML5Api71()}.bind(this));y.addListener("streamResumed",function(){return this.$VideoPlayerHTML5Api72()}.bind(this));y.addListener("networkInterrupted",function(){return this.$VideoPlayerHTML5Api69()}.bind(this));y.addListener("networkResumed",function(){return this.$VideoPlayerHTML5Api70()}.bind(this));y.addListener("adaptation",function(A){var B=A.reason;this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:B});this.emit("qualityChange")}.bind(this));y.addListener("representation_ended",function(A){this.logRepresentationEnded(A)}.bind(this));y.addListener("debug/shakaEvent",function(A){return this.emit("debug/shakaEvent",A)}.bind(this));y.addListener("error",function(A){return this.$VideoPlayerHTML5Api83(A)}.bind(this));y.addListener("cea608CaptionsParsed",function(A){if(!this.$VideoPlayerHTML5Api59)this.$VideoPlayerHTML5Api59=this.$VideoPlayerHTML5Api84();this.$VideoPlayerHTML5Api59.then(function(B){B.appendFragments(A);this.$VideoPlayerHTML5Api85()}.bind(this))["catch"](function(B){c("ErrorUtils").reportError(B)})}.bind(this));this.$VideoPlayerHTML5Api37=y}else{var z=this.$VideoPlayerHTML5Api76();if(z)this.$VideoPlayerHTML5Api36.src=z;if(this.$VideoPlayerHTML5Api39)this.seek(this.$VideoPlayerHTML5Api39)}this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.removeSubtitles();if(v.hasSubtitles())this.$VideoPlayerHTML5Api86(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(v.getRotation())};t.prototype.switchToStreamType=function(u){"use strict"};t.prototype.replaceVideoDataFromURL=function(u){"use strict"};t.prototype.getDashAudioConfiguration=function(){"use strict";return this.$VideoPlayerHTML5Api37?this.$VideoPlayerHTML5Api37.getDashAudioConfiguration():"none"};t.prototype.getAudioStreamInfoIDDebug=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api37){var u=this.$VideoPlayerHTML5Api37.getDebug().VideoSource.getAudioTracks();for(var v=u,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(z.active)return z.streamInfoID}}return null};t.prototype.getCurrentlyPlayingStreamInfoID=function(){"use strict";var u=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api37&&u!=null)return this.$VideoPlayerHTML5Api37.getStreamInfoIDForTimePosition(u);return null};t.prototype.getLocalEstimator=function(){"use strict";if(this.$VideoPlayerHTML5Api37)return this.$VideoPlayerHTML5Api37.getLocalEstimator();return null};t.prototype.unmute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api26=false;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api36.muted=false};t.prototype.mute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api26=true;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api36.muted=true};t.prototype.setRotation=function(u){"use strict";this.removeRotation();this.applyRotation(u)};t.prototype.setDimensions=function(u,v){"use strict";__p&&__p();this.removeRotation();this.$VideoPlayerHTML5Api52=u;this.$VideoPlayerHTML5Api14=v;this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation());if(this.$VideoPlayerHTML5Api40)this.$VideoPlayerHTML5Api40.updateDimensions(u,v);if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.setDimensions(u,v);if(this.$VideoPlayerHTML5Api43)this.$VideoPlayerHTML5Api43.setDimensions(u);this.emit("dimensionsChange",u,v)};t.prototype.setVideoStreamOffset=function(u){"use strict";if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.setVideoStreamOffset(u)};t.prototype.$VideoPlayerHTML5Api87=function(){"use strict";this.$VideoPlayerHTML5Api36.controls=!this.$VideoPlayerHTML5Api11};t.prototype.$VideoPlayerHTML5Api64=function(){"use strict";this.$VideoPlayerHTML5Api36.controls=this.$VideoPlayerHTML5Api36.controls&&!this.$VideoPlayerHTML5Api11};t.prototype.$VideoPlayerHTML5Api65=function(){"use strict";this.$VideoPlayerHTML5Api13=c("EventListener").listen(this.$VideoPlayerHTML5Api36,"error",this.$VideoPlayerHTML5Api88.bind(this));if(!c("VideoPlayerMemLeakExperiments").clear_html5_error_handler)this.$VideoPlayerHTML5Api42.addSubscriptions(this.$VideoPlayerHTML5Api13);this.$VideoPlayerHTML5Api42.addSubscriptions(c("EventListener").listen(this.$VideoPlayerHTML5Api36,"playing",this.$VideoPlayerHTML5Api89.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"play",this.$VideoPlayerHTML5Api79.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"ended",this.$VideoPlayerHTML5Api90.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"waiting",this.$VideoPlayerHTML5Api91.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"pause",this.$VideoPlayerHTML5Api92.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"volumechange",this.$VideoPlayerHTML5Api93.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"mousedown",this.$VideoPlayerHTML5Api94.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"mouseup",this.$VideoPlayerHTML5Api95.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"timeupdate",this.$VideoPlayerHTML5Api96.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"click",this.$VideoPlayerHTML5Api97.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"loadedmetadata",this.$VideoPlayerHTML5Api98.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"progress",this.$VideoPlayerHTML5Api99.bind(this)),c("EventListener").listen(this.$VideoPlayerHTML5Api36,"seeked",this.$VideoPlayerHTML5Api100.bind(this)),c("EventListener").capture(this.$VideoPlayerHTML5Api36.parentNode,"pause",this.$VideoPlayerHTML5Api101.bind(this)))};t.prototype.$VideoPlayerHTML5Api102=function(u){"use strict";this.preventPauseLoggingInMixin=false;u.preventDefault();u.stopPropagation()};t.prototype.$VideoPlayerHTML5Api101=function(u){"use strict";if(u.target!==this.$VideoPlayerHTML5Api36)return;if(!this.$VideoPlayerHTML5Api36.ended){this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api102(u);u.lastPauseReason=this.$VideoPlayerHTML5Api22}this.$VideoPlayerHTML5Api54=false};t.prototype.$VideoPlayerHTML5Api99=function(){"use strict";__p&&__p();var u=this.$VideoPlayerHTML5Api36.buffered,v=0,w=0,x=u.length;while(x-->0){var y=u.end(x),z=u.start(x);if(z<=this.$VideoPlayerHTML5Api36.currentTime){w=z;v=y-z;break}}this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api103("flash/updateBuffer",{duration:v,offset:w})};t.prototype.$VideoPlayerHTML5Api73=function(){"use strict";clearTimeout(this.$VideoPlayerHTML5Api29)};t.prototype.$VideoPlayerHTML5Api68=function(){"use strict";this.$VideoPlayerHTML5Api73();if(this.$VideoPlayerHTML5Api36.networkState===this.$VideoPlayerHTML5Api36.NETWORK_LOADING)this.$VideoPlayerHTML5Api29=setTimeout(function(){return this.$VideoPlayerHTML5Api104()}.bind(this),t.networkTimeout)};t.prototype.$VideoPlayerHTML5Api104=function(){"use strict";var u=this.$VideoPlayerHTML5Api36.buffered,v=0;for(var w=0;w<u.length;w++){var x=u.start(w),y=u.end(w);v+=y-x}this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:v})};t.prototype.$VideoPlayerHTML5Api96=function(){"use strict";var u;if(this.$VideoPlayerHTML5Api1)u=this.$VideoPlayerHTML5Api1.currentTime;else u=this.$VideoPlayerHTML5Api36.currentTime;this.$VideoPlayerHTML5Api103("flash/updateStatus",{position:+u.toFixed(3)})};t.prototype.$VideoPlayerHTML5Api97=function(u){"use strict";if(u.button!==0)return;this.emit("clickVideo");u.preventDefault()};t.prototype.isPaused=function(){"use strict";if(c("VideoPlayerHTML5Experiments").fixIE11EndedPausedState)return this.$VideoPlayerHTML5Api36.paused||this.$VideoPlayerHTML5Api36.ended;return this.$VideoPlayerHTML5Api36.paused};t.prototype.$VideoPlayerHTML5Api105=function(){"use strict";var u=this.$VideoPlayerHTML5Api36.buffered;return u.length>0&&u.start(0)===0&&u.end(0)===this.$VideoPlayerHTML5Api36.duration};t.prototype.$VideoPlayerHTML5Api91=function(){"use strict";if(!this.$VideoPlayerHTML5Api105()){this.$VideoPlayerHTML5Api51=true;this.$VideoPlayerHTML5Api103("flash/buffering")}};t.prototype.setVolume=function(u){"use strict";this.$VideoPlayerHTML5Api36.volume=u};t.prototype.$VideoPlayerHTML5Api93=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api36.muted!==this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api36.volume===this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api36.volume>0){this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api36.muted;this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api36.volume;if(!this.$VideoPlayerHTML5Api36.muted)this.$VideoPlayerHTML5Api103("flash/unmuteVideo");else this.$VideoPlayerHTML5Api103("flash/muteVideo")}else{this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api36.muted;this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api36.volume;this.$VideoPlayerHTML5Api103("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api36.volume})}if(!this.$VideoPlayerHTML5Api36.muted)this.$VideoPlayerHTML5Api103("flash/turnOffAutoplay",{reason:"unmuted"})};t.prototype.$VideoPlayerHTML5Api94=function(u){"use strict";if(u.button===0)this.$VideoPlayerHTML5Api25=true};t.prototype.$VideoPlayerHTML5Api95=function(u){"use strict";if(u.button===0)this.$VideoPlayerHTML5Api25=false};t.prototype.$VideoPlayerHTML5Api89=function(){"use strict";this.$VideoPlayerHTML5Api66(false);if(this.$VideoPlayerHTML5Api51){this.$VideoPlayerHTML5Api51=false;this.$VideoPlayerHTML5Api103("flash/buffered")}};t.prototype.$VideoPlayerHTML5Api79=function(){"use strict";this.$VideoPlayerHTML5Api18=true;this.$VideoPlayerHTML5Api87();this.$VideoPlayerHTML5Api85();this.$VideoPlayerHTML5Api103("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api36.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api23});this.$VideoPlayerHTML5Api68()};t.prototype.$VideoPlayerHTML5Api92=function(event){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api36.ended||c("VideoPlayerExperiments").abortLoadingDecisioningLogic&&c("dangerouslyOverrideMediaElementEndedProperty").isEnded(event)){this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api66(false);return}if(this.$VideoPlayerHTML5Api36.seeking&&this.$VideoPlayerHTML5Api22===c("VideoPlayerReason").SEEK)return;if(!c("VideoPlayerShakaGlobalConfig").getBool("ignore_left_button_when_pausing",true)&&this.$VideoPlayerHTML5Api25)return;if(this.$VideoPlayerHTML5Api22===c("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api22=null;return}if(this.$VideoPlayerHTML5Api22===null||this.$VideoPlayerHTML5Api22===c("VideoPlayerReason").USER)this.$VideoPlayerHTML5Api103("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api66(false);this.$VideoPlayerHTML5Api64();this.$VideoPlayerHTML5Api103("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api36.currentTime.toFixed(2)})};t.prototype.$VideoPlayerHTML5Api90=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api64();this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api66(false);this.$VideoPlayerHTML5Api103("flash/finishPlayback");this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.hideSubtitles()};t.prototype.$VideoPlayerHTML5Api100=function(){"use strict";this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api36.currentTime.toFixed(3)})};t.prototype.getEstimatedBandwidth=function(){"use strict";if(this.$VideoPlayerHTML5Api37)if(this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka)return this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth();return null};t.prototype.$VideoPlayerHTML5Api98=function(){"use strict";this.$VideoPlayerHTML5Api103("flash/updateMetadata")};t.prototype.$VideoPlayerHTML5Api83=function(u){"use strict";this.emit("error",babelHelpers["extends"]({},u,{isPlayback:this.$VideoPlayerHTML5Api30}))};t.prototype.$VideoPlayerHTML5Api88=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api36.error)return;var u=this.$VideoPlayerHTML5Api36.error,v=u.message;if(!v)v=n(u.code);this.emit("error",{error:o(u.code),isPlayback:this.$VideoPlayerHTML5Api30,message:v})};t.prototype.$VideoPlayerHTML5Api67=function(event,u){"use strict";if(event===c("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api37)u.longest_init_response_time=this.$VideoPlayerHTML5Api37.getLongestInitResponseTime();u.projection=this.getVideoProjection();this.$VideoPlayerHTML5Api103("flash/logEvent",{logData:babelHelpers["extends"]({event:event},u)})};t.prototype.$VideoPlayerHTML5Api103=function(event,u){"use strict";c("Arbiter").inform(event,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api15},u));this.emit(event.substr("flash/".length),u)};t.prototype.getLastPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api23};t.prototype.getVideoPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api49};t.prototype.isMuted=function(){"use strict";return this.$VideoPlayerHTML5Api26};t.prototype.setPlaybackRate=function(u){"use strict";if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.setPlaybackRate(u);else this.$VideoPlayerHTML5Api36.playbackRate=u};t.prototype.getPlaybackDuration=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api36.duration||0};t.prototype.getVolume=function(){"use strict";return this.$VideoPlayerHTML5Api36.volume};t.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerHTML5Api36.currentTime};t.prototype.getBufferEndPosition=function(){"use strict";var u=this.$VideoPlayerHTML5Api36.buffered;if(u&&u.length>0){var v=u.length-1;return u.end(v)}return null};t.prototype.$VideoPlayerHTML5Api76=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api10.hasHD())return this.$VideoPlayerHTML5Api106();else return this.$VideoPlayerHTML5Api107()};t.prototype.$VideoPlayerHTML5Api106=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD()};t.prototype.$VideoPlayerHTML5Api107=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD()};t.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerHTML5Api44=!this.$VideoPlayerHTML5Api44;this.$VideoPlayerHTML5Api85();this.emit("toggleSubtitles")};t.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api37&&this.$VideoPlayerHTML5Api37.hasSubtitles()};t.prototype.areSubtitlesActive=function(){"use strict";return this.$VideoPlayerHTML5Api44};t.prototype.areHLSActive=function(){"use strict";return false};t.prototype.isRTMP=function(){"use strict";return false};t.prototype.setSubtitlesStyle=function(u,v,w,x){"use strict";this.$VideoPlayerHTML5Api45=u;this.$VideoPlayerHTML5Api46=v;this.$VideoPlayerHTML5Api47=w;this.$VideoPlayerHTML5Api48=x};t.prototype.$VideoPlayerHTML5Api85=function(){"use strict";if(this.$VideoPlayerHTML5Api37&&this.$VideoPlayerHTML5Api37.hasSubtitles())this.$VideoPlayerHTML5Api37.enableSubtitles(this.$VideoPlayerHTML5Api44);if(this.$VideoPlayerHTML5Api44)this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.showSubtitles();else this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.hideSubtitles()};t.prototype.$VideoPlayerHTML5Api108=function(){"use strict";if(this.$VideoPlayerHTML5Api18)this.$VideoPlayerHTML5Api85();this.emit("loadedSubtitles");this.$VideoPlayerHTML5Api43.setSubtitlesStyle(this.$VideoPlayerHTML5Api45,this.$VideoPlayerHTML5Api46,this.$VideoPlayerHTML5Api47,this.$VideoPlayerHTML5Api48)};t.prototype.$VideoPlayerHTML5Api86=function(u){"use strict";__p&&__p();c("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(v,w){if(this.$VideoPlayerHTML5Api43)this.$VideoPlayerHTML5Api43.removeSubtitles();var x=this.$VideoPlayerHTML5Api9.subtitleDrawer,y=new w(this.$VideoPlayerHTML5Api36,u);this.$VideoPlayerHTML5Api43=new v(this.$VideoPlayerHTML5Api36,y);this.$VideoPlayerHTML5Api43.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api108()}.bind(this));this.$VideoPlayerHTML5Api43.registerDrawer(x);this.$VideoPlayerHTML5Api43.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api")};t.prototype.$VideoPlayerHTML5Api84=function(){"use strict";__p&&__p();var u=new(c("Deferred"))();c("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(v,w){__p&&__p();var x=new w(this.$VideoPlayerHTML5Api36);u.resolve(x);if(this.$VideoPlayerHTML5Api43)this.$VideoPlayerHTML5Api43.removeSubtitles();var y=this.$VideoPlayerHTML5Api9.subtitleDrawer;this.$VideoPlayerHTML5Api43=new v(this.$VideoPlayerHTML5Api36,x);this.$VideoPlayerHTML5Api43.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api108()}.bind(this));this.$VideoPlayerHTML5Api43.registerDrawer(y);this.$VideoPlayerHTML5Api43.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api");return u.getPromise()};t.prototype.setStillFrameEnabled=function(u){"use strict";this.$VideoPlayerHTML5Api41=!u};t.prototype.$VideoPlayerHTML5Api60=function(){"use strict";__p&&__p();if(c("VideoPlayerShakaGlobalConfig").getBool("use_dimensions_fallbacks",true)){var u=c("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api36);if(u.width!==0&&u.height!==0)return u;else{var v=this.$VideoPlayerHTML5Api36.getAttribute("data-video-width"),w=this.$VideoPlayerHTML5Api36.getAttribute("data-video-height");return{width:Number(v)||this.$VideoPlayerHTML5Api36.width||r,height:Number(w)||this.$VideoPlayerHTML5Api36.height||s}}}else return c("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api36)};t.prototype.$VideoPlayerHTML5Api109=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api41)return;var u;if(!this.$VideoPlayerHTML5Api40){var v=this.$VideoPlayerHTML5Api60(),w=c("DOM").create("canvas",{width:v.width,height:v.height,className:"_3t5i"});c("DOM").insertAfter(this.$VideoPlayerHTML5Api36,w);this.$VideoPlayerHTML5Api40=u=new(c("VideoFrameBuffer"))(w,this.$VideoPlayerHTML5Api36)}else u=this.$VideoPlayerHTML5Api40;c("CSS").show(u.getDOMNode());u.updateFrameBuffer();c("CSS").hide(this.$VideoPlayerHTML5Api36)};t.prototype.$VideoPlayerHTML5Api74=function(){"use strict";if(!this.$VideoPlayerHTML5Api40)return;c("CSS").hide(this.$VideoPlayerHTML5Api40.getDOMNode());c("CSS").show(this.$VideoPlayerHTML5Api36)};t.prototype.$VideoPlayerHTML5Api78=function(){__p&&__p();var u=arguments.length<=0||arguments[0]===undefined?null:arguments[0];"use strict";var v=this.$VideoPlayerHTML5Api1;if(!v)return;if(this.$VideoPlayerHTML5Api21)return;this.$VideoPlayerHTML5Api21=true;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();var w=u==null?v.currentTime:u;if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.reload(w);else{var x=this.$VideoPlayerHTML5Api76();if(x)this.$VideoPlayerHTML5Api36.src=x;this.$VideoPlayerHTML5Api36.preload=v.preload}c("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api36,w,function(){this.$VideoPlayerHTML5Api74();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api36.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;this.emit("restoredAfterAbort")}this.$VideoPlayerHTML5Api21=false;c("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api36,function(){return this.$VideoPlayerHTML5Api80()}.bind(this))}.bind(this))};t.prototype.abortLoadingWithoutStillFrame=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api1)return;var u=this.$VideoPlayerHTML5Api36.currentTime,v=this.isMuted(),w=this.$VideoPlayerHTML5Api36.duration,x=this.isPaused(),y=this.$VideoPlayerHTML5Api36.preload;this.$VideoPlayerHTML5Api32=false;this.$VideoPlayerHTML5Api1={mutedState:v,currentTime:u,playbackDuration:w,preload:y};if(x&&this.$VideoPlayerHTML5Api18)c("dispatchEvent")(this.$VideoPlayerHTML5Api36,"pause");this.emit("abortedLoading");if(this.$VideoPlayerHTML5Api37){this.$VideoPlayerHTML5Api37.unload();return}this.$VideoPlayerHTML5Api36.preload="none";this.$VideoPlayerHTML5Api36.removeAttribute("src");this.$VideoPlayerHTML5Api36.load()};t.prototype.abortLoading=function(u){"use strict";if(this.$VideoPlayerHTML5Api1)return;u=u||{};if(!u.disableStillFrame)this.$VideoPlayerHTML5Api109();this.abortLoadingWithoutStillFrame()};t.prototype.setPreferredVideoQuality=function(u){"use strict";__p&&__p();this.$VideoPlayerHTML5Api31=u;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api37&&c("VideoPlayerShakaGlobalConfig").getBool("improve_rebuffer_logging",true)){this.$VideoPlayerHTML5Api37.setPreferredVideoQuality(u);return}if(!c("VideoPlayerHTML5Experiments").newStateChangeCalculation){this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"}));this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:c("VideoPlayerReason").USER})}if(this.$VideoPlayerHTML5Api37&&!c("VideoPlayerShakaGlobalConfig").getBool("improve_rebuffer_logging",true)){this.$VideoPlayerHTML5Api37.setPreferredVideoQuality(u);return}this.$VideoPlayerHTML5Api19=!this.$VideoPlayerHTML5Api19;var v=this.$VideoPlayerHTML5Api36.currentTime,w=this.$VideoPlayerHTML5Api36.muted,x=this.$VideoPlayerHTML5Api36.volume,y=this.$VideoPlayerHTML5Api76();if(y)this.$VideoPlayerHTML5Api36.src=y;c("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api36,function(){this.$VideoPlayerHTML5Api36.currentTime=v;this.$VideoPlayerHTML5Api36.muted=w;this.$VideoPlayerHTML5Api36.volume=x;this.$VideoPlayerHTML5Api80();this.emit("qualityChange")}.bind(this));this.$VideoPlayerHTML5Api30=true;this.$VideoPlayerHTML5Api66(true);this.$VideoPlayerHTML5Api82()};t.prototype.unsetPreferredVideoQuality=function(){"use strict";this.$VideoPlayerHTML5Api31=null;if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.unsetPreferredVideoQuality()};t.prototype.getPreferredVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api31};t.prototype.getSelectedVideoQuality=function(){"use strict";if(this.$VideoPlayerHTML5Api37)return this.$VideoPlayerHTML5Api37.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api19?"HD":"SD"};t.prototype.getAvailableVideoQualities=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api10)return[];if(this.$VideoPlayerHTML5Api37)return this.$VideoPlayerHTML5Api37.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api10.hasHD()?["SD","HD"]:["SD"]};t.prototype.getIsAbrEnabled=function(){"use strict";if(this.$VideoPlayerHTML5Api37)return this.$VideoPlayerHTML5Api37.getIsAbrEnabled();return false};t.prototype.canAutoSelectVideoQuality=function(){"use strict";if(this.$VideoPlayerHTML5Api37)return this.$VideoPlayerHTML5Api37.canAutoSelectVideoQuality();return false};t.prototype.setPreloadDisabled=function(u){"use strict";if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.setPreloadDisabled(u)};t.prototype.restoreStreamBufferSize=function(){"use strict";if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.restoreStreamBufferSize()};t.prototype.setSmartBufferAdjustmentEnabled=function(u){"use strict";if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.setSmartBufferAdjustmentEnabled(u)};t.getPlayerVersion=function(){"use strict";return c("VideoPlayerVersions").PLEASANTVILLE};t.prototype.getVideoNodeSource=function(){"use strict";return this.$VideoPlayerHTML5Api36.src||""};t.prototype.getVideoProjection=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33;if(this.$VideoPlayerHTML5Api37){this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api37.getVideoProjection();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33}this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api33};t.prototype.$VideoPlayerHTML5Api110=function(){"use strict";this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};t.prototype.$VideoPlayerHTML5Api111=function(){"use strict";if(this.$VideoPlayerHTML5Api7){this.$VideoPlayerHTML5Api34=this.$VideoPlayerHTML5Api7;this.$VideoPlayerHTML5Api7=null}else this.$VideoPlayerHTML5Api34=q};t.prototype.$VideoPlayerHTML5Api112=function(){"use strict";this.$VideoPlayerHTML5Api8=this.getVolume();this.$VideoPlayerHTML5Api6=this.isMuted()};t.prototype.$VideoPlayerHTML5Api113=function(){"use strict";if(this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6){this.setVolume(this.$VideoPlayerHTML5Api8);if(this.$VideoPlayerHTML5Api6)this.mute();else this.unmute();this.$VideoPlayerHTML5Api8=null;this.$VideoPlayerHTML5Api6=null}};t.prototype.reloadDashManifest=function(){"use strict";var u=this.$VideoPlayerHTML5Api37;if(u){this.$VideoPlayerHTML5Api110();this.abortLoading();return this.$VideoPlayerHTML5Api114(function(){return u.refreshDashManifest()},this.$VideoPlayerHTML5Api34)}return c("Promise").reject()};t.prototype.reloadLiveVODHighlightsManifest=function(){"use strict";var u=this.$VideoPlayerHTML5Api37;if(u){this.$VideoPlayerHTML5Api110();this.abortLoading();return this.$VideoPlayerHTML5Api114(function(){return u.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api34)}return c("Promise").reject()};t.prototype.$VideoPlayerHTML5Api114=function(u,v){"use strict";return u().then(function(){this.$VideoPlayerHTML5Api78(v);this.$VideoPlayerHTML5Api111()}.bind(this))};t.prototype.isPlayingVODHighlights=function(){"use strict";if(this.$VideoPlayerHTML5Api37)return this.$VideoPlayerHTML5Api37.isPlayingLiveVODHighlights();return false};t.prototype.$VideoPlayerHTML5Api80=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api30){if(this.$VideoPlayerHTML5Api3)var u=c("EventListener").capture(this.$VideoPlayerHTML5Api36.parentNode,"play",function(y){c("Event").kill(y);u.remove()});if(this.$VideoPlayerHTML5Api36.ended&&!this.$VideoPlayerHTML5Api36.paused)c("dispatchEvent")(this.$VideoPlayerHTML5Api36,"play");var v=null;if(this.$VideoPlayerHTML5Api37){var w=this.$VideoPlayerHTML5Api37,x=m&&m.isReady()&&m.get("www_videos_shaka_wait_for_buffered");v=x?this.$VideoPlayerHTML5Api115():w.play()}else{if(c("VideoPlayerHTML5Experiments").preloadOnPlay)this.$VideoPlayerHTML5Api36.preload="auto";v=this.$VideoPlayerHTML5Api36.play()}if(v&&v["catch"])v["catch"](function(y){if(y.name==="NotAllowedError")this.$VideoPlayerHTML5Api67(c("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"});this.$VideoPlayerHTML5Api66(false)}.bind(this))}this.$VideoPlayerHTML5Api81()};t.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.$VideoPlayerHTML5Api16};t.prototype.$VideoPlayerHTML5Api115=function u(){__p&&__p();var v,w,x,y;return c("regeneratorRuntime").async(function z(A){__p&&__p();while(1)switch(A.prev=A.next){case 0:"use strict";v=3;case 2:if(!(!this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api37)){A.next=13;break}if(!(this.$VideoPlayerHTML5Api36.buffered.length>0)){A.next=9;break}w=this.$VideoPlayerHTML5Api36.buffered.start(0);x=this.$VideoPlayerHTML5Api36.buffered.end(0);y=Math.round(x-w)>=v;if(!(y&&this.$VideoPlayerHTML5Api37)){A.next=9;break}return A.abrupt("return",this.$VideoPlayerHTML5Api37.play());case 9:A.next=11;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(B){return setTimeout(B,100)}));case 11:A.next=2;break;case 13:return A.abrupt("return",null);case 14:case"end":return A.stop()}},null,this)};t.getStreamTypeFromConfig=function(u){"use strict";var v=new(c("VideoData"))(u.videoData[0]);return v.getStreamType()};t.getIsPlayingLiveFromConfig=function(u){"use strict";var v=new(c("VideoData"))(u.videoData[0]);return v.isLiveStream()};t.getIsFacecastAudioFromConfig=function(u){"use strict";var v=new(c("VideoData"))(u.videoData[0]);return v.isFacecastAudio()};t.getIsSpherical=function(u){"use strict";var v=new(c("VideoData"))(u.videoData[0]);return v.isSpherical()};t.networkTimeout=5e3;f.exports=t}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","isNode","getContextualLayerCursorOffset"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=Object.prototype.hasOwnProperty,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={shown:false,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$MountedContextMenu6=function(s){var t=s.clientX,u=s.clientY;s.preventDefault();s.stopPropagation();this.showAt(t,u)}.bind(this),this.$MountedContextMenu7=function(s){var t=this.$MountedContextMenu3(),u=t&&c("DOMQuery").contains(t,s.target),v=s.button===0;if(!(u&&v))this.hide()}.bind(this),this.$MountedContextMenu8=function(){if(this.props.disableFocusOutline)c("Focus").setWithoutOutline(this.$MountedContextMenu2())}.bind(this),this.$MountedContextMenu9=function(){var s=this.$MountedContextMenu2();if(this.props.disableFocusOutline)c("Focus").setWithoutOutline(s);else c("Focus").set(s);if(this.state.shown)this.hide()}.bind(this),this.$MountedContextMenu10=function(){this.hide()}.bind(this),o}m.prototype.getDefaultProps=function(){return{disableFocusOutline:false}};m.prototype.$MountedContextMenu2=function(){return this.props.mountedTriggerElem};m.prototype.$MountedContextMenu3=function(){var n=this.refs.popover.getMenu();return n&&n.getRoot()};m.prototype.$MountedContextMenu4=function(){return this.refs.menuLayer.layer};m.prototype.renderLayers=function(){return c("React").createElement(c("ContextualLayer.react"),{alignment:"right",behaviors:[c("LayerHideOnEscape")],contextRef:function(){return this.$MountedContextMenu2()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:"menuLayer",shown:this.state.shown,key:"menu"},c("React").createElement(c("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:"popover"},c("React").createElement("div",{className:"_4345",ref:"fakeTrigger"})))};m.prototype.render=function(){if(this.props.mountedTriggerElem)return c("React").createElement("span",null,this.renderLayers());return null};m.prototype.$MountedContextMenu5=function(n,o){var p=this.$MountedContextMenu4(),q=c("getContextualLayerCursorOffset")(p,n,o),r=q.offsetX,s=q.offsetY;p.setOffsetX(r).setOffsetY(s);this.setState({offsetX:r,offsetY:s})};m.prototype.componentDidMount=function(){var n=this.$MountedContextMenu2(),o=c("ReactDOM").findDOMNode(this.refs.fakeTrigger),p=this.$MountedContextMenu4(),q=this.refs.popover;this.$MountedContextMenu1=new(c("SubscriptionsHandler"))();this.$MountedContextMenu1.addSubscriptions(c("Event").listen(n,"contextmenu",this.$MountedContextMenu6),c("Event").listen(document.body,"mousedown",this.$MountedContextMenu7),c("Event").listen(n,"focus",this.$MountedContextMenu8),c("Event").listen(o,"focus",this.$MountedContextMenu9),c("Event").listen(window,"blur",this.$MountedContextMenu10),p.subscribe("show",function(){var r=this.state.lastOpenedX,s=this.state.lastOpenedY;this.$MountedContextMenu5(r,s);q.showPopover()}.bind(this)),p.subscribe("hide",function(){q.hidePopover()}))};m.prototype.componentWillUnmount=function(){this.$MountedContextMenu1&&this.$MountedContextMenu1.release()};m.prototype.show=function(){this.setState({shown:true})};m.prototype.showAt=function(n,o){this.setState({lastOpenedX:n,lastOpenedY:o});this.show()};m.prototype.hide=function(){this.setState({shown:false})};m.propTypes={disableFocusOutline:l.bool,menu:function n(o,p,q){if(!k.call(o,p))return new Error(q+"."+p+" is required");var n=o[p],r=n&&n.type;if(!(r&&r.prototype instanceof c("PopoverMenuInterface")))return new Error(p+" must implement PopoverMenuInterface");return null},mountedTriggerElem:function n(o,p,q){if(!k.call(o,p))return new Error(q+"."+p+" is required");else if(!c("isNode")(o[p]))return new Error(q+"."+p+" must be a raw DOM node");return null}};f.exports=m}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","ContextualLayer.react","DOMQuery","Event","FBClipboardLink.react","Focus","FullScreen","getFullScreenElement","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","VideoContextMenuGK","VideoPlayerExperiments","isNode"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=Object.prototype.hasOwnProperty,m=c("ReactXUIMenu").Item,n=c("React").PropTypes,o=.35,p=6,q=60;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){__p&&__p();var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={permalinkVisible:false,fullscreened:false,screenWidth:screen.width,screenHeight:screen.height},this.$VideoPlayerHTML5ContextMenu2=function(){var x=c("getFullScreenElement")(),y=this.props.rootContainer,z=!!(c("FullScreen").isFullScreen()&&x&&y&&c("DOMQuery").contains(x,y));this.setState({fullscreened:z})}.bind(this),this.$VideoPlayerHTML5ContextMenu5=function(){if(this.props.paused)return i._("\u062a\u0634\u063a\u064a\u0644");else return i._("\u0625\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a")}.bind(this),this.$VideoPlayerHTML5ContextMenu6=function(){if(this.props.muted)return i._("\u0625\u0644\u063a\u0627\u0621 \u0643\u062a\u0645 \u0627\u0644\u0635\u0648\u062a");else return i._("\u0643\u062a\u0645 \u0627\u0644\u0635\u0648\u062a")}.bind(this),this.$VideoPlayerHTML5ContextMenu7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$VideoPlayerHTML5ContextMenu8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$VideoPlayerHTML5ContextMenu4=function(){c("Focus").set(c("ReactDOM").findDOMNode(this.refs.permalinkText));this.setState({permalinkVisible:true})}.bind(this),this.$VideoPlayerHTML5ContextMenu3=function(){this.setState({permalinkVisible:false})}.bind(this),this.$VideoPlayerHTML5ContextMenu9=function(){c("ReactDOM").findDOMNode(this.refs.permalinkText).select()}.bind(this),this.$VideoPlayerHTML5ContextMenu10=function(x){if(c("Event").getKeyCode(x)==c("Keys").ESC)this.setState({permalinkVisible:false})}.bind(this),this.$VideoPlayerHTML5ContextMenu11=function(x){x.preventDefault()},this.$VideoPlayerHTML5ContextMenu13=function(x){var y=this.props.permalinkURL;if(y){var z={width:x+"px"};return c("React").createElement("div",{className:"_26oo",style:z},c("React").createElement("input",{className:"_26op autofocus",onFocus:this.$VideoPlayerHTML5ContextMenu9,onKeyDown:this.$VideoPlayerHTML5ContextMenu10,onMouseUp:this.$VideoPlayerHTML5ContextMenu11,readOnly:true,ref:"permalinkText",type:"text",value:y}),c("React").createElement("button",{className:"_26oq",onClick:this.$VideoPlayerHTML5ContextMenu3},i._("\u0625\u063a\u0644\u0627\u0642")))}}.bind(this),t}r.prototype.componentDidMount=function(){var s=this.refs.permalinkLayer.layer;this.$VideoPlayerHTML5ContextMenu1=new(c("SubscriptionsHandler"))();this.$VideoPlayerHTML5ContextMenu1.addSubscriptions(c("FullScreen").subscribe("changed",this.$VideoPlayerHTML5ContextMenu2),s.subscribe("hide",this.$VideoPlayerHTML5ContextMenu3),s.subscribe("show",this.$VideoPlayerHTML5ContextMenu4))};r.prototype.componentWillUnmount=function(){this.$VideoPlayerHTML5ContextMenu1&&this.$VideoPlayerHTML5ContextMenu1.release()};r.prototype.hidePermalinkOverlay=function(){this.$VideoPlayerHTML5ContextMenu3()};r.prototype.$VideoPlayerHTML5ContextMenu12=function(){__p&&__p();var s=void 0,t=void 0;if(this.state.fullscreened){s=this.state.screenWidth;t=this.state.screenHeight}else{var u=this.props.rootContainer.getBoundingClientRect();s=u.width;t=u.height}return{width:s,height:t}};r.prototype.renderLayers=function(){var s=this.props.permalinkURL&&this.state.permalinkVisible,t=0,u=0,v=null,w=this.$VideoPlayerHTML5ContextMenu12(),x=w.width,y=w.height,z=x*o;t=x/2-z/2;u=-y+p;if(this.state.fullscreened)u+=q;v=this.$VideoPlayerHTML5ContextMenu13(z);return c("React").createElement(c("ContextualLayer.react"),{alignment:"left",behaviors:[c("LayerHideOnEscape"),c("LayerAutoFocus")],contextRef:function(){return this.props.videoContainer}.bind(this),offsetX:t,offsetY:u,position:"below",ref:"permalinkLayer",shown:s,key:"permalinkOverlay"},v)};r.prototype.$VideoPlayerHTML5ContextMenu14=function(){if(this.props.permalinkURL)if(c("VideoPlayerExperiments").copyLinkInContextMenu)return c("React").createElement(m,{ref:"copyPermalinkMenuItem"},c("React").createElement(c("FBClipboardLink.react"),{tooltip:null,tooltipSuccess:null,value:this.props.permalinkURL},i._("Copy Video URL")));else return c("React").createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu4,ref:"permalinkMenuItem"},i._("\u0625\u0638\u0647\u0627\u0631 \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0644\u0641\u064a\u062f\u064a\u0648"))};r.prototype.render=function(){var s=this.props.paused!==null&&c("React").createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu7},this.$VideoPlayerHTML5ContextMenu5()),t=c("React").createElement(c("ReactXUIMenu"),{className:c("VideoContextMenuGK").menuRedesign?"_45di":""},s,c("React").createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu8},this.$VideoPlayerHTML5ContextMenu6()),this.$VideoPlayerHTML5ContextMenu14(),this.props.children);return c("React").createElement("span",null,c("React").createElement(c("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoContainer,menu:t,ref:"menu"}),this.renderLayers())};r.propTypes={rootContainer:function s(t,u,v){if(!l.call(t,u))return new Error(v+"."+u+" is required");else if(!c("isNode")(t[u]))return new Error(v+"."+u+" must be a raw DOM node")},videoContainer:function s(t,u,v){if(!l.call(t,u))return new Error(v+"."+u+" is required");else if(!c("isNode")(t[u]))return new Error(v+"."+u+" must be a raw DOM node")},paused:n.bool,muted:n.bool,permalinkURL:n.string,onTogglePause:n.func.isRequired,onToggleMute:n.func.isRequired};f.exports=r}),null);
__d("VideoContextMenu",["EventListener","Bootloader","URI","React","ReactDOM","VideoPlayerHTML5ContextMenu.react","VideoPlayerReason","VideoPlayerStates","UserAgent","CurrentUser","isFacebookURI"],(function a(b,c,d,e,f,g){__p&&__p();var h=/(instagram)/g;function i(j,k,l){"use strict";__p&&__p();this.$VideoContextMenu10=function(){for(var o in this.$VideoContextMenu8){var p=this.$VideoContextMenu8[o].name,q=this.$VideoContextMenu8[o].option,r=this.$VideoContextMenu8[o].description,s=this.$VideoContextMenu8[o].closeMessage;if(this.$VideoContextMenu2.hasOption(p,q))this.$VideoContextMenu13(p,q,r,s);else this.$VideoContextMenu12(p,q)}this.$VideoContextMenu9()}.bind(this);this.$VideoContextMenu9=function(){if(this.$VideoContextMenu6)this.$VideoContextMenu14()}.bind(this);this.$VideoContextMenu11=function(o){var p=/^a$/i.test(o.target.nodeName||""),q=p||c("CurrentUser").isEmployee()&&(c("UserAgent").isPlatform("Mac OS X")?o.getModifiers().meta:o.getModifiers().ctrl);if(q&&this.$VideoContextMenu6){c("ReactDOM").unmountComponentAtNode(this.$VideoContextMenu4);delete this.$VideoContextMenu6}else if(!q&&!this.$VideoContextMenu6){o.preventDefault();this.$VideoContextMenu14()}}.bind(this);this.$VideoContextMenu8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$VideoContextMenu2=j;this.$VideoContextMenu3=l;this.$VideoContextMenu4=k;this.$VideoContextMenu1={};this.$VideoContextMenu5=null;if(this.$VideoContextMenu3.permalinkURL){var m=new(c("URI"))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI();if(!c("isFacebookURI")(m)){m.setSubdomain("www");m.setDomain(m.getDomain().replace(h,"facebook"))}this.$VideoContextMenu5=m.toString()}var n=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(o){return j.addListener(o,function(){if(this.$VideoContextMenu6)this.$VideoContextMenu6.hidePermalinkOverlay();this.$VideoContextMenu9()}.bind(this))}.bind(this));j.addListener("optionsChange",this.$VideoContextMenu10);this.$VideoContextMenu10();n.forEach(function(o){return j.addListener(o,this.$VideoContextMenu9)}.bind(this));c("EventListener").listen(this.$VideoContextMenu2.getRootNode(),"contextmenu",this.$VideoContextMenu11)}i.prototype.setPermalinkURL=function(j){"use strict";this.$VideoContextMenu5=j;this.$VideoContextMenu9()};i.prototype.$VideoContextMenu12=function(j,k){"use strict";if(this.$VideoContextMenu7)this.$VideoContextMenu7.removeMenuItem(j,k)};i.prototype.$VideoContextMenu13=function(j,k,l,m){"use strict";c("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(n){if(!this.$VideoContextMenu7)this.$VideoContextMenu7=new n(this.$VideoContextMenu2,this.$VideoContextMenu9);this.$VideoContextMenu7.addComponentOptionMenuItem(j,k,l,m)}.bind(this),"VideoContextMenu")};i.prototype.$VideoContextMenu15=function(j,k){"use strict";if(!this.$VideoContextMenu7)return undefined;return this.$VideoContextMenu7.getComponentOptionMenuItem(j,k)};i.prototype.$VideoContextMenu14=function(){"use strict";var j=this.$VideoContextMenu15(this.$VideoContextMenu8.debugOverlay.name,this.$VideoContextMenu8.debugOverlay.option),k=this.$VideoContextMenu15(this.$VideoContextMenu8.statsForNerds.name,this.$VideoContextMenu8.statsForNerds.option),l=this.$VideoContextMenu2.getRootNode(),m=this.$VideoContextMenu2.getContainerNode();this.$VideoContextMenu6=c("ReactDOM").render(c("React").createElement(c("VideoPlayerHTML5ContextMenu.react"),{rootContainer:l,videoContainer:m,paused:this.$VideoContextMenu16()?null:!this.$VideoContextMenu2.isState(c("VideoPlayerStates").PLAYING),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu17()}.bind(this),onToggleMute:function(){return this.$VideoContextMenu18()}.bind(this)},j,k),this.$VideoContextMenu4)};i.prototype.$VideoContextMenu16=function(){"use strict";if(this.$VideoContextMenu2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$VideoContextMenu2.isState(c("VideoPlayerStates").PAUSED))return true;var j=this.$VideoContextMenu2.getOption("VideoWithCommercialBreak","controller");if(j&&j.getIsDuringTransition())return true;return false};i.prototype.$VideoContextMenu18=function(){"use strict";if(this.$VideoContextMenu2.isMuted())this.$VideoContextMenu2.unmute();else this.$VideoContextMenu2.mute()};i.prototype.$VideoContextMenu17=function(){"use strict";if(!this.$VideoContextMenu2.isState("playing"))this.$VideoContextMenu2.play(c("VideoPlayerReason").USER);else this.$VideoContextMenu2.pause(c("VideoPlayerReason").USER)};f.exports=i}),null);
__d("CoverVideoOffsetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VERTICAL:0,HORIZONTAL:1})}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$VideoControllerPlayingStateEmitter2=null;this.$VideoControllerPlayingStateEmitter3=k}j.prototype.enable=function(){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var k=this.$VideoControllerPlayingStateEmitter2;this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();if(this.$VideoControllerPlayingStateEmitter2===k)return;this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)}.bind(this)));this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};j.prototype.setOnPlaying=function(k){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",k))};j.prototype.setOnPaused=function(k){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",k))};j.prototype.disable=function(){this.$VideoControllerPlayingStateEmitter2=null;if(this.$VideoControllerPlayingStateEmitter1){this.$VideoControllerPlayingStateEmitter1.release();this.$VideoControllerPlayingStateEmitter1=null}};j.prototype.$VideoControllerPlayingStateEmitter4=function(){if(!this.$VideoControllerPlayingStateEmitter1)this.$VideoControllerPlayingStateEmitter1=new(c("SubscriptionsHandler"))();return this.$VideoControllerPlayingStateEmitter1};j.prototype.$VideoControllerPlayingStateEmitter5=function(k){if(k==="playing")this.emit("play");else if(k==="paused")this.emit("pause")};f.exports=j}),null);
__d("VideoPlayerABRQualityTracker",["VideoPlayerAbrEvaluation"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$VideoPlayerABRQualityTracker1=i;this.$VideoPlayerABRQualityTracker2=null}h.prototype.setLastQualitySwitchReason=function(i){"use strict";this.$VideoPlayerABRQualityTracker2=i};h.prototype.getABREvaluation=function(){"use strict";__p&&__p();var i=[];if(this.$VideoPlayerABRQualityTracker1)i=this.$VideoPlayerABRQualityTracker1.flushABREvaluationSet();var j=0,k=0,l=0,m=0,n=this.$VideoPlayerABRQualityTracker2;for(var o=0;o<i.length;o++)switch(i[o]){case c("VideoPlayerAbrEvaluation").IDEAL:j++;break;case c("VideoPlayerAbrEvaluation").CONSERVATIVE:k++;break;case c("VideoPlayerAbrEvaluation").AGGRESSIVE:l++;break;case c("VideoPlayerAbrEvaluation").CONSERVATIVE_RESOLUTION_CONSTRAINED:m++;break}return{idealSamples:j,conservativeSamples:k,aggressiveSamples:l,conservativeResolutionConstrainedSamples:m,lastQualitySwitchReason:n}};f.exports=h}),null);
__d("VideoPlayerImmediatePlayReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WATCH_TIME_NOT_LOGGED:"watch_time_not_logged"})}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"})}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function a(b,c,d,e,f,g){f.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLogger",["invariant","Banzai","ErrorUtils","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerInitializationEvent","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","ex","performanceAbsoluteNow"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,j=c("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,k="video_player",l=5e3,m=function m(){return c("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?c("performanceAbsoluteNow")():Date.now()};function n(o,p){__p&&__p();this.$VideoPlayerLogger2=o;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=p;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger17=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger22();this.$VideoPlayerLogger23()}n.prototype.updateSource=function(o){this.$VideoPlayerLogger2=o};n.prototype.getSource=function(){return this.$VideoPlayerLogger2};n.prototype.logEvent=function(event,o){__p&&__p();o=babelHelpers["extends"]({},o,this.$VideoPlayerLogger4);o.initial_event=!Object.prototype.hasOwnProperty.call(this.$VideoPlayerLogger6,event);if(!Object.prototype.hasOwnProperty.call(o,"time_ms"))o.time_ms=m();if(!Object.prototype.hasOwnProperty.call(o,"time"))o.time=Math.round(o.time_ms/1e3);o.is_stalling=this.$VideoPlayerLogger24();o.error_user_info=this.$VideoPlayerLogger25(o.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(o,this.$VideoPlayerLogger3);switch(event){case c("VideoPlayerInitializationEvent").PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=o.time_ms;break;case c("VideoPlayerInitializationEvent").REQUESTED_PLAYING:case c("VideoPlayerInitializationEvent").STARTED_PLAYING:case c("VideoPlayerInitializationEvent").PLAYER_ALLOCATED:case c("VideoPlayerInitializationEvent").PLAYER_SENT_REQUEST:case c("VideoPlayerInitializationEvent").PLAYER_RECEIVED_FIRST_BYTE:case c("VideoPlayerInitializationEvent").BUFFER_READY:case c("VideoPlayerInitializationEvent").METADATA_READY:if(!o.initial_event)break;o.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break}switch(event){case c("VideoPlayerLoggerEvent").QUALITY_CHANGE:case c("VideoPlayerLoggerEvent").PAUSED:case c("VideoPlayerLoggerEvent").FINISHED_PLAYING:if(this.$VideoPlayerLogger21){var p=this.$VideoPlayerLogger21,q=p.getABREvaluation();o.ideal_samples=q.idealSamples;o.conservative_samples=q.conservativeSamples;o.aggressive_samples=q.aggressiveSamples;o.conservative_resolution_constrained_samples=q.conservativeResolutionConstrainedSamples;o.last_quality_switch_reason=q.lastQualitySwitchReason;if(o.reason)p.setLastQualitySwitchReason(o.reason)}break}switch(event){case c("VideoPlayerLoggerEvent").REQUESTED_PLAYING:this.$VideoPlayerLogger22();this.$VideoPlayerLogger26();if(this.$VideoPlayerLogger6[c("VideoPlayerLoggerEvent").STARTED_PLAYING])o.state=c("VideoPlayerLoggerPlayerStates").UNPAUSED;else o.state=c("VideoPlayerLoggerPlayerStates").STARTED;break;case c("VideoPlayerLoggerEvent").STARTED_PLAYING:case c("VideoPlayerLoggerEvent").UNPAUSED:case c("VideoPlayerLoggerEvent").FINISHED_PLAYING:case c("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING:case c("VideoPlayerLoggerEvent").ERROR:case c("VideoPlayerLoggerEvent").PAUSED:case c("VideoPlayerLoggerEvent").REPRESENTATION_ENDED:case c("VideoPlayerLoggerEvent").HEART_BEAT:if(event===c("VideoPlayerLoggerEvent").ERROR&&c("VideoPlayerExperiments").disableStallLoggingForError)break;if(event==c("VideoPlayerLoggerEvent").REPRESENTATION_ENDED&&!this.$VideoPlayerLogger6[c("VideoPlayerLoggerEvent").STARTED_PLAYING])break;if(event===c("VideoPlayerLoggerEvent").HEART_BEAT&&(!this.$VideoPlayerLogger6[c("VideoPlayerLoggerEvent").STARTED_PLAYING]||!c("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$VideoPlayerLogger24()))break;if(event===c("VideoPlayerLoggerEvent").HEART_BEAT)o.v2_heart_beat=true;if(event===c("VideoPlayerLoggerEvent").STARTED_PLAYING||event===c("VideoPlayerLoggerEvent").UNPAUSED){this.$VideoPlayerLogger10=o.time_ms;this.$VideoPlayerLogger27()}if(event===c("VideoPlayerLoggerEvent").ERROR&&o.state!==c("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;if(event===c("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[c("VideoPlayerLoggerEvent").STARTED_PLAYING])o.state=c("VideoPlayerLoggerPlayerStates").UNPAUSED;else o.state=c("VideoPlayerLoggerPlayerStates").STARTED;this.$VideoPlayerLogger28();this.$VideoPlayerLogger29();if(event===c("VideoPlayerLoggerEvent").PAUSED||event===c("VideoPlayerLoggerEvent").FINISHED_PLAYING){if(j&&event===c("VideoPlayerLoggerEvent").FINISHED_PLAYING)this.$VideoPlayerLogger27();o.recent_stalls_count=this.$VideoPlayerLogger30()}this.$VideoPlayerLogger31();this.$VideoPlayerLogger32(o);this.$VideoPlayerLogger33(o);this.$VideoPlayerLogger23();if(j)this.$VideoPlayerLogger27();this.$VideoPlayerLogger22();break}var r={logData:o,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)c("ErrorUtils").reportError(new Error(c("ex")("VideoPlayerLogger: Missing event name")),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===c("VideoPlayerLoggerSource").ANIMATED_IMAGE_SHARE)return null;if(o.ad_client_token||i&&o.playback_is_live_streaming)c("Banzai").post(k,r,c("Banzai").VITAL);else if(c("VideoPlayerHTML5Experiments").useVitalForClosing&&(event===c("VideoPlayerLoggerEvent").PAUSED||event===c("VideoPlayerLoggerEvent").FINISHED_PLAYING||event===c("VideoPlayerLoggerEvent").HEART_BEAT))c("Banzai").post(k,r,c("Banzai").VITAL);else if(c("VideoPlayerHTML5Experiments").useVitalForOpening&&(event===c("VideoPlayerLoggerEvent").UNPAUSED||event===c("VideoPlayerLoggerEvent").STARTED_PLAYING))c("Banzai").post(k,r,c("Banzai").VITAL);else c("Banzai").post(k,r);return r};n.prototype.setScriptPath=function(o){this.$VideoPlayerLogger1=o};n.prototype.setFTData=function(o){this.$VideoPlayerLogger3=o};n.prototype.setABRQualityTracker=function(o){this.$VideoPlayerLogger21=o};n.prototype.startBuffering=function(o){this.$VideoPlayerLogger26(o)};n.prototype.endBuffering=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34();this.$VideoPlayerLogger28();this.$VideoPlayerLogger31()};n.prototype.startInterrupt=function(){this.$VideoPlayerLogger35()};n.prototype.endInterrupt=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34()};n.prototype.$VideoPlayerLogger24=function(){return this.$VideoPlayerLogger13>0};n.prototype.$VideoPlayerLogger26=function(o){if(this.$VideoPlayerLogger24())return;this.$VideoPlayerLogger13=Date.now();if(o!==undefined&&this.$VideoPlayerLogger6[c("VideoPlayerLoggerEvent").STARTED_PLAYING])this.$VideoPlayerLogger14=o};n.prototype.$VideoPlayerLogger35=function(){if(this.$VideoPlayerLogger36())return;this.$VideoPlayerLogger18=Date.now()};n.prototype.$VideoPlayerLogger36=function(){return this.$VideoPlayerLogger18>0};n.prototype.$VideoPlayerLogger37=function(){if(!this.$VideoPlayerLogger36())return 0;return Date.now()-this.$VideoPlayerLogger18};n.prototype.$VideoPlayerLogger38=function(){return this.$VideoPlayerLogger24()?Date.now()-this.$VideoPlayerLogger13:0};n.prototype.$VideoPlayerLogger29=function(){if(this.$VideoPlayerLogger36()){var o=this.$VideoPlayerLogger37();this.$VideoPlayerLogger19+=o;this.$VideoPlayerLogger17+=o;this.$VideoPlayerLogger20+=1;this.$VideoPlayerLogger16+=1}};n.prototype.$VideoPlayerLogger34=function(){if(this.$VideoPlayerLogger36())this.$VideoPlayerLogger18=0};n.prototype.$VideoPlayerLogger23=function(){this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger20=0;this.$VideoPlayerLogger34()};n.prototype.$VideoPlayerLogger28=function(){__p&&__p();if(this.$VideoPlayerLogger24()){var o=this.$VideoPlayerLogger38();if(this.$VideoPlayerLogger14!==null)this.$VideoPlayerLogger15=o;this.$VideoPlayerLogger12+=o;this.$VideoPlayerLogger9+=o;this.$VideoPlayerLogger11++;this.$VideoPlayerLogger8++;if(j)this.$VideoPlayerLogger7.push(m())}};n.prototype.$VideoPlayerLogger31=function(){if(this.$VideoPlayerLogger24())this.$VideoPlayerLogger13=0};n.prototype.$VideoPlayerLogger25=function(o){if(o&&typeof o=="object")return JSON.stringify(o);return o};n.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8};n.prototype.getStallCount=function(){return this.$VideoPlayerLogger11};n.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger38()};n.prototype.getCumulativeInterruptCount=function(){return this.$VideoPlayerLogger16};n.prototype.getCumulativeInterruptTime=function(){return this.$VideoPlayerLogger17+this.$VideoPlayerLogger37()};n.prototype.$VideoPlayerLogger32=function(o){o.stall_time=Math.max(0,this.$VideoPlayerLogger12);o.stall_count=this.$VideoPlayerLogger11;if(this.$VideoPlayerLogger15){o.first_stall_time=this.$VideoPlayerLogger15;o.first_stall_start_position=this.$VideoPlayerLogger14}};n.prototype.$VideoPlayerLogger33=function(o){o.interrupt_time=Math.max(0,this.$VideoPlayerLogger19);o.interrupt_count=this.$VideoPlayerLogger20};n.prototype.$VideoPlayerLogger30=function(){var o=m(),p=o-l;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(q){return q>=p});if(!j)if(this.$VideoPlayerLogger11>0)this.$VideoPlayerLogger7.push(o);return this.$VideoPlayerLogger7.length};n.prototype.$VideoPlayerLogger22=function(){this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger13=0;this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger14=null;this.$VideoPlayerLogger15=0};n.prototype.$VideoPlayerLogger27=function(){this.$VideoPlayerLogger7=[]};n.prototype.getFTdata=function(){return this.$VideoPlayerLogger3};n.Sources=c("VideoPlayerLoggerSource");n.Errors=c("VideoPlayerLoggerErrors");n.FallbackReasons=c("VideoPlayerLoggerFallbackReasons");n.ErrorStates=c("VideoPlayerLoggerErrorStates");n.PlayerStates=c("VideoPlayerLoggerPlayerStates");f.exports=n}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(j,k){return j.getPriority()-k.getPriority()};function i(){this.$VideoPlayerUIComponentDrawerController1=[]}i.prototype.register=function(j,k){__p&&__p();var l=new(c("VideoPlayerUIComponentDrawer"))(j,k);l.addListener("reserve",function(){return this.$VideoPlayerUIComponentDrawerController2(j)}.bind(this));l.addListener("release",function(){return this.$VideoPlayerUIComponentDrawerController2(j)}.bind(this));l.addListener("heightChange",function(){return this.$VideoPlayerUIComponentDrawerController2(j)}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit("reposition",k);if(l.isReserved())k+=l.getHeight()})};f.exports=i}),null);
__d("VideoViewabilityPercentage",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OFFSCREEN:-2,VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","VideoPlayerExperiments","getElementPosition","getViewportDimensions"],(function a(b,c,d,e,f,g){__p&&__p();var h=42;function i(j,k){"use strict";this.$ViewabilityVideoElement1=j;this.$ViewabilityVideoElement2=k}i.prototype.feedViewabilityPercentage=function(){"use strict";var j=c("UITinyViewportAction").isTinyHeight();return this.$ViewabilityVideoElement3(!j)};i.prototype.viewabilityPercentage=function(){"use strict";return this.$ViewabilityVideoElement3(false)};i.prototype.isTopElement=function(j,k,l){"use strict";var m=document.elementFromPoint(k,l);return m===j||!!j&&j.contains(m)||!!m&&m.contains(j)};i.prototype.$ViewabilityVideoElement4=function(j,k,l){"use strict";__p&&__p();var m=c("VideoPlayerExperiments").viewabilityMinBlockSize||200,n=j[0],o=j[1],p=k[0],q=k[1],r=o-n,s=q-p,t=r===0||s===0,u=Math.floor((t?Math.max:Math.min)(r,s)*m/1e3);u=Math.max(u,1);var v=r>0?Math.ceil(u/2):0,w=s>0?Math.ceil(u/2):0,x=0,y=0;if(l===null)return[0,1];for(var z=n+v;z<=o;z+=u)for(var A=p+w;A<=q;A+=u){x+=1;if(this.isTopElement(l,z,A))y+=1}if(x===0)return[0,1];return[y,x]};i.prototype.$ViewabilityVideoElement5=function(j,k,l,m,n,o){"use strict";__p&&__p();var p=1,q=m+p,r=m+j-p,s=l+p,t=l+k-p,u=this.$ViewabilityVideoElement4([q,r],[s,s],n),v=u[0],w=u[1],x=this.$ViewabilityVideoElement4([q,r],[t,t],n),y=x[0],z=x[1],A=this.$ViewabilityVideoElement4([q,q],[s,t],n),B=A[0],C=A[1],D=this.$ViewabilityVideoElement4([r,r],[s,t],n),E=D[0],F=D[1],G=0,H=0;G=w+z+C+F;H=v+y+B+E;var I=H/G;if(I===1||I===0)return o*I;else{var J=this.$ViewabilityVideoElement4([q,r],[s,t],n),K=J[0],L=J[1];G+=L;H+=K;return o*(H/G)}};i.prototype.$ViewabilityVideoElement3=function(j){"use strict";__p&&__p();var k=c("getViewportDimensions")(),l=k.width,m=k.height,n=c("getElementPosition")(this.$ViewabilityVideoElement1);if(n.width===0||n.height===0)return 0;var o=n.x,p=n.x+n.width,q=n.y,r=n.y+n.height,s=j?h:0;if(p<=0||o>=l||r<=s||q>=m)return 0;var t=Math.min(p,l)-Math.max(o,0),u=Math.min(r,m)-Math.max(q,s),v=t*u*100/(n.width*n.height);if(c("VideoPlayerExperiments").viewabilityByPTS){var w=Math.max(q,s),x=Math.max(o,0);v=this.$ViewabilityVideoElement5(t,u,w,x,this.$ViewabilityVideoElement2,v)}return v};f.exports=i}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoViewabilityPercentage","ViewabilityVideoElement","BanzaiODS","Map"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("VideoPlayerExperiments").viewabilityPollingRate,i=new(c("Map"))([[0,c("VideoViewabilityPercentage").VIEWABLE_0],[25,c("VideoViewabilityPercentage").VIEWABLE_25],[50,c("VideoViewabilityPercentage").VIEWABLE_50],[75,c("VideoViewabilityPercentage").VIEWABLE_75],[100,c("VideoViewabilityPercentage").VIEWABLE_100]]);function j(k,l,m){"use strict";__p&&__p();this.$VideoViewabilityLogging12=function(n){if(!this.$VideoViewabilityLogging14())return;if(n-this.$VideoViewabilityLogging1>h){this.$VideoViewabilityLogging10();this.$VideoViewabilityLogging1=n}this.$VideoViewabilityLogging2=window.requestAnimationFrame(this.$VideoViewabilityLogging12)}.bind(this);this.$VideoViewabilityLogging9=function(){this.$VideoViewabilityLogging13()}.bind(this);this.$VideoViewabilityLogging8=function(){this.setLastLoggedViewability(this.getViewability());this.$VideoViewabilityLogging11()}.bind(this);this.$VideoViewabilityLogging1=0;this.$VideoViewabilityLogging4=k;this.$VideoViewabilityLogging5=new(c("ViewabilityVideoElement"))(l,m);this.$VideoViewabilityLogging6()}j.prototype.getViewability=function(){"use strict";var k=void 0;if(this.$VideoViewabilityLogging4.isInline())k=this.$VideoViewabilityLogging5.feedViewabilityPercentage();else k=this.$VideoViewabilityLogging5.viewabilityPercentage();return this.$VideoViewabilityLogging7(k)};j.prototype.setLastLoggedViewability=function(k){"use strict";this.$VideoViewabilityLogging3=k};j.prototype.$VideoViewabilityLogging6=function(){"use strict";this.$VideoViewabilityLogging4.addListener("beginPlayback",this.$VideoViewabilityLogging8);this.$VideoViewabilityLogging4.addListener("pausePlayback",this.$VideoViewabilityLogging9)};j.prototype.$VideoViewabilityLogging10=function(){"use strict";__p&&__p();if(c("VideoPlayerExperiments").viewabilityByPTS)window.performance.mark("getViewability-start");var k=this.getViewability();if(c("VideoPlayerExperiments").viewabilityByPTS){window.performance.mark("getViewability-end");window.performance.measure("getViewability","getViewability-start","getViewability-end");setTimeout(function(){__p&&__p();var l=performance.getEntriesByName("getViewability"),m=l.length;if(m>0){var n=0;l.forEach(function(o){n+=o.duration});n=Math.round(n/m);c("BanzaiODS").bumpEntityKey("video_viewability_logging","getViewability_calls",m);if(n>13)c("BanzaiODS").bumpEntityKey("video_viewability_logging","unable_to_calculate_viewability_in_13_ms");window.performance.clearMarks("getViewability-start");window.performance.clearMarks("getViewability-end");window.performance.clearMeasures("getViewability")}},1e4)}if(k!=this.$VideoViewabilityLogging3){this.$VideoViewabilityLogging4.logEvent(c("VideoPlayerLoggerEvent").VIEWABILITY_CHANGED,{current_viewability_percentage:k,last_viewability_percentage:this.$VideoViewabilityLogging3});this.$VideoViewabilityLogging3=k}};j.prototype.$VideoViewabilityLogging11=function(){"use strict";this.$VideoViewabilityLogging2=window.requestAnimationFrame(this.$VideoViewabilityLogging12)};j.prototype.$VideoViewabilityLogging13=function(){"use strict";window.cancelAnimationFrame(this.$VideoViewabilityLogging2)};j.prototype.$VideoViewabilityLogging14=function(){"use strict";if(this.$VideoViewabilityLogging4.getVideoAPI().isPaused()!==undefined)return!this.$VideoViewabilityLogging4.getVideoAPI().isPaused();return this.$VideoViewabilityLogging4.getState()==="playing"};j.prototype.$VideoViewabilityLogging7=function(k){"use strict";__p&&__p();var l=c("VideoViewabilityPercentage").OFFSCREEN;if(k<=0)return l;for(var m=i,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=q[0],s=q[1];if(k>=r)l=s}return l};f.exports=j}),null);
__d("XVideoDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_data/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:true},is_ad:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:false}})}),null);
__d("getComponentClassname",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){__p&&__p();if(i!=null){var j=null;if(i.prototype&&i.prototype.constructor)j=i.prototype.constructor;else if(i.constructor)j=i.constructor;if(j&&j.name)return j.name;if(typeof i.toString==="function")return i.toString()}return null}f.exports=h}),null);
__d("VideoPlayerController",["csx","cx","invariant","Promise","Arbiter","Banzai","BigPipe","Bootloader","CoverVideoOffsetType","CSS","DOM","DOMDimensions","DOMQuery","ErrorUtils","FullScreen","JSLogger","FBLogger","JSResource","Map","MediaController","Run","ScriptPath","Set","SphericalVideoPlayerEvents","SubscriptionsHandler","Parent","TahoeVariables","URI","VideoChannelViewChainLengthManager","VideoMimeTypes","VideoPermalinkURI","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerExperiments","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerInitializationEvent","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerImmediatePlayReason","VideoPlayerResizeSettings","VideoPlayerReasonTransitionHelper","VideoPlayerVersions","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaGlobalConfig","VideoPlayerStates","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVolumeSettings","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideosRenderingInstrumentation","ViewportTrackingHelper","Visibility","VideoVisibilityObserver","XVideoDataController","VideoControllerPlayingStateEmitter","canVideoPlayType","clearInterval","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getViewportDimensions","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","requireWeak","setInterval","uniqueID","getComponentClassname"],(function aa(a,b,ba,ca,c,da,ea,fa,d){__p&&__p();var e,f,g=null;b("requireWeak")("VideoChannelLogger",function(m){g=m});var h=5,i=1;function j(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()}var k=0;e=babelHelpers.inherits(l,b("MediaController"));f=e&&e.prototype;function l(m,n){__p&&__p();var o=m.video_id,p=m.video_ids,q=m.video_url,r=m.video_urls,s=m.chaining_token,t=m.video_channel_id,u=m.reaction_video_channel_type,v=m.reaction_video_channel_subtype,w=m.source,x=m.ad_client_token,y=m.should_autoplay,z=m.immediateplay_reason,A=m.player_version,B=m.autoplay_setting,C=m.apiModule,D=m.apiConfig,E=m.useInlineFallback,F=m.accessToken,G=m.projection,H=m.playerOrigin,I=m.playerSuborigin,J=m.isBroadcast,K=m.isInstreamAd,L=m.components,M=m.trackingCodes,N=m.alwaysShowCaptions,ga=m.disableLogging,O=m.subtitleBackgroundColor,P=m.subtitleBackgroundOpacity,Q=m.subtitleTextColor,R=m.subtitleTextSize,S=m.video_path,T=m.customLoggingProps,ha=m.broadcasterOrigin,ia=m.allowCrossPageTransition,ja=m.isReactPlayer,ka=m.offsettype,la=m.offsetvalue,ma=n.root_element,na=n.container_element,oa=n.video_element;"use strict";f.constructor.call(this);this.$VideoPlayerController34=false;this.emitHeartbeat=function(){if(!this.isState(b("VideoPlayerStates").PLAYING)||!this.getVideoNode()){this.stopHeartbeat();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&this.isBuffering())return;this.getVideoAPI().logHeartbeat()}.bind(this);this.$VideoPlayerController136=function(){__p&&__p();if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){this.$VideoPlayerController135();this.$VideoPlayerController88=setTimeout(this.$VideoPlayerController136,this.$VideoPlayerController94);return}var Y=this.getVideoAPI().isPaused()!==undefined?!this.getVideoAPI().isPaused():this.getState()==="playing";if(Y){this.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+this.$VideoPlayerController94+"ms.",isPlayback:this.isPlayRequestPending()});this.$VideoPlayerController135();this.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT)}}.bind(this);this.$VideoPlayerController22=0;this.$VideoPlayerController21=new(b("Map"))();this.$VideoPlayerController70={};if(T)this.setLogEntryPropertyGetters(T);if(y===undefined)throw new Error("Must pass should_autoplay to "+this.constructor.name+"!");this.$VideoPlayerController20=new(b("VideoPlayerUIComponentDrawerController"))();this.$VideoPlayerController13=new(b("Map"))();this.$VideoPlayerController51=G;this.$VideoPlayerController1=F;this.$VideoPlayerController61=!!y;this.$VideoPlayerController62=z;this.$VideoPlayerController8=B;this.$VideoPlayerController2=x;this.$VideoPlayerController47=false;this.$VideoPlayerController78=oa;this.$VideoPlayerController60=ma;this.$VideoPlayerController14=na;this.$VideoPlayerController29=false;this.$VideoPlayerController30=false;this.$VideoPlayerController50=A;this.$VideoPlayerController77=o||p&&p[0]||"";this.$VideoPlayerController80=q||r&&r[0];this.$VideoPlayerController79=S;this.$VideoPlayerController11=s;this.$VideoPlayerController75=t;this.$VideoPlayerController48=H;this.$VideoPlayerController49=I||w;this.$VideoPlayerController28=J;this.$VideoPlayerController35=K;this.$VideoPlayerController72=M;this.$VideoPlayerController3=N;this.$VideoPlayerController65=O||"";this.$VideoPlayerController66=P==undefined?0:P;this.$VideoPlayerController67=Q||"";this.$VideoPlayerController68=R==undefined?0:R;this.$VideoPlayerController27=b("uniqueID")();this.$VideoPlayerController57=u;this.$VideoPlayerController58=v;this.$VideoPlayerController5=C;this.$VideoPlayerController4=D;this.$VideoPlayerController37=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController36=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);if(this.$VideoPlayerController37==="progressive")this.$VideoPlayerController94=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout;else if(this.isLiveVideo())this.$VideoPlayerController94=b("VideoPlayerExperiments").liveBufferingErrorTimeout;else this.$VideoPlayerController94=b("VideoPlayerExperiments").bufferingErrorTimeout;if(b("VideoPlayerExperiments").createVideoVisibilityObserver)this.$VideoPlayerController98();this.$VideoPlayerController31=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController32=this.$VideoPlayerController5.getIsSpherical(this.$VideoPlayerController4);this.$VideoPlayerController73=!!E;this.$VideoPlayerController86=new(b("Set"))();this.$VideoPlayerController87=ha;this.$VideoPlayerController88=null;this.$VideoPlayerController89=!!ia;this.$VideoPlayerController90=!!ja;this.$VideoPlayerController91=this.getContainerNode().style.paddingBottom;this.$VideoPlayerController92=ka;this.$VideoPlayerController93=la;this.$VideoPlayerController95=false;this.$VideoPlayerController96=false;this.$VideoPlayerController19=b("Arbiter").subscribe("DOM/destroy",function(Y,Z){if(!b("Parent").bySelector(this.getVideoNode(),Z))return;this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()}.bind(this));var U=b("VideoPlayerExperiments").maxPageletDisplaySuspensions;if(b("VideoPlayerExperiments").suspendPageletDisplay&&(!U||U>k))if(!b("VideoPlayerExperiments").suspendPageletDisplayLiveOnly||this.$VideoPlayerController36){this.$VideoPlayerController85=b("BigPipe").suspendPageletDisplay(b("VideoPlayerExperiments").suspendPageletDisplayTimeout);k++}this.$VideoPlayerController17=0;var V=b("URI").getRequestURI(),W=b("VideoPermalinkURI").parse(V),X=parseFloat(V.getQueryData().t),pa=W?W.video_id==this.$VideoPlayerController77:false;if(X&&pa&&this.$VideoPlayerController4)this.$VideoPlayerController4.startTimestamp=X;if(b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&this.$VideoPlayerController4)this.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(this);this.$VideoPlayerController15=null;this.$VideoPlayerController45=null;this.$VideoPlayerController63=w;this.$VideoPlayerController41=new(b("VideoPlayerLogger"))(w);this.collectFeedTrackingData();this.$VideoPlayerController41.setScriptPath(b("ScriptPath").getScriptPath());this.$VideoPlayerController53=b("VideosRenderingInstrumentation").retrieveRenderTime(this.getRootNode());this.$VideoPlayerController52=j()-this.$VideoPlayerController53;if(D)D.subtitleDrawer=this.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0);this.$VideoPlayerController64="loading";this.logEvent(b("VideoPlayerInitializationEvent").PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController53});this.$VideoPlayerController99(false);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController73))if(this.$VideoPlayerController73)this.$VideoPlayerController100();else{this.$VideoPlayerController101();return}else this.$VideoPlayerController102();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()}.bind(this));this.$VideoPlayerController7=new(b("SubscriptionsHandler"))();if(this.$VideoPlayerController61)if(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad)this.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return this.$VideoPlayerController103()}.bind(this)));else this.$VideoPlayerController103();this.$VideoPlayerController18=0;this.$VideoPlayerController59=false;this.$VideoPlayerController23=this.$VideoPlayerController104();this.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()}.bind(this)));if(!this.$VideoPlayerController105())this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(Y,Z){__p&&__p();if(Z.type==="DialogX"||Z.type==="PhotoSnowlift"||Z.type==="Spotlight"){if(Z.type!=="Spotlight")b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(qa){qa.setShouldAutoplay(false)},"VideoPlayerController");this.$VideoPlayerController18=this.$VideoPlayerController18+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController18>0){var $=this.$VideoPlayerController63===b("VideoPlayerLoggerSource").TAHOE&&this.isLiveVideo();if(this.isState("playing")&&!($&&b("TahoeVariables").neverAutoPauseLive)){this.pause(b("VideoPlayerReason").PAGE_VISIBILITY);this.$VideoPlayerController59=true}}}}.bind(this)),b("Arbiter").subscribe("layer_hidden",function(Y,Z){__p&&__p();if(Z.type==="DialogX"||Z.type==="PhotoSnowlift"||Z.type==="Spotlight"){if(b("VideoPlayerExperiments").addViewabilityFixEnabled)this.$VideoPlayerController18=Math.max(0,this.$VideoPlayerController18-1);else this.$VideoPlayerController18=this.$VideoPlayerController18-1;if(this.$VideoPlayerController18===0){if(Z.type!=="Spotlight")b("Bootloader").loadModules(["VideoAutoplayControllerX"],function($){$.setShouldAutoplay(true)},"VideoPlayerController");if(this.$VideoPlayerController59){this.play(b("VideoPlayerReason").PAGE_VISIBILITY);this.$VideoPlayerController59=false}}}}.bind(this)));this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(Y,Z){return this.$VideoPlayerController106(Y,Z)}.bind(this)));b("Run").onLeave(function(){if(this.$VideoPlayerController89||b("VideoPlayerExperiments").persistentWNSEnabled&&this.$VideoPlayerController63===b("VideoPlayerLoggerSource").WATCH_SCROLL)return;this.cleanOnLeave()}.bind(this));this.$VideoPlayerController12=L||[];this.$VideoPlayerController12.forEach(function(Y){var Z=b("getComponentClassname")(Y)||"<MalformedComponent>";if(Y&&typeof Y.enable==="function")if(b("VideoPlayerExperiments").enableComponentGuards)b("ErrorUtils").applyWithGuard(Y.enable,Y,[this],null,"VideoPlayerController Component Enable Guard: "+Z);else Y.enable(this);else b("FBLogger")("video").warn("no_enable_method_on_component: %s",Z)}.bind(this));this.$VideoPlayerController44=1;this.$VideoPlayerController81=false;if(this.$VideoPlayerController78)if(this.shouldCalculateViewability()){this.$VideoPlayerController81=b("VideoPlayerExperiments").enableViewabilityLogging;if(this.isInstreamAd())this.$VideoPlayerController81=this.$VideoPlayerController81&&b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging}else this.$VideoPlayerController81=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic;if(this.$VideoPlayerController81&&this.$VideoPlayerController78)this.$VideoPlayerController82=new(b("VideoViewabilityLogging"))(this,this.$VideoPlayerController78,this.$VideoPlayerController60)}l.prototype.addListener=function(){var m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];var q=(m=f.addListener).call.apply(m,[this].concat(o));if(o[0]==="visibilityChanged")this.$VideoPlayerController98();return q};l.prototype.$VideoPlayerController98=function(){"use strict";if(this.$VideoPlayerController97)return;this.$VideoPlayerController78||d(0);this.$VideoPlayerController97=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController78);this.$VideoPlayerController97.addListener("visibilityChanged",function(m){return this.emit("visibilityChanged",m)}.bind(this))};l.prototype.destroy=function(m){"use strict";__p&&__p();m=m||{};if(this.isState("destroyed")||this.$VideoPlayerController30)return;if(this.$VideoPlayerController85){this.$VideoPlayerController85();this.$VideoPlayerController85=null}this.$VideoPlayerController30=true;if(this.$VideoPlayerController97){this.$VideoPlayerController97.destroy();this.$VideoPlayerController97=null}var n=this.$VideoPlayerController12;for(var o=n.length-1;o>=0;o--){var p=n[o],q=b("getComponentClassname")(p)||"<MalformedComponent>";if(p&&typeof p.disable==="function")if(b("VideoPlayerExperiments").enableComponentGuards)b("ErrorUtils").applyWithGuard(p.disable,p,[this],null,"VideoPlayerController Component Disable Guard: "+q);else p.disable(this);else b("FBLogger")("video").warn("no_disable_method_on_component: %s",q)}this.getVideoAPI().destroy(m);this.setState("destroyed");this.$VideoPlayerController7.release();if(!m.skipRemoveAllListeners)this.removeAllListeners();if(this.$VideoPlayerController19){this.$VideoPlayerController19.unsubscribe();this.$VideoPlayerController19=null}this.stopHeartbeat();if(b("VideoPlayerMemLeakExperiments").release_dom_nodes_on_destroy){this.$VideoPlayerController78=null;this.$VideoPlayerController60=null;this.$VideoPlayerController14=null}};l.prototype.$VideoPlayerController107=function(){"use strict";var m=b("DOMQuery").scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!m.length)return b("Promise").reject();b("DOM").replace(this.getVideoNode(),m[0]);this.$VideoPlayerController78=m[0];return b("JSResource")("VideoPlayerFlashApi").__setRef("VideoPlayerController").load()};l.prototype.$VideoPlayerController100=function(){"use strict";this.logEvent(b("VideoPlayerLoggerEvent").SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController107().then(function(m){if(m.isImplementationUnavailable())return b("Promise").reject();else return b("Promise").resolve(m)}).done(function(m){this.$VideoPlayerController5=m;this.$VideoPlayerController102()}.bind(this),function(m){return this.$VideoPlayerController101()}.bind(this))};l.prototype.collectFeedTrackingData=function(){"use strict";__p&&__p();var m=null;if(this.$VideoPlayerController72){var n={tn:"","tn-debug":","},o={};for(var p=0;p<this.$VideoPlayerController72.length;p++){var q=JSON.parse(this.$VideoPlayerController72[p]);if(!Array.isArray(q))for(var r in q)if(n[r]!==undefined){if(o[r]===undefined)o[r]=[];o[r].push(q[r])}else if(o[r]===undefined)o[r]=q[r]}for(var s in n)if(o[s]!==undefined)o[s]=o[s].join(n[s]);m={ft:o}}else{var t=false,u=this.getRootNode();while(u){if(b("CSS").matchesSelector(u,"._4oep")){t=true;break}u=b("getContextualParent")(u)}if(!t)m=b("collectDataAttributes")(this.getRootNode(),["ft"]);else m={}}this.$VideoPlayerController41.setFTData(m)};l.prototype.$VideoPlayerController106=function(m,n){"use strict";n.video_player_debug_info=n.video_player_debug_info||{hardware:this.$VideoPlayerController108(),live_autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(true),autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(false)};n.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};l.prototype.$VideoPlayerController108=function(){"use strict";try{var m=document.createElement("canvas"),n=m.getContext("webgl")||m.getContext("experimental-webgl"),o=n.getExtension("WEBGL_debug_renderer_info");return o&&{vendor:n.getParameter(o.UNMASKED_VENDOR_WEBGL),renderer:n.getParameter(o.UNMASKED_RENDERER_WEBGL)}}catch(p){}return null};l.prototype.setStillFrameEnabled=function(m){"use strict";var n=this.getVideoAPI();if(n.setStillFrameEnabled)n.setStillFrameEnabled(m)};l.prototype.isFallbackRecoverable=function(){"use strict";return!!this.$VideoPlayerController69};l.prototype.setFallbackSources=function(m){"use strict";this.$VideoPlayerController69=m};l.prototype.setRelativeSphericalOrientation=function(m,n){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,m,n)};l.prototype.setSphericalOrientation=function(m,n){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,m,n)};l.prototype.setSphericalFieldOfView=function(m){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,m)};l.prototype.isSpherical=function(){"use strict";return this.$VideoPlayerController32};l.prototype.getVideoPlayerID=function(){"use strict";return this.$VideoPlayerController27};l.prototype.setLogEntryPropertyGetters=function(m){"use strict";Object.keys(m).forEach(function(n){var o=m[n];if(typeof o==="function")this.$VideoPlayerController21.set(n,o);else this.$VideoPlayerController70[n]=o}.bind(this))};l.prototype.removeLogEntryPropertyGetters=function(m){"use strict";if(typeof m==="string")m=[m];if(!Array.isArray(m))m=Object.keys(m);m.forEach(function(n){this.$VideoPlayerController21["delete"](n);delete this.$VideoPlayerController70[n]}.bind(this))};l.prototype.$VideoPlayerController102=function(){"use strict";this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady()}.bind(this))};l.prototype.isImplementationUnavailable=function(){"use strict";return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController73)&&!this.$VideoPlayerController73};l.prototype.getIsInChannel=function(){"use strict";return this.$VideoPlayerController63===b("VideoPlayerLoggerSource").CHANNEL};l.prototype.updateSource=function(m){"use strict";__p&&__p();if(!this.$VideoPlayerController63)return;var n=b("VideoPlayerFormatsMap")[this.$VideoPlayerController63],o=b("VideoPlayerFormatsMap")[m];this.$VideoPlayerController41.updateSource(m);if(n&&n!==o&&this.$VideoPlayerController83)if(b("VideoPlayerExperiments").delayFormatChangeEvent)if(this.isState(b("VideoPlayerStates").PLAYING)&&!this.$VideoPlayerController33){this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED);this.$VideoPlayerController39=o}else this.$VideoPlayerController39=n;else this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED);this.$VideoPlayerController63=m};l.prototype.getSource=function(){"use strict";return this.$VideoPlayerController41.getSource()};l.prototype.getPlayerOrigin=function(){"use strict";return this.$VideoPlayerController48};l.prototype.getPlayerSuborigin=function(){"use strict";return this.$VideoPlayerController49};l.prototype.hasLooped=function(){"use strict";return this.$VideoPlayerController44>1};l.prototype.$VideoPlayerController101=function(){"use strict";var m={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent(b("VideoPlayerLoggerEvent").ERROR,m);this.$VideoPlayerController61=false};l.prototype.logError=function(m){"use strict";var n=this.$VideoPlayerController38=m,o=n.error,p=n.message,q=n.isPlayback,r=n.httpStatus,s=n.url,t=this.getDebugInfo();delete t.player.loggedError;delete t.player.lastError;var u={error:o,error_description:p,error_user_info:t,error_code:r,resource_url:s,state:q?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};this.$VideoPlayerController40=this.logEvent(b("VideoPlayerLoggerEvent").ERROR,u);if(q&&this.$VideoPlayerController47)this.$VideoPlayerController99(false)};l.prototype.setRotation=function(m){"use strict";this.getVideoAPI().setRotation(m)};l.prototype.setDimensions=function(m,n){"use strict";__p&&__p();var o=this.getContainerNode();o.style.width=m+"px";o.style.height=n+"px";var p=this.getVideoNode();p.style.width=m+"px";p.style.height=n+"px";if(this.isState("loading"))this.$VideoPlayerController54={width:m,height:n};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController33||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(m,n)}};l.prototype.isPlayRequestPending=function(){"use strict";return this.$VideoPlayerController47};l.prototype.$VideoPlayerController99=function(m){"use strict";if(this.$VideoPlayerController47===m)return;this.$VideoPlayerController47=m;this.emit("pendingPlayRequestChanged")};l.prototype.updateAutoplayRestrained=function(){"use strict";b("ifRequired")("VideoPlayerHTML5Shaka",function(m){var n=m.isAutoplayBandwidthRestrained(this.$VideoPlayerController36);this.$VideoPlayerController109(n)}.bind(this))};l.prototype.$VideoPlayerController109=function(m){"use strict";if(m)this.emit("turnOffAutoplay",{reason:"poor_network_quality"});else this.emit("resumeAutoplay",{reason:"poor_network_quality"});this.getVideoAPI().setPreloadDisabled(m)};l.prototype.restoreStreamBufferSize=function(){"use strict";this.getVideoAPI().restoreStreamBufferSize()};l.prototype.getDataInsertionPosition=function(){"use strict";return this.$VideoPlayerController23&&this.$VideoPlayerController23.getAttribute("data-insertion-position")};l.prototype.getDataFt=function(){"use strict";return this.$VideoPlayerController23&&this.$VideoPlayerController23.getAttribute("data-ft")};l.prototype.play=function(m){"use strict";__p&&__p();var n=null;if(m instanceof b("VideoPlayerReasonTransitionHelper"))n=m.getReason();else n=m;this.$VideoPlayerController110();if(!this.$VideoPlayerController46)this.$VideoPlayerController46=n;if(!this.$VideoPlayerController47){this.$VideoPlayerController45=this.$VideoPlayerController111();var o=this.$VideoPlayerController112({debug_reason:n}),p=this.$VideoPlayerController63;if(b("VideoPlayerExperiments").delayFormatChangeEvent&&p&&this.$VideoPlayerController83&&this.$VideoPlayerController39&&b("VideoPlayerFormatsMap")[p]!==this.$VideoPlayerController39&&!this.$VideoPlayerController33){this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED);this.$VideoPlayerController39=b("VideoPlayerFormatsMap")[p]}this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,o);this.$VideoPlayerController83=true}this.$VideoPlayerController113(n);this.emit("playRequested",n);this.sendPlayRequest(n);if(n===b("VideoPlayerReason").LOOP)this.$VideoPlayerController44++};l.prototype.sendPlayRequest=function(m){"use strict";__p&&__p();if(this.isState("fallback")){this.emit("fallbackPlay");if(b("VideoPlayerExperiments").endBufferingOnFallbackPlay)this.$VideoPlayerController41.endBuffering();return}this.$VideoPlayerController99(true);if(this.isState("loading"))this.$VideoPlayerController55={reason:m};else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController43)this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED);this.$VideoPlayerController43=false;this.$VideoPlayerController114();this.getVideoAPI().play(m)}};l.prototype.getOriginalPlayReason=function(){"use strict";return this.$VideoPlayerController46};l.prototype.reset=function(){"use strict";__p&&__p();if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController115();if(this.$VideoPlayerController74&&this.$VideoPlayerController74.destroy)this.$VideoPlayerController74.destroy();this.$VideoPlayerController74=null;this.setState("loading");this.$VideoPlayerController102()};l.prototype.detachRootNode=function(){"use strict";b("DOM").remove(this.$VideoPlayerController60);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController116()}.bind(this))};l.prototype.getVideoAPI=function(){"use strict";this.$VideoPlayerController74||d(0);return this.$VideoPlayerController74};l.prototype.getVideoNodeNullable=function(){"use strict";return this.$VideoPlayerController78};l.prototype.getVideoNode=function(){"use strict";__p&&__p();if(this.isState("destroyed")){var m=a.console,n="Cannot get video node, VideoPlayerController is destroyed. In the future, this will be an error.";b("FBLogger")("video").warn(n);m.warn(n)}var o=this.getVideoNodeNullable();if(b("VideoPlayerMemLeakExperiments").release_dom_nodes_on_destroy)o||d(0);return o};l.prototype.getRootNodeNullable=function(){"use strict";return this.$VideoPlayerController60};l.prototype.getRootNode=function(){"use strict";__p&&__p();if(this.isState("destroyed")){var m=a.console,n="Cannot get root node, VideoPlayerController is destroyed. In the future, this will throw an error.";b("FBLogger")("video").warn(n);m.warn(n)}var o=this.getRootNodeNullable();if(b("VideoPlayerMemLeakExperiments").release_dom_nodes_on_destroy)o||d(0);return o};l.prototype.getContainerNodeNullable=function(){"use strict";return this.$VideoPlayerController14};l.prototype.getContainerNode=function(){"use strict";__p&&__p();if(this.isState("destroyed")){var m=a.console,n="Cannot get container node, VideoPlayerController is destroyed.In the future, this will throw an error.";b("FBLogger")("FIXME").warn(n);m.warn(n)}var o=this.getContainerNodeNullable();if(b("VideoPlayerMemLeakExperiments").release_dom_nodes_on_destroy)o||d(0);return o};l.prototype.getVideoResolution=function(){"use strict";var m=this.getVideoNode();return{height:m.videoHeight,width:m.videoWidth}};l.prototype.$VideoPlayerController116=function(){"use strict";__p&&__p();this.setState("ready");this.logEvent(b("VideoPlayerInitializationEvent").PLAYER_ALLOCATED);this.$VideoPlayerController43=!this.getVideoAPI().isMuted();this.$VideoPlayerController71=!this.$VideoPlayerController3;if(this.getVideoAPI().setSubtitlesStyle)this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController65,this.$VideoPlayerController66,this.$VideoPlayerController67,this.$VideoPlayerController68);if(this.$VideoPlayerController55){this.sendPlayRequest(this.$VideoPlayerController55.reason);this.$VideoPlayerController55=null}if(this.$VideoPlayerController54){this.setDimensions(this.$VideoPlayerController54.width,this.$VideoPlayerController54.height);this.$VideoPlayerController54=null}if(this.$VideoPlayerController56){this.getVideoAPI().unmute();this.$VideoPlayerController56=null}};l.prototype.onApiReady=function(){"use strict";__p&&__p();if(this.$VideoPlayerController4){this.$VideoPlayerController4.id=this.$VideoPlayerController27;if(this.$VideoPlayerController69)this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController69;this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController48;this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController49;this.$VideoPlayerController4.getSource=function(){return this.getSource()}.bind(this)}this.$VideoPlayerController74=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.logEvent(b("VideoPlayerInitializationEvent").PLAYER_ALLOCATED);this.$VideoPlayerController117();this.$VideoPlayerController116();var m={is_auto_played:this.isAutoplayable()};this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_LOADED,m);if(this.$VideoPlayerController74)this.$VideoPlayerController41.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController74.getLocalEstimator()));var n=this.getVideoProjection();if(n)this.$VideoPlayerController51=n;this.emit("apiReady")};l.prototype.getLocalEstimator=function(){"use strict";if(this.$VideoPlayerController74)return this.$VideoPlayerController74.getLocalEstimator();else return null};l.prototype.runOnApiReady=function(){var m=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];"use strict";if(!this.isState("loading"))m();else this.once("apiReady",m)};l.prototype.resetPositions=function(){"use strict";this.$VideoPlayerController17=0};l.prototype.getCurrentTimePosition=function(){"use strict";if(this.isState("playing")){var m=this.getVideoAPI().getCurrentTimePosition();if(m!=null&&m!==undefined)this.$VideoPlayerController17=m}return this.$VideoPlayerController17};l.prototype.getBufferEndPosition=function(){"use strict";if(this.isState("loading"))return 0;var m=this.getVideoAPI().getBufferEndPosition();if(m!==null&&m!==undefined)return m;return this.getCurrentTimePosition()};l.prototype.$VideoPlayerController110=function(){"use strict";__p&&__p();if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var m=this.getVideoID();if(this.$VideoPlayerController11){var n=this.$VideoPlayerController11.decode();m=n.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(m)}this.$VideoPlayerController76=g?g.getPlayerLoggingData():{}};l.prototype.$VideoPlayerController118=function(m){"use strict";__p&&__p();this.$VideoPlayerController99(false);var n=m.position;if(n!==undefined)this.$VideoPlayerController17=n;this.setState("playing");if(this.areHLSActive())this.$VideoPlayerController119();else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController120();this.startHeartbeat()};l.prototype.$VideoPlayerController121=function(m){"use strict";var n=m.position;if(n!==undefined)this.$VideoPlayerController17=n;this.$VideoPlayerController15=this.getVideoAPI().getCurrentlyPlayingStreamInfoID()};l.prototype.$VideoPlayerController122=function(event){"use strict";return this.$VideoPlayerController86.has(event)};l.prototype.runOnceOnApiEventLogged=function(event,m){__p&&__p();var n,o=this;"use strict";if(this.$VideoPlayerController122(event))m();else(function(){var p=o.addListener("apiEventLogged",function(q){if(q===event){m();p.remove()}})})()};l.prototype.$VideoPlayerController123=function(m){"use strict";var event=m.event;this.$VideoPlayerController86.add(event);delete m.event;this.logEvent(event,m);this.emit("apiEventLogged",event)};l.prototype.$VideoPlayerController124=function(){"use strict";if(!this.isState("finished"))this.setState("paused");this.stopHeartbeat()};l.prototype.$VideoPlayerController125=function(m){"use strict";var n=m.position;if(n!==undefined)this.$VideoPlayerController17=n};l.prototype.$VideoPlayerController126=function(){"use strict";this.setState("finished");this.$VideoPlayerController59=false;this.stopHeartbeat()};l.prototype.getVolume=function(){"use strict";return this.getVideoAPI().getVolume()};l.prototype.$VideoPlayerController127=function(){"use strict";__p&&__p();this.$VideoPlayerController34=false;var m=this.getContainerNode(),n=this.isFullscreen();b("CSS").conditionClass(m,"_1hwh",n);if(n)m.style.paddingBottom="0";else{m.removeAttribute("data-fullscreen");m.style.paddingBottom=this.$VideoPlayerController91}if(!n&&this.$VideoPlayerController24){this.$VideoPlayerController24.unsubscribe();this.$VideoPlayerController24=null}if(this.$VideoPlayerController33!=n){this.logFullscreenChanged(n);var o=b("DOMDimensions").getElementDimensions(m);if(!this.isPlayerVersion("silvercity"))this.setVideoPlayerAPIDimensions(o.width,o.height);this.emit("toggleFullscreen");if(!n){this.addOffsetStylings();b("Arbiter").inform("video_fullscreen_change",{})}else this.removeOffsetStylings()}this.$VideoPlayerController33=n};l.prototype.logFullscreenChanged=function(m){"use strict";var n=m?{player_format:b("VideoPlayerFormats").FULL_SCREEN}:{player_format:!this.$VideoPlayerController63?b("VideoPlayerFormats").INLINE:b("VideoPlayerFormatsMap")[this.$VideoPlayerController63]};if(b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix)this.logEvent(m?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS,n);else this.logEvent(m?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS)};l.prototype.setVideoPlayerAPIDimensions=function(m,n){"use strict";if(this.getVideoAPI().setDimensions)this.getVideoAPI().setDimensions(m,n)};l.prototype.removeOffsetStylings=function(){"use strict";__p&&__p();var m=this.$VideoPlayerController93;if(m===null||m===undefined)return;if(this.$VideoPlayerController92===b("CoverVideoOffsetType").HORIZONTAL){this.getVideoNode().style.setProperty("left","0");b("CSS").removeClass(this.getVideoNode(),"_blh")}else if(this.$VideoPlayerController92===b("CoverVideoOffsetType").VERTICAL){this.getVideoNode().style.setProperty("top","0");b("CSS").removeClass(this.getVideoNode(),"_bli")}};l.prototype.addOffsetStylings=function(){"use strict";__p&&__p();var m=this.$VideoPlayerController93;if(m===null||m===undefined)return;if(this.$VideoPlayerController92===b("CoverVideoOffsetType").HORIZONTAL){this.getVideoNode().style.setProperty("left",m+"px");b("CSS").addClass(this.getVideoNode(),"_blh")}else if(this.$VideoPlayerController92===b("CoverVideoOffsetType").VERTICAL){this.getVideoNode().style.setProperty("top",m+"px");b("CSS").addClass(this.getVideoNode(),"_bli")}};l.prototype.isFullscreen=function(){"use strict";return this.$VideoPlayerController34||b("FullScreen").isFullScreen()&&this.$VideoPlayerController14===b("getFullScreenElement")()};l.prototype.toggleFullscreen=function(){"use strict";__p&&__p();var m=this.isFullscreen(),n=this.getContainerNode();if(b("FullScreen").toggleFullScreen(n)){if(!m){this.$VideoPlayerController34=true;n.setAttribute("data-fullscreen","true")}b("CSS").addClass(n,"_1hwh");this.$VideoPlayerController24=b("FullScreen").subscribe("changed",this.$VideoPlayerController127.bind(this))}};l.prototype.instreamVideoStart=function(){"use strict";b("CSS").addClass(this.getContainerNode(),"_24pm")};l.prototype.instreamVideoEnd=function(){"use strict";b("CSS").removeClass(this.getContainerNode(),"_24pm")};l.prototype.unmute=function(){"use strict";if(!this.isState("loading")){this.getVideoAPI().unmute();b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute());if(this.$VideoPlayerController71&&this.getVideoAPI().areSubtitlesActive())this.$VideoPlayerController128()}else this.$VideoPlayerController56=true};l.prototype.isMuted=function(){"use strict";return this.getVideoAPI().isMuted()};l.prototype.mute=function(){"use strict";if(this.$VideoPlayerController71&&!this.getVideoAPI().areSubtitlesActive())this.$VideoPlayerController128();this.getVideoAPI().mute();b("VideoPlayerVolumeSettings").saveVolume(0)};l.prototype.getMediaID=function(){"use strict";return this.getVideoID()};l.prototype.getPlaybackDuration=function(){"use strict";return this.getVideoAPI().getPlaybackDuration()};l.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerController77};l.prototype.getVideoChannelID=function(){"use strict";return this.$VideoPlayerController75};l.prototype.getVideoURL=function(){"use strict";return this.$VideoPlayerController80};l.prototype.$VideoPlayerController117=function(){"use strict";__p&&__p();var m=this.getVideoAPI(),n=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=n;var o={buffered:function(){return this.setBuffering(false)}.bind(this),buffering:function(){return this.setBuffering(true)}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController41.startInterrupt()}.bind(this),streamResumed:function(){return this.$VideoPlayerController41.endInterrupt()}.bind(this),beginPlayback:function(p){return this.$VideoPlayerController118(p)}.bind(this),updateStatus:function(p){return this.$VideoPlayerController121(p)}.bind(this),updateBuffer:function(p){return this.$VideoPlayerController129(p)}.bind(this),logEvent:function(p){return this.$VideoPlayerController123(p.logData)}.bind(this),pausePlayback:function(){return this.$VideoPlayerController124()}.bind(this),seekEnd:function(p){return this.$VideoPlayerController125(p)}.bind(this),clickForTracking:function(){return b("logVideosClickTracking")(this.getVideoNode())}.bind(this),error:function(p){return this.logError(p)}.bind(this),finishPlayback:function(){return this.$VideoPlayerController126()}.bind(this),networkInterrupted:function(){return this.$VideoPlayerController130()}.bind(this),networkResumed:function(){return this.$VideoPlayerController131()}.bind(this)};n.addSubscriptions.apply(n,Object.keys(o).map(function(p){return m.addListener(p,o[p])}));n.addSubscriptions.apply(n,b("VideoPlayerApiEvents").map(function(p){return b("forwardEvent")(m,this,p)}.bind(this)))};l.prototype.$VideoPlayerController129=function(m){"use strict";var n=b("VideoPlayerExperiments").suspendPageletDisplayBufferThreshold;if(m.duration>=n&&this.$VideoPlayerController85){this.$VideoPlayerController85();this.$VideoPlayerController85=null}};l.prototype.$VideoPlayerController115=function(){"use strict";if(this.$VideoPlayerController6)this.$VideoPlayerController6.release()};l.prototype.seek=function(m){"use strict";this.emit("seekRequested",m);this.getVideoAPI().seek(m)};l.prototype.pause=function(m){"use strict";__p&&__p();if(this.isState("loading"))this.$VideoPlayerController55=null;else if(this.isState("playing"))this.getVideoAPI().pause(m);else if(this.$VideoPlayerController47)this.getVideoAPI().pause(m);this.$VideoPlayerController99(false);this.$VideoPlayerController59=false;this.$VideoPlayerController132(m);this.emit("pauseRequested",m)};l.prototype.stopHeartbeat=function(){"use strict";b("clearInterval")(this.$VideoPlayerController26);this.$VideoPlayerController26=null};l.prototype.startHeartbeat=function(){"use strict";if(this.$VideoPlayerController26||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController26=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};l.prototype.isPlayerVersion=function(m){"use strict";return this.getPlayerVersion()===m||this.$VideoPlayerController90&&this.$VideoPlayerController133(m)===this.getPlayerVersion()};l.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerController61};l.prototype.$VideoPlayerController134=function(){"use strict";return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};l.prototype.$VideoPlayerController103=function(){"use strict";if(b("Visibility").isHidden())b("Visibility").once(b("Visibility").VISIBLE,function(){return this.$VideoPlayerController103()}.bind(this));else{if(!this.$VideoPlayerController134()&&this.$VideoPlayerController62!==b("VideoPlayerImmediatePlayReason").WATCH_TIME_NOT_LOGGED)b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath());this.play(b("VideoPlayerReason").AUTOPLAY)}};l.prototype.isBuffering=function(){"use strict";return this.$VideoPlayerController29};l.prototype.setBuffering=function(m){"use strict";__p&&__p();if(m!==this.$VideoPlayerController29){this.$VideoPlayerController29=m;if(this.$VideoPlayerController29){this.$VideoPlayerController41.startBuffering(this.getCurrentTimePosition());if(this.$VideoPlayerController94){this.$VideoPlayerController135();this.$VideoPlayerController88=setTimeout(this.$VideoPlayerController136,this.$VideoPlayerController94)}this.$VideoPlayerController137()}else{this.$VideoPlayerController41.endBuffering();this.$VideoPlayerController135();if(this.isState("paused"))this.$VideoPlayerController138()}this.emit("bufferingChanged")}};l.prototype.setSmartBufferAdjustmentEnabled=function(m){"use strict";var n=this.getVideoAPI();if("setSmartBufferAdjustmentEnabled"in n)n.setSmartBufferAdjustmentEnabled(m)};l.prototype.setVideoStreamOffset=function(m){"use strict";var n=this.getVideoAPI();if(typeof n.setVideoStreamOffset==="function")n.setVideoStreamOffset(m)};l.prototype.$VideoPlayerController135=function(){"use strict";if(this.$VideoPlayerController88){clearTimeout(this.$VideoPlayerController88);this.$VideoPlayerController88=null}};l.prototype.$VideoPlayerController138=function(){"use strict";if(b("VideoPlayerShakaGlobalConfig").getBool("allow_infinite_retry_on_net_err",false)&&b("VideoPlayerShakaGlobalConfig").getBool("allow_autoplay_on_resume_from_sleep",false)&&this.$VideoPlayerController96)this.play(b("VideoPlayerReason").NETWORK_RESUMED)};l.prototype.$VideoPlayerController137=function(){"use strict";if(b("VideoPlayerShakaGlobalConfig").getBool("allow_infinite_retry_on_net_err",false)&&this.$VideoPlayerController29&&this.$VideoPlayerController95&&this.isState("playing"))this.pause(b("VideoPlayerReason").NETWORK_INTERRUPTED)};l.prototype.$VideoPlayerController113=function(m){"use strict";this.$VideoPlayerController96=false};l.prototype.$VideoPlayerController132=function(m){"use strict";if(m===b("VideoPlayerReason").NETWORK_INTERRUPTED)this.$VideoPlayerController96=true;else this.$VideoPlayerController96=false};l.prototype.$VideoPlayerController130=function(){"use strict";this.$VideoPlayerController95=true;this.$VideoPlayerController137()};l.prototype.$VideoPlayerController131=function(){"use strict";this.$VideoPlayerController95=false;this.$VideoPlayerController138()};l.prototype.isLiveVideo=function(){"use strict";return this.$VideoPlayerController36};l.prototype.isInline=function(){"use strict";return!!this.$VideoPlayerController63&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController63]===b("VideoPlayerFormats").INLINE&&!this.isFullscreen()};l.prototype.isFacecastAudio=function(){"use strict";return this.$VideoPlayerController31};l.prototype.isStreamInterrupted=function(){"use strict";var m=this.$VideoPlayerController74;return!!(m&&m.isStreamInterrupted&&m.isStreamInterrupted())};l.prototype.setVolume=function(m){"use strict";b("VideoPlayerVolumeSettings").saveVolume(m);this.getVideoAPI().setVolume(m)};l.prototype.getDOMPosition=function(){"use strict";var m=this.getRootNodeNullable();return m?b("getElementPosition")(m):{x:0,y:0,width:0,height:0}};l.prototype.clickVideo=function(){"use strict";this.emit("clickVideo");this.$VideoPlayerController25=true};l.prototype.mouseMove=function(m){"use strict";this.emit("mouseMove",m)};l.prototype.mouseUp=function(m){"use strict";this.emit("mouseUp",m)};l.prototype.mouseLeave=function(m){"use strict";this.emit("mouseLeave",m)};l.prototype.hasSeenClick=function(){"use strict";return!!this.$VideoPlayerController25};l.prototype.isAd=function(){"use strict";return!!this.$VideoPlayerController2};l.prototype.shouldCalculateViewability=function(){"use strict";__p&&__p();if(this.isAd())return true;var m=this.$VideoPlayerController41.getFTdata();if(m==null)return false;var n=m.ft;if(n==null)return false;return!!n.ei};l.prototype.isInstreamAd=function(){"use strict";return!!this.$VideoPlayerController35};l.prototype.getAdClientToken=function(){"use strict";return this.$VideoPlayerController2};l.prototype.$VideoPlayerController139=function(){"use strict";__p&&__p();var m=null,n=null,o=false,p=null;if(!this.isState("loading")&&!this.isState("fallback")){if(this.$VideoPlayerController15===null)this.$VideoPlayerController15=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();m=this.getVideoAPI().getEstimatedBandwidth();n=this.getVideoAPI().getAvailableVideoQualities().length;o=this.getVideoAPI().getIsAbrEnabled();p=this.getPlaybackDuration()}var q=babelHelpers["extends"]({},this.$VideoPlayerController70);this.$VideoPlayerController21.forEach(function(s,t){q[t]=s(t,this)}.bind(this));var r={};if(this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio"))r.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout");return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:n,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController87,projection:this.$VideoPlayerController51,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(s){return s.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController64,player_origin:this.$VideoPlayerController48,player_suborigin:this.$VideoPlayerController49,playback_is_broadcast:this.$VideoPlayerController28,playback_duration:p,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:this.getBufferEndPosition(),playback_is_live_streaming:this.$VideoPlayerController36,video_channel_id:this.$VideoPlayerController75,reaction_video_channel_type:this.$VideoPlayerController57,reaction_video_channel_subtype:this.$VideoPlayerController58,fbcdn_pop:this.$VideoPlayerController45,representation_id:this.$VideoPlayerController15,video_bandwidth:m,is_abr_enabled:o,feed_position:this.getDataInsertionPosition()},this.$VideoPlayerController76,this.$VideoPlayerController9,q,r)};l.prototype.$VideoPlayerController111=function(){"use strict";var m=this.getVideoInfo_DEPRECATED();if(!m)return null;var n=m.resourceUrl,o=/scontent-([a-z]+)\./.exec(n);if(!o)return null;return o[1]};l.prototype.getVideoInfo_DEPRECATED=function(){"use strict";if(this.isState("loading")||this.isState("fallback"))return null;return this.getVideoAPI().getVideoInfo()};l.prototype.getDebugInfo=function(){"use strict";var m=this.getVideoInfo_DEPRECATED(),n={initializationTime:this.$VideoPlayerController52,initializationTimestamp:this.$VideoPlayerController53,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController41.getCumulativeStallCount(),stallTime:this.$VideoPlayerController41.getCumulativeStallTime(),interruptCount:this.$VideoPlayerController41.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController41.getCumulativeInterruptTime(),state:this.$VideoPlayerController64,canPlayType:b("mapObject")(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController40,lastError:this.$VideoPlayerController38,droppedFrames:!!this.$VideoPlayerController74&&this.$VideoPlayerController74.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController74&&this.$VideoPlayerController74.getTotalFrames(),videoSource:!!this.$VideoPlayerController74&&this.$VideoPlayerController74.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController82&&this.$VideoPlayerController82.getViewability()},o={videoID:this.getVideoID()};if(!m)return{player:n,currentVideo:o};return{currentVideo:babelHelpers["extends"]({},o,{streamType:m.streamType,isLiveStream:m.isLiveStream,liveManifestUrl:m.liveManifestUrl,isHD:m.isHD,hasHD:m.hasHD,resourceUrl:m.resourceUrl,hasSubtitles:m.hasSubtitles,hasRateLimit:!!m.hasUnlimitedSrc,isRateLimited:m.hasUnlimitedSrc&&!m.useUnlimitedSrc,tagHD:m.tagHD,tagSD:m.tagSD,projection:this.$VideoPlayerController51,streamId:this.$VideoPlayerController15,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:n}};l.prototype.getLastError=function(){"use strict";return this.$VideoPlayerController38};l.prototype.isAkamai=function(){"use strict";var m=this.getVideoInfo_DEPRECATED();return m?m.liveManifestUrl&&m.liveManifestUrl.includes("akamaihd"):false};l.prototype.getLoggedError=function(){"use strict";return this.$VideoPlayerController40};l.prototype.getTotalFrames=function(){"use strict";return this.$VideoPlayerController74?this.$VideoPlayerController74.getTotalFrames():0};l.prototype.getDroppedFrames=function(){"use strict";return this.$VideoPlayerController74?this.$VideoPlayerController74.getDroppedFrames():0};l.prototype.getInterruptCount=function(){"use strict";return this.$VideoPlayerController41.getCumulativeInterruptCount()};l.prototype.getInterruptTime=function(){"use strict";return this.$VideoPlayerController41.getCumulativeInterruptTime()};l.prototype.getStreamId=function(){"use strict";return this.getVideoAPI().getCurrentlyPlayingStreamInfoID()};l.prototype.getAudioStreamId=function(){"use strict";return this.getVideoAPI().getAudioStreamInfoIDDebug()};l.prototype.getAudioDashFormat=function(){"use strict";return this.getVideoAPI().getDashAudioConfigurationDebug()};l.prototype.getCumulativeStallCount=function(){"use strict";return this.$VideoPlayerController41.getCumulativeStallCount()};l.prototype.getCumulativeStallTime=function(){"use strict";return this.$VideoPlayerController41.getCumulativeStallTime()};l.prototype.getStallCount=function(){"use strict";return this.$VideoPlayerController41.getStallCount()};l.prototype.getStreamType=function(){"use strict";var m=this.getVideoInfo_DEPRECATED();return m?m.streamType:"n/a"};l.prototype.hasSubtitles=function(){"use strict";return this.getVideoAPI().hasSubtitles()};l.prototype.getVideoState=function(){"use strict";return this.$VideoPlayerController64};l.prototype.areSubtitlesActive=function(){"use strict";return this.getVideoAPI().areSubtitlesActive()};l.prototype.areHLSActive=function(){"use strict";return this.getVideoAPI().areHLSActive()};l.prototype.isRTMP_DEPRECATED=function(){"use strict";return this.getVideoAPI().isRTMP()};l.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerController128();this.logEvent(b("VideoPlayerLoggerEvent").CAPTION_CHANGE);this.$VideoPlayerController71=false};l.prototype.$VideoPlayerController128=function(){"use strict";this.getVideoAPI().toggleSubtitles();this.$VideoPlayerController114()};l.prototype.$VideoPlayerController114=function(){"use strict";if(this.hasSubtitles()&&this.areSubtitlesActive())this.$VideoPlayerController10="on";else this.$VideoPlayerController10="off"};l.prototype.isHD=function(){"use strict";return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop()};l.prototype.hasHD=function(){"use strict";return this.getAvailableVideoQualities().length>1};l.prototype.toggleHD=function(){"use strict";if(this.isHD())this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]);else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop())};l.prototype.setPreferredVideoQuality=function(m){"use strict";this.getVideoAPI().setPreferredVideoQuality(m)};l.prototype.unsetPreferredVideoQuality=function(){"use strict";this.getVideoAPI().unsetPreferredVideoQuality()};l.prototype.getPreferredVideoQuality=function(){"use strict";return this.getVideoAPI().getPreferredVideoQuality()};l.prototype.getSelectedVideoQuality=function(){"use strict";return this.getVideoAPI().getSelectedVideoQuality()};l.prototype.getAvailableVideoQualities=function(){"use strict";return this.getVideoAPI().getAvailableVideoQualities()};l.prototype.getVideoProjection=function(){"use strict";return this.getVideoAPI().getVideoProjection()};l.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.getVideoAPI().canAutoSelectVideoQuality()};l.prototype.switchToStreamType=function(m){"use strict";this.getVideoAPI().switchToStreamType(m)};l.prototype.$VideoPlayerController120=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",h).setString("source",this.$VideoPlayerController63).getURI().toString())};l.prototype.$VideoPlayerController119=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",i).setString("source",this.$VideoPlayerController63).getURI().toString())};l.prototype.$VideoPlayerController112=function(m){"use strict";var n=this.getVideoInfo_DEPRECATED();if(n!=null)return Object.assign({resource_url:n.resourceUrl,liveStream:n.isLiveStream,hd:n.isHD},m);return m};l.prototype.$VideoPlayerController140=function(){"use strict";var m=this.getDOMPosition(),n=b("getViewportDimensions")().height,o=null;if(m.y<=0)o=m.y;else if(m.y+m.height<n)o=0;else o=m.y+m.height-n;return o};l.prototype.logEvent=function(event,m){"use strict";__p&&__p();if(this.$VideoPlayerController84)return undefined;var n=++this.$VideoPlayerController22,o=Object.assign(this.$VideoPlayerController139(),m),p=this.getOriginalPlayReason();if(p&&event!==b("VideoPlayerLoggerEvent").DISPLAYED)o.video_play_reason=p;if(event===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)o.viewport_distance=this.$VideoPlayerController140();if(event===b("VideoPlayerLoggerEvent").MUTED||event===b("VideoPlayerLoggerEvent").UNMUTED||event===b("VideoPlayerLoggerEvent").STARTED_PLAYING||event===b("VideoPlayerLoggerEvent").CAPTION_CHANGE||event===b("VideoPlayerLoggerEvent").UNPAUSED)o.caption_state=this.$VideoPlayerController10;if(this.$VideoPlayerController81&&b("VideoViewabilityKeyEvents").Events.includes(event)){o.current_viewability_percentage=this.$VideoPlayerController82.getViewability();this.$VideoPlayerController82.setLastLoggedViewability(o.current_viewability_percentage)}o.seq_num=n;var q=this.$VideoPlayerController41.logEvent(event,o);this.emit("debug/vpcLogEvent",q);return q};l.prototype.getState=function(){"use strict";return this.$VideoPlayerController64};l.prototype.getStreamingFormat=function(){"use strict";var m=this.getVideoInfo_DEPRECATED()||{};return m.streamType||this.$VideoPlayerController37};l.prototype.setPlaybackRate=function(m){"use strict";if(this.getVideoAPI().setPlaybackRate)this.getVideoAPI().setPlaybackRate(m)};l.prototype.setState=function(m){"use strict";if(this.isState(b("VideoPlayerStates").DESTROYED)||this.isState(b("VideoPlayerStates").FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController64=m;if(this.$VideoPlayerController64==="fallback"){b("CSS").addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController115()}this.emit("stateChange")};l.prototype.isState=function(m){"use strict";return this.$VideoPlayerController64===m};l.prototype.isIntentionallyViewing=function(){"use strict";return this.isState("playing")&&!this.isMuted()};l.prototype.abortLoading=function(m){"use strict";__p&&__p();if(this.isState("loading")||this.isState("fallback"))return;if(b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController36)&&this.isState("finished"))this.seek(0);if(this.$VideoPlayerController85){this.$VideoPlayerController85();this.$VideoPlayerController85=null}this.getVideoAPI().abortLoading(m||{});this.stopHeartbeat()};l.prototype.preload=function(){"use strict";if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};l.prototype.getPlayerVersion=function(){"use strict";var m=null;if(this.$VideoPlayerController5.getPlayerVersion)m=this.$VideoPlayerController5.getPlayerVersion();else m=this.$VideoPlayerController50;return this.$VideoPlayerController90?this.$VideoPlayerController133(m):m};l.prototype.$VideoPlayerController133=function(m){"use strict";switch(m){case b("VideoPlayerVersions").SILVERCITY:return b("VideoPlayerVersions").REACT_SILVERCITY;case b("VideoPlayerVersions").PLEASANTVILLE:return b("VideoPlayerVersions").REACT_PLEASANTVILLE;default:return b("VideoPlayerVersions").REACT}};l.prototype.registerOption=function(m,n,o,p){"use strict";__p&&__p();var q=this.$VideoPlayerController13.get(m);if(!q){q=new(b("Map"))();this.$VideoPlayerController13.set(m,q)}if(q.has(n))throw new Error("An option can only be registered once for each component");q.set(n,{getter:o,setter:p});this.emit("optionsChange")};l.prototype.unregisterOption=function(m,n){"use strict";__p&&__p();var o=this.$VideoPlayerController13.get(m);if(!o)throw new Error('The component "'+m+'" has no options registered');if(!o.has(n))throw new Error('The component "'+m+'" has no option "'+n+'" registered');o["delete"](n);if(!o.size)this.$VideoPlayerController13["delete"](m);this.emit("optionsChange")};l.prototype.getComponents=function(){"use strict";return this.$VideoPlayerController13.keys()};l.prototype.getOptions=function(m){"use strict";var n=this.$VideoPlayerController13.get(m);if(n)return n.keys();return b("enumerate")([])};l.prototype.hasOption=function(m,n){"use strict";var o=this.$VideoPlayerController13.get(m);if(!o)return false;if(!o.has(n))return false;return true};l.prototype.getOption=function(m,n){"use strict";var o=this.$VideoPlayerController13.get(m);if(!o)return undefined;var p=o.get(n);if(!p)return undefined;return p.getter()};l.prototype.setOption=function(m,n,o){"use strict";__p&&__p();var p=this.$VideoPlayerController13.get(m);if(!p)throw new Error("Component not registered");var q=p.get(n);if(!q)throw new Error("Option not registered");var r=q.setter;if(r)return r(o);throw new Error("Read-only option")};l.prototype.showDebugOverlayView=function(m){"use strict";this.emit("showDebugOverlay",m)};l.prototype.$VideoPlayerController104=function(){"use strict";var m=b("DOMQuery").scry(this.$VideoPlayerController60,"^._5pat");return m.length?m[0]:null};l.prototype.registerDrawer=function(m,n){"use strict";return this.$VideoPlayerController20.register(m,n)};l.prototype.getVideoPath=function(){"use strict";return this.$VideoPlayerController79};l.prototype.setAllowCrossPageTransition=function(m){"use strict";this.$VideoPlayerController89=m};l.prototype.cleanOnLeave=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()};l.prototype.switchToFullVideo=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED);this.getVideoAPI().reloadDashManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER));this.emit("switchedToFullVideo");this.emit("playLiveVODHighlights/showUFI")}.bind(this))};l.prototype.switchToLiveVODHighlights=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED);this.getVideoAPI().reloadLiveVODHighlightsManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER));this.emit("switchedToLiveVODHighlights");this.emit("playLiveVODHighlights/hideUFI")}.bind(this))};l.prototype.isPlayingVODHighlights=function(){"use strict";if(this.isState("loading")||this.isState("fallback")||this.isState("destroyed"))return false;return this.getVideoAPI().isPlayingVODHighlights()};l.prototype.isLiveVODHighlightsAvailable=function(){"use strict";if(this.isState("loading")||this.isState("fallback")||this.isState("destroyed"))return false;return this.getVideoAPI().isLiveVODHighlightsAvailable()};l.prototype.$VideoPlayerController105=function(){"use strict";return this.getIsInChannel()||this.$VideoPlayerController63===b("VideoPlayerLoggerSource").LIVING_ROOM};l.prototype.getDashAudioConfiguration=function(){"use strict";return this.getVideoAPI().getDashAudioConfiguration()};c.exports=l}),null);
__d("EmbeddedVideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","VideoPlayerExperiments","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=2;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={iconColor:"white"}}n.prototype.onMouseOut=function(o){this.setState({iconColor:"white"})};n.prototype.onMouseOver=function(o){this.setState({iconColor:"blue"})};n.prototype.$EmbeddedVideoFBIconControl1=function(){return new(c("URI"))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-m))};n.prototype.render=function(){var o=this.state.iconColor==="blue"?h("115830"):h("114229"),p=null;p=c("React").createElement(c("Image.react"),{className:"_5i0o",src:o});var q=c("VideoPlayerExperiments").embeddedPlayerEnhancements?this.$EmbeddedVideoFBIconControl1():this.props.permalinkURL;return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(this.props.label,"above"),{className:"_3u33",href:q,image:p,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this),ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};n.defaultProps={label:j._("\u0627\u0646\u0642\u0631 \u0644\u0644\u0645\u0634\u0627\u0647\u062f\u0629 \u0639\u0644\u0649 \u0641\u064a\u0633\u0628\u0648\u0643"),labelIsHidden:true};f.exports=n}),null);
__d("VideoWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control",REPLAY_CONTROL:"replay_control"})}),null);
__d("EmbeddedVideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoWebDriverIDs","VideoPlayerExperiments","fbglyph","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c("shallowCompare")(this,o,p)};n.prototype.onMouseOut=function(o){c("ReactDOM").findDOMNode(this.refs.button).blur()};n.prototype.render=function(){var o=void 0;if(!c("VideoPlayerExperiments").fourArrowFullScreen)o=this.props.isFullscreen?h("115501"):h("115510");else o=this.props.isFullscreen?h("115504"):h("115507");var p=c("React").createElement(c("Image.react"),{className:"_5i0o",src:o}),q=this.props.isFullscreen?j._("\u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0627\u0644\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0634\u0627\u0634\u0629 \u0628\u0643\u0627\u0645\u0644\u0647\u0627"):j._("\u0639\u0631\u0636 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629");return c("React").createElement(c("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_3u33 _39ip","data-testid":c("VideoWebDriverIDs").FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:q,labelIsHidden:true}))};function n(){k.apply(this,arguments)}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n}),null);
__d("EmbeddedVideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","TooltipData","VideoWebDriverIDs","VideoPlayerExperiments","fbglyph","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false}}n.prototype.shouldComponentUpdate=function(o,p){return c("shallowCompare")(this,o,p)};n.prototype.isPlaying=function(){if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying};n.prototype.onButtonClick=function(){var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o)this.props.onPause&&this.props.onPause();else this.props.onPlay&&this.props.onPlay()};n.prototype.componentWillReceiveProps=function(){this.setState({awaitingUpdate:false})};n.prototype.onMouseOut=function(o){c("ReactDOM").findDOMNode(this.refs.button).blur()};n.prototype.render=function(){__p&&__p();var o=null,p=null;if(this.props.finishedPlaying){if(this.props.useDarkTheme)o=h("129899");else o=h("115482");p=j._("\u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644")}else{if(this.props.useDarkTheme)o=this.isPlaying()?h("129753"):h("129815");else o=this.isPlaying()?h("115336"):h("115398");p=this.isPlaying()?j._("\u0625\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a"):j._("\u062a\u0634\u063a\u064a\u0644")}var q=c("React").createElement(c("Image.react"),{className:"_5i0o",src:o});if(c("VideoPlayerExperiments").embeddedPlayerEnhancements)return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(p,"above"),{className:"_3u33","data-testid":c("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));else return c("React").createElement(c("AbstractButton.react"),{className:"_3u33","data-testid":c("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};n.defaultProps={useDarkTheme:false};f.exports=n}),null);
__d("EmbeddedVideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","ReactDOM","VideoPlayerExperiments","setImmediate","shallowCompare"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;function m(o){return o.toFixed(2).replace(/\.0+/,".0")+"x"}j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){"use strict";k.constructor.call(this,o);this.state={isFocus:false,isFocusMenuItem:false,rate:1}}n.prototype.shouldComponentUpdate=function(o,p){"use strict";return c("shallowCompare")(this,o,p)};n.prototype.onMouseOut=function(o){"use strict";c("ReactDOM").findDOMNode(this.refs.button).blur()};n.prototype.onButtonFocus=function(o){"use strict";this.setState({isFocus:true})};n.prototype.onButtonBlur=function(){"use strict";this.setState({isFocusMenuItem:false});c("setImmediate")(function(){if(!this.state.isFocusMenuItem)this.setState({isFocus:false})}.bind(this))};n.prototype.createRateItem=function(o,p,q){"use strict";var r=function r(u){q();u.preventDefault()},s=null;if(p)s=c("React").createElement("div",{className:"_25d1"});var t=c("React").createElement("div",{className:"_4v8w",style:{backgroundColor:"inherit"}},s);return c("React").createElement("a",{href:"#",key:o,className:"_4v8v",onBlur:this.onButtonBlur.bind(this),onClick:r,onFocus:function(){this.setState({isFocusMenuItem:true})}.bind(this),tabIndex:this.props.tabIndex},t,c("React").createElement("div",{className:"_4v8x _4trg"},o))};n.prototype.render=function(){"use strict";__p&&__p();var o=m(this.state.rate),p=null;if(!this.props.disabled){var q=[.5,1,1.25,1.5,1.75,2,2.5,3],r=q.map(function(u){return this.createRateItem(m(u),this.state.rate==u,function(){if(this.props.onSelectPlaybackRate)this.props.onSelectPlaybackRate(u);this.setState({rate:u})}.bind(this))}.bind(this));p=c("React").createElement("div",{className:"_42fl"+(this.state.isFocus?" _4v4":"")},c("React").createElement("div",{className:"_4v8y"},c("React").createElement("div",{className:"_28h1"},c("React").createElement("div",{className:"_4v8x"},i._("\u0633\u0631\u0639\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644")),r)),c("React").createElement("div",{className:"_4v8z"}))}var s="_3u33 _4irg"+(!c("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _4t3m":""),t=c("React").createElement(c("AbstractButton.react"),{className:s,label:o,onBlur:this.onButtonBlur.bind(this),onFocus:this.onButtonFocus.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"});return c("React").createElement("div",{className:"_1esn"},p,t)};n.propTypes={isEmbedded:l.bool,onSelectPlaybackRate:l.func,tabIndex:l.string};n.defaultProps={tabIndex:"-1"};f.exports=n}),null);
__d("EmbeddedVideoPlaybackTimer.react",["cx","DateConsts","React","VideoPlayerExperiments","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false}}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return c("shallowCompare")(this,m,n)};l.prototype.componentWillReceiveProps=function(m){"use strict";if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime})};l.prototype.getClock=function(m){"use strict";__p&&__p();var n="";if(isNaN(m))m=0;else if(m<0){m*=-1;n="-"}var o=Math.floor(m/c("DateConsts").SEC_PER_HOUR),p=Math.floor((m-o*c("DateConsts").SEC_PER_HOUR)/c("DateConsts").SEC_PER_MIN),q=null;if(!this.props.displayMilliseconds)q=Math.round(m-o*c("DateConsts").SEC_PER_HOUR-p*c("DateConsts").SEC_PER_MIN);else q=Math.floor(m-o*c("DateConsts").SEC_PER_HOUR-p*c("DateConsts").SEC_PER_MIN);if(q===c("DateConsts").SEC_PER_MIN){q=0;p++}if(p===c("DateConsts").MIN_PER_HOUR){p=0;o++}var r=m-o*c("DateConsts").SEC_PER_HOUR-p*c("DateConsts").SEC_PER_MIN-q,s=Math.round(r*c("DateConsts").MS_PER_SEC),t=("0"+p).slice(-2),u=("0"+q).slice(-2),v=("00"+s).slice(-3),w=n;if(o===0)w+=p+":"+u;else w+=o+":"+t+":"+u;if(this.props.displayMilliseconds)w+="."+v;return w};l.prototype.onButtonClick=function(){"use strict";this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true})};l.prototype.render=function(){"use strict";__p&&__p();var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg"+(!c("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _4t3m":"");if(this.props.isInScrubberPreview)o="_5lde";var p=Object.assign({},this.props);delete p.displayElapsedTime;delete p.displayMilliseconds;delete p.isInScrubberPreview;delete p.playbackPosTimestamp;delete p.remainingTimestamp;delete p.isEmbedded;return c("React").createElement("div",babelHelpers["extends"]({},p,{className:c("joinClasses")(this.props.className,o),onClick:this.onButtonClick.bind(this),role:"button",tabIndex:"0"}),this.getClock(n))};l.propTypes={isEmbedded:k.bool,isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool,displayMilliseconds:k.bool,useDarkTheme:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false,displayMilliseconds:false,useDarkTheme:false};f.exports=l}),null);
__d("EmbeddedVideoScrubberPointOfInterestBar.react",["cx","EmbeddedVideoPlaybackTimer.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k,l,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={visibility:"hidden"},q}n.prototype.render=function(){"use strict";var p=this.props.timestamp,q=p*100/this.props.playbackDuration+"%",r=c("React").createElement(c("EmbeddedVideoPlaybackTimer.react"),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:p,style:{left:q,visibility:this.state.visibility}});return c("React").createElement("div",null,c("React").createElement(c("ShimButton.react"),{className:"_2f0h"+(this.props.isActive?" _3t5h":""),onClick:function(s){return this.props.onPointOfInterestSelect(p)}.bind(this),onMouseEnter:function(s){return this.setState({visibility:"visible"})}.bind(this),onMouseLeave:function(s){return this.setState({visibility:"hidden"})}.bind(this),style:{left:q}}),this.props.showPointOfInterestTimestamps&&r)};n.propTypes={playbackDuration:m.number.isRequired,timestamp:m.number.isRequired,isActive:m.bool.isRequired,showPointOfInterestTimestamps:m.bool.isRequired,onPointOfInterestSelect:m.func.isRequired};k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(u){return c("React").createElement(n,{key:"poi"+u,playbackDuration:this.props.playbackDuration,timestamp:u,isActive:u===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect,showPointOfInterestTimestamps:!!this.props.showPointOfInterestTimestamps})}.bind(this),q}o.prototype.shouldComponentUpdate=function(p,q){"use strict";return p.tabIndex!=this.props.tabIndex||p.currentPointOfInterest!==this.props.currentPointOfInterest||p.playbackDuration!=this.props.playbackDuration||p.pointsOfInterest.length!=this.props.pointsOfInterest.length||p.pointsOfInterest.some(function(r,s){return this.props.pointsOfInterest[s]!=r}.bind(this))};o.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_2f0i",tabIndex:this.props.tabIndex},c("React").createElement("div",{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this)))};o.propTypes={tabIndex:m.string.isRequired,playbackDuration:m.number.isRequired,onPointOfInterestSelect:m.func.isRequired,currentPointOfInterest:m.number,pointsOfInterest:m.array.isRequired,showPointOfInterestTimestamps:m.bool};f.exports=o}),null);
__d("AdBreakInsertionDisabledReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BRANDED_CONTENT:"branded_content",BROADCAST:"broadcast",HAS_LIVE_AD_BREAKS:"has_live_ad_breaks",NO_PERMISSION:"no_permission",NOT_ONBOARDED:"not_onboarded",NOT_ORGANIC_UPLOAD:"not_organic_upload",VIDEO_TOO_SHORT:"video_too_short"})}),null);
__d("VideoInstreamUtils",["fbt","AdBreakInsertionDisabledReason","DateConsts","Set","VideoInstreamAdsConstants"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={convertFormattedTimeToSeconds:function j(k){__p&&__p();var l=0,m=k.split(".");if(m.length>2)return null;if(m.length===2){if(m[1].length===0)return null;var n=m[1];while(n.length<3)n+="0";var o=Number(n);if(isNaN(o)||o<0||o>=c("DateConsts").MS_PER_SEC)return null;l+=o/c("DateConsts").MS_PER_SEC}var p=m[0].split(":");if(p.length>3)return null;for(var q=0;q<p.length;q++){if(p[q].length===0)return null;var r=Number(p[q]);if(isNaN(r)||r<0||r>=60)return null;l+=r*Math.pow(60,p.length-q-1)}return l},convertTimestampToFormattedString:function j(k){k=Math.round(k*c("DateConsts").MS_PER_SEC)/c("DateConsts").MS_PER_SEC;var l=Math.floor(k/c("DateConsts").SEC_PER_HOUR),m=k-l*c("DateConsts").SEC_PER_HOUR,n=Math.floor(m/c("DateConsts").SEC_PER_MIN),o=Math.floor(m-n*c("DateConsts").SEC_PER_MIN),p=Math.round(m*c("DateConsts").MS_PER_SEC),q=("0"+l).slice(-2),r=("0"+n).slice(-2),s=("0"+o).slice(-2),t=("00"+p).slice(-3),u="";if(l>0)u+=q+":";return u+=r+":"+s+"."+t},getMaxPossibleAdBreaks:function j(k,l){var m=Math.ceil(k)*c("DateConsts").MS_PER_SEC;if(m<c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;if(!l)return c("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS;var n=(m-c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(n)+1)},getEligibleTimeSegments:function j(k,l,m){__p&&__p();var n=i.getMaxPossibleAdBreaks(l,m);if(n===0||!m&&k.length>=n)return[];var o=c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,p=l-c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,q=c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_SEC;if(k.length===0||!m)return[{start:o,end:p}];var r=[];k.forEach(function(s,t){__p&&__p();if(t===0){var u=s.timeOffset-q;if(u>=o)r.push({start:o,end:u})}if(t-1>=0){var v=k[t-1].timeOffset+q,w=s.timeOffset-q;if(v<=w)r.push({start:v,end:w})}if(t===k.length-1){var x=s.timeOffset+q;if(x<=p)r.push({start:x,end:p})}});return r},isInEligibleTimeSegments:function j(k,l,m,n){if(k===null||k===undefined)return false;var o=i.getEligibleTimeSegments(m,l,n);for(var p=0;p<o.length;p++)if(k>=o[p].start&&k<=o[p].end)return true;return false},isAdBreakViolatingInsertionRules:function j(k,l,m,n){__p&&__p();var o=k[l];if(o.timeOffset*c("DateConsts").MS_PER_SEC<c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return true;if((m-o.timeOffset)*c("DateConsts").MS_PER_SEC<c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return true;if(n)for(var p=0;p<k.length;p++){if(p===l||k[p].timeOffset>=o.timeOffset)continue;if((o.timeOffset-k[p].timeOffset)*c("DateConsts").MS_PER_SEC<c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return true}return false},getAdBreakTabState:function j(k,l,m,n){var o=new(c("Set"))(k);if(i.getMaxPossibleAdBreaks(m,n)===0)o.add(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);if(l)o.add(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT);return this._getAdBreakTabStateFromDisabledReasons(o)},_getAdBreakTabStateFromDisabledReasons:function j(k){if(k.size===0)return{disabled:false,errorMessageHeader:null,errorMessageContent:null};else if(k.has(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:true,errorMessageHeader:h._({"*":"\u064a\u062c\u0628 \u0623\u0644\u0627 \u062a\u0642\u0644 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0639\u0646 {insertion interval} \u0645\u0646 \u0627\u0644\u062b\u0648\u0627\u0646\u064a"},[h.param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:h._("\u0645\u0642\u0637\u0639\u0643 \u0642\u0635\u064a\u0631 \u0644\u0644\u063a\u0627\u064a\u0629 \u0644\u062f\u0631\u062c\u0629 \u0644\u0627 \u062a\u0633\u0645\u062d \u0628\u062a\u0634\u063a\u064a\u0644 \u0641\u0648\u0627\u0635\u0644 \u0625\u0639\u0644\u0627\u0646\u064a\u0629.")};else if(k.has(c("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:true,errorMessageHeader:h._("\u0627\u0644\u0641\u0648\u0627\u0635\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u064a\u0629 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631\u0629"),errorMessageContent:h._("\u064a\u0645\u0643\u0646 \u0648\u0636\u0639 \u0641\u0648\u0627\u0635\u0644 \u0625\u0639\u0644\u0627\u0646\u064a\u0629 \u0641\u064a \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u0623\u0635\u0644\u064a\u0629 \u0641\u0642\u0637\u060c \u0648\u0644\u064a\u0633 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u0645\u0639\u0627\u062f \u0645\u0634\u0627\u0631\u0643\u062a\u0647\u0627 \u0623\u0648 \u0627\u0644\u062a\u064a \u064a\u062a\u0645 \u0646\u0634\u0631\u0647\u0627 \u0641\u064a \u0645\u0646\u0634\u0648\u0631\u0627\u062a \u0645\u062a\u0639\u062f\u062f\u0629.")};else if(k.has(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:true,errorMessageHeader:h._("\u0627\u0644\u0641\u0648\u0627\u0635\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u064a\u0629 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631\u0629"),errorMessageContent:h._("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u0635\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u064a\u0629 \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0644\u0623\u0646\u0647 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0634\u0631\u0643\u0627\u0621 \u0623\u0639\u0645\u0627\u0644 \u062a\u0645\u062a \u0627\u0644\u0625\u0634\u0627\u0631\u0629 \u0625\u0644\u064a\u0647\u0645.")};return{disabled:true,errorMessageHeader:h._("\u0627\u0644\u0641\u0648\u0627\u0635\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u064a\u0629 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631\u0629"),errorMessageContent:null}}};f.exports=i}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function a(b,c,d,e,f,g){var h={getImageCoordinatesInSpriteByTime:function i(j,k){var l=this.getTotalTimeInSprite(k.maxImagesPerSprite,k.timeIntervalBetweenImages),m=Math.floor(j%l/k.timeIntervalBetweenImages),n=Math.floor(m/k.imagesPerRow),o=m%k.imagesPerRow;return{x:o*k.previewScrubberWidth,y:n*k.previewScrubberHeight}},getSpriteIndex:function i(j,k,l){var m=this.getTotalTimeInSprite(k,l);return Math.floor(j/m)+1},getTotalTimeInSprite:function i(j,k){return j*k}};f.exports=h}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"})}),null);
__d("EmbeddedVideoScrubber.react",["cx","fbt","DateConsts","EmbeddedVideoScrubberPointOfInterestBar.react","EventListener","Keys","Map","EmbeddedVideoPlaybackTimer.react","React","ReactDOM","Tooltip.react","VideoScrubberPreviewSpriteCalculation","VideoStereoFormat","JSResource","BootloadedComponent.react","VideoInstreamAdsConstants","VideoInstreamUtils","emptyFunction","getElementPosition","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){"use strict";k.constructor.call(this,n);this.$EmbeddedVideoScrubber6=new(c("Map"))();this.$EmbeddedVideoScrubber6.set(0,"");this.$EmbeddedVideoScrubber9=0;this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:false},lastSpriteDimension:{numRow:0,numColumn:0}}}m.prototype.shouldComponentUpdate=function(n,o){"use strict";return c("shallowCompare")(this,n,o)};m.prototype.onDragNubBeginImpl=function(n,o){"use strict";this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(o,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault()};m.prototype.onDragNubBeginClick=function(n){"use strict";if(n.button!==0)return;this.onDragNubBeginImpl(n,n.clientX)};m.prototype.onDragNubBeginTouch=function(n){"use strict";if(this.props.alwaysShowThumbnail)return;n.persist();var o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:o},function(){return this.onDragNubBeginImpl(n,n.touches[0].clientX)}.bind(this))};m.prototype.componentWillReceiveProps=function(n){"use strict";this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:o});this.$EmbeddedVideoScrubber8=null;this.$EmbeddedVideoScrubber7=null;this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(n.playbackDuration,n.playbackPosition))}};m.prototype.componentDidUpdate=function(n,o){"use strict";__p&&__p();if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c("EventListener").listen(document,"mousemove",function(p){this.onDragNubUpdate(p.clientX);this.onTimecodeUpdate(p,p.clientX)}.bind(this));this.$EmbeddedVideoScrubber2=c("EventListener").listen(document,"mouseup",this.onDragNubRelease.bind(this));this.$EmbeddedVideoScrubber4=c("EventListener").listen(document,"touchmove",function(p){this.onDragNubUpdate(p.touches[0].clientX);this.onTimecodeUpdate(p,p.touches[0].clientX)}.bind(this));this.$EmbeddedVideoScrubber3=c("EventListener").listen(document,"touchend",this.onDragNubRelease.bind(this))}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();if(this.$EmbeddedVideoScrubber4)this.$EmbeddedVideoScrubber4.remove();if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove()}if(!o.mouseOver&&this.state.mouseOver)this.$EmbeddedVideoScrubber5=c("EventListener").listen(document,"mousemove",function(p){return this.onTimecodeUpdate(p,p.clientX)}.bind(this));else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber5)this.$EmbeddedVideoScrubber5.remove()};m.prototype.timecodeUpdate=function(n){"use strict";__p&&__p();var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber7?this.$EmbeddedVideoScrubber7:c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber7=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r})}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c("ReactDOM").unstable_batchedUpdates(function(){if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)this.updatePreviewThumbnailVideo(p,q,n);else if(this.props.scrubberPreviewSprites)this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n)}.bind(this))}};m.prototype.onTimecodeUpdate=function(n,o){"use strict";this.timecodeUpdate(o);n.preventDefault();n.stopPropagation()};m.prototype.updatePreviewThumbnail=function(n,o,p,q){"use strict";__p&&__p();this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber6;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber6=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s)}this.updatePreviewThumbnailLocation(p,q)};m.prototype.updatePreviewThumbnailVideo=function(n,o,p){"use strict";this.setState({timecodeTimestamp:n});var q=c("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);q.currentTime=n/30;this.updatePreviewThumbnailLocation(o,p)};m.prototype.updatePreviewThumbnailLocation=function(n,o){"use strict";var p=this.$EmbeddedVideoScrubber8?this.$EmbeddedVideoScrubber8:this.$EmbeddedVideoScrubber8=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber8=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q})};m.prototype.updatePreviewThumbnailImage=function(n,o,p){__p&&__p();var q,r=this;"use strict";var s=c("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(n,o),t=c("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber6)(function(){var u=r.$EmbeddedVideoScrubber6.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height)};v.src=u})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s})};m.prototype.onLastImageLoad=function(n,o){"use strict";this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}})};m.prototype.retrievePreviewThumbnailInfo=function(){"use strict";this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};m.prototype.isSpriteMapURIFetched=function(){"use strict";if(this.$EmbeddedVideoScrubber6)return this.$EmbeddedVideoScrubber6.size>1;else return false};m.prototype.getPositionRatio=function(n,o){"use strict";var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1)};m.prototype.onDragNubUpdate=function(n){"use strict";this.setState({scrubRatio:this.getPositionRatio(n,this.state.barCoords)})};m.prototype.onDragNubRelease=function(n){"use strict";__p&&__p();var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation()};m.prototype.getPlayedRatio=function(n,o){"use strict";if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p)};m.prototype.getBufferedRatio=function(){"use strict";var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p)};m.prototype.getRangeLimitedRatio=function(n){"use strict";if(isNaN(n)||n<0||n>1)return 0;return n};m.prototype.getNumberOfSprites=function(){"use strict";if(this.$EmbeddedVideoScrubber6)return this.$EmbeddedVideoScrubber6.size;return 0};m.prototype.getAdBreakIndicators=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.adBreaks)return null;var n=[];for(var o=0;o<this.props.adBreaks.length;o++){var p=this.props.adBreaks[o],q=p.getTimeOffsetInMs();if(q===null||q===undefined)continue;q/=c("DateConsts").MS_PER_SEC;var r=this.props.playbackDuration;if(q<0||q>r)continue;var s={left:q/r*100+"%"},t=[];if(this.props.adBreaksDisableReasons)t=this.props.adBreaksDisableReasons[o];var u="[FB Only] The ad break is disabled for "+t.join(", ")+".";n.push(c("React").createElement("div",{key:"ad_break_indicator_"+o,style:s,className:(t.length===0?"_5z5n":"")+(t.length>0?" _4f8m":"")+(p.getIsAdBreakAutoInserted()&&t.length===0?" _3mi6":"")+(p.getIsAdBreakAutoInserted()&&t.length>0?" _4f8n":"")},t.length>0?c("React").createElement(c("Tooltip.react"),{tooltip:u},"X"):null))}return c("React").createElement("div",null,n)};m.prototype.getInsertedAdBreaks=function(){"use strict";if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=[];this.props.insertedAdBreaks.map(function(o,p){var q=o.timeOffset,r=this.props.playbackDuration,s={left:q/r*100-1.4+"%"};n.push(c("React").createElement("div",{key:"inserted_ad_break"+p,style:s,className:(!this.props.isAdBreakInsertionWithoutGapRule?"_2d49":"")+(this.props.isAdBreakInsertionWithoutGapRule?" _2_gx":"")+(this.props.isAdBreakDisabled?" _9ob":"")},this.props.isAdBreakInsertionWithoutGapRule?null:p+1))}.bind(this));return c("React").createElement("div",null,n)};m.prototype.getEligibleAdBreaksTimeSegments=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;if(this.props.isAdBreakInsertionWithoutGapRule&&this.props.insertedAdBreaks&&this.props.insertedAdBreaks.length>=c("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS)return null;var n=0;if(this.state.awaitingUpdate)n=this.$EmbeddedVideoScrubber9;else n=this.props.playbackPosition;var o=this.props.playbackDuration,p=c("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,o,!this.props.isAdBreakInsertionWithoutGapRule);if(this.state.nubEngaged)this.$EmbeddedVideoScrubber9=this.state.timecodeTimestamp;else this.$EmbeddedVideoScrubber9=n;var q=[];p.forEach(function(r,s){var t=(r.end-r.start)/o*100,u=this.$EmbeddedVideoScrubber9>=r.start&&this.$EmbeddedVideoScrubber9<=r.end,v={left:"calc("+r.start/o*100+"% - 2px)",width:t+"%"};q.push(c("React").createElement("span",{key:"time_segment"+s,className:"_2xtr"+(u?" _3al5":""),style:v}))}.bind(this));return c("React").createElement("div",{className:"_44bi"},q)};m.prototype.onMouseEnter=function(n){"use strict";if(this.props.alwaysShowThumbnail)return;var o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o})};m.prototype.onMouseLeave=function(n){"use strict";__p&&__p();if(this.props.alwaysShowThumbnail)return;c("ReactDOM").findDOMNode(this.refs.bar).blur();c("ReactDOM").unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})}.bind(this));this.$EmbeddedVideoScrubber8=null;this.$EmbeddedVideoScrubber7=null};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview)o=this.refs.previewThumbnailContainer;else o=this.refs.timecode;var p=c("ReactDOM").findDOMNode(o);p.style.visibility="hidden"};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview)o=this.refs.previewThumbnailContainer;else o=this.refs.timecode;var p=c("ReactDOM").findDOMNode(o);p.style.visibility="visible"};m.prototype.onKeyDown=function(n){"use strict";__p&&__p();var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c("Keys").RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01}else if(n.keyCode===c("Keys").LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0}else if(n.keyCode===c("Keys").HOME){n.preventDefault();n.stopPropagation();q=0}else if(n.keyCode===c("Keys").END){n.preventDefault();n.stopPropagation();q=o-.01}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q)};m.prototype.canShowHeatmap=function(){"use strict";return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};m.prototype.render=function(){"use strict";__p&&__p();var n=c("joinClasses")(this.props.className,"_gn0"+(this.state.nubEngaged?" _gn1":"")),o=(this.props.hasScrubberPreview?"_24wr":"")+(!this.props.hasScrubberPreview?" _4irh":""),p={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},q={width:this.getBufferedRatio()*100+"%"},r={left:this.state.timecodeRatio*100+"%"},s={},t={},u=null,v=null,w=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){w=c("React").createElement(c("EmbeddedVideoPlaybackTimer.react"),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,A=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;A*=this.state.previewThumbnailInformation.imagesPerColumn}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;A*=this.state.lastSpriteDimension.numColumn}var B=this.state.previewThumbnailInformation.stereoMode;if(B===c("VideoStereoFormat").LEFT_RIGHT){x/=2;z*=2}else if(B===c("VideoStereoFormat").TOP_BOTTOM){y/=2;A*=2}var C=1;if(this.props.isFullscreen)C=1.5;else if(this.props.isInTahoe)C=1.2;if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){s={width:x*C+"px",height:y*C+"px"};v=c("React").createElement("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s})}else if(this.$EmbeddedVideoScrubber6){var D="";if(this.state.scrubberPreviewSpriteIndex){var E=this.$EmbeddedVideoScrubber6.get(this.state.scrubberPreviewSpriteIndex);if(E)D="url("+E+")"}var F=void 0;if(z>100)F=z+"% "+A+"%";else D="";s={width:x*C+"px",height:y*C+"px",backgroundImage:D,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*C+"px -"+this.state.scrubberPreviewBackgroundPosition.y*C+"px",backgroundSize:F};v=c("React").createElement("div",{className:"_24wt",ref:"previewThumbnail",style:s})}t={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":undefined};u=c("React").createElement("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:"previewThumbnailContainer",style:t},v,w)}}var G=null;if(this.props.pointsOfInterest.length>0)G=c("React").createElement(c("EmbeddedVideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps});var H=this.getAdBreakIndicators(),I=null;if(this.canShowHeatmap()){var J=this.props.hasScrubberPreview?u:w,K=null;if(J!=null)K=this.refs[J.ref];I=c("React").createElement("div",{className:"_27ew"},c("React").createElement("div",{className:"_5h19",style:p},c("React").createElement("div",{className:"_gn5 _5ixx",ref:"nub"})),c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("LiveHeatmap.react").__setRef("EmbeddedVideoScrubber.react"),bootloadPlaceholder:c("React").createElement("div",null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:K,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":i._("Change Position")}),J,H)}var L=this.props.playbackDuration>500?10:1,M=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*L)/L,N=M+"%",O=c("React").createElement("div",{className:n,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBeginClick.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onTouchStart:this.onDragNubBeginTouch.bind(this),role:"presentation"},I?I:c("React").createElement("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":N,"aria-label":i._("\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0645\u0648\u0636\u0639"),className:"_gn2",ref:"bar"},c("React").createElement("div",{className:"_gn3",style:q}),c("React").createElement("div",{style:p,className:"_gn4"},c("React").createElement("div",{className:"_gn5 _5ixx",ref:"nub"})),this.props.hasScrubberPreview?u:w,H,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return c("React").createElement("div",null,O,G)};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,showPointOfInterestTimestamps:l.bool,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:c("emptyFunction"),onScrubBegin:c("emptyFunction"),onScrubEnd:c("emptyFunction"),showPointOfInterestTimestamps:false};f.exports=m}),null);
__d("EmbeddedVideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.onButtonClick=function(){this.props.onSidePaneToggle()}.bind(this),p}n.prototype.render=function(){var o=this.props.isSidePaneOpen?j._("\u0627\u0646\u0642\u0631 \u0644\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"):j._("\u0627\u0646\u0642\u0631 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"),p=this.props.isSidePaneOpen?h("114795"):h("114783");return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({className:"_3u33"},c("TooltipData").propsFor(o,"above"),{image:c("React").createElement(c("Image.react"),{className:"_345n",src:p}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};n.defaultProps={label:j._("\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"),labelIsHidden:true};n.propTypes={isSidePaneOpen:m.bool,label:m.string,onSidePaneToggle:m.func,tabIndex:m.string};f.exports=n}),null);
__d("EmbeddedVideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","shallowCompare"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume}}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return c("shallowCompare")(this,m,n)};l.prototype.componentWillReceiveProps=function(m){"use strict";this.setState({awaitingUpdate:false})};l.prototype.componentDidUpdate=function(m,n){"use strict";__p&&__p();if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();if(this.$EmbeddedVideoVolumeSlider3)this.$EmbeddedVideoVolumeSlider3.remove();if(this.$EmbeddedVideoVolumeSlider4)this.$EmbeddedVideoVolumeSlider4.remove()}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c("EventListener").listen(document,"mousemove",this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c("EventListener").listen(document,"mouseup",this.onMouseUpImpl.bind(this));this.$EmbeddedVideoVolumeSlider3=c("EventListener").listen(document,"touchmove",this.onTouchMove.bind(this));this.$EmbeddedVideoVolumeSlider4=c("EventListener").listen(document,"touchend",this.onMouseUpImpl.bind(this))}};l.prototype.onMouseDownImpl=function(m,n,o){"use strict";this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);if(this.props.isHorizontal)this.setState({engaged:true,volume:this.getClampedClickPositionVolume(n)});else this.setState({engaged:true,volume:this.getClampedClickPositionVolume(o)});m.preventDefault();m.stopPropagation()};l.prototype.onMouseDown=function(m){"use strict";if(m.button!==0)return;this.onMouseDownImpl(m,m.clientX,m.clientY)};l.prototype.onTouchDown=function(m){"use strict";this.onMouseDownImpl(m,m.touches[0].clientX,m.touches[0].clientY)};l.prototype.getClampedClickPositionVolume=function(m){"use strict";var n=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.slider)),o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var p=m+o/2-n.x;return Math.max(0,Math.min(1,p/n.width))}else{var q=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,q/n.height))}};l.prototype.onMouseUpImpl=function(m){"use strict";this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation()};l.prototype.onMouseMoveImpl=function(m,n,o){"use strict";if(this.props.isHorizontal)this.setState({volume:this.getClampedClickPositionVolume(n)});else this.setState({volume:this.getClampedClickPositionVolume(o)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation()};l.prototype.onMouseMove=function(m){"use strict";this.onMouseMoveImpl(m,m.clientX,m.clientY)};l.prototype.onTouchMove=function(m){"use strict";this.onMouseMoveImpl(m,m.touches[0].clientX,m.touches[0].clientY)};l.prototype.getVolume=function(){"use strict";if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume};l.prototype.render=function(){"use strict";var m=this.props.isHorizontal||false,n=m?{width:Math.round(this.getVolume()*100)+"%"}:{height:Math.round(this.getVolume()*100)+"%"},o="_2-ml"+(m?" _3cxz":"")+(this.state.engaged?" _gn1":"");return c("React").createElement("div",{className:o,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchDown.bind(this)},c("React").createElement("div",{className:"_3ghu"},c("React").createElement("div",{className:"_2-mm",ref:"slider"},c("React").createElement("div",{className:"_2-mn",style:n},c("React").createElement("div",{className:"_2-mo _5ixx",ref:"nub"})))),c("React").createElement("div",{className:"_2-mp"}))};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function m(n){},onVolumeChangeBegin:function m(n){},onVolumeChangeEnd:function m(n){}};f.exports=l}),null);
__d("SpatialAudioFeedNUX.react",["ix","fbt","cx","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=i._("\u0627\u0633\u062a\u0645\u062a\u0639 \u0623\u0643\u062b\u0631 \u0645\u0639 \u0627\u0644\u0635\u0648\u062a \u0628\u062a\u0642\u0646\u064a\u0629 360 \u062f\u0631\u062c\u0629"),n=i._("\u064a\u0645\u0643\u0646\u0643 \u0633\u0645\u0627\u0639 \u0627\u0644\u0635\u0648\u062a \u0645\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0627\u062a\u062c\u0627\u0647\u0627\u062a \u0639\u0646\u062f \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0633\u0645\u0627\u0639\u0627\u062a \u0627\u0644\u0623\u0630\u0646"),o=4576;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:false});var r=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",o).getURI();new(c("AsyncRequest"))().setURI(r).send()}.bind(this);this.state={showNux:true}}p.prototype.render=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:"auto"},c("React").createElement("div",{className:"_4r0v"},c("React").createElement("div",{className:"_4r0w"},c("React").createElement("div",{className:"_4r0x"},c("React").createElement(c("Image.react"),{src:h("114375")}))),c("React").createElement("div",{className:"_4r0y"},c("React").createElement(c("XUIText.react"),{size:"body2",className:"_4r0z"},m),c("React").createElement(c("XUIText.react"),{size:"meta1",className:"_4r0-"},n))))};f.exports=p}),null);
__d("EmbeddedVideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","VideoPlayerVolumeSettings","VideoWebDriverIDs","EmbeddedVideoVolumeSlider.react","fbglyph","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p){"use strict";m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1}}o.prototype.shouldComponentUpdate=function(p,q){"use strict";return c("shallowCompare")(this,p,q)};o.prototype.onButtonClick=function(){"use strict";this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};o.prototype.onButtonFocus=function(){"use strict";this.setState({focused:true})};o.prototype.onButtonBlur=function(){"use strict";this.setState({focused:false})};o.prototype.onKeyDown=function(p){"use strict";__p&&__p();var q=this.props.volume;if(p.keyCode===c("Keys").UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1}else if(p.keyCode===c("Keys").DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0}else return;this.onSliderVolumeChangeEnd(q)};o.prototype.onMouseOut=function(p){"use strict";c("ReactDOM").findDOMNode(this.refs.button).blur()};o.prototype.getVolume=function(){"use strict";if(this.props.isMuted)return 0;return this.props.volume};o.prototype.onSliderVolumeChangeBegin=function(){"use strict";var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(p)}};o.prototype.onSliderVolumeChangeEnd=function(p){"use strict";__p&&__p();if(p>0){this.setState({lastVolumeBeforeMute:p});c("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(p);this.onSliderVolumeChange(p)}else{this.props.onVolumeChange(this.state.lastVolumeBeforeMute);if(!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted()}this.setState({nubEngaged:false})};o.prototype.onSliderVolumeChange=function(p){"use strict";if(p>0&&this.props.isMuted||p===0&&!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p)};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){"use strict";this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||k(0)};o.prototype.render=function(){"use strict";__p&&__p();var p=Math.round(this.getVolume()*100),q=null;if(p==0)q=c("React").createElement(c("Image.react"),{className:"_5i0o",src:this.props.useDarkTheme?h("130161"):h("115743")});else{var r=null;if(p<=33)r=this.props.useDarkTheme?h("130155"):h("115737");else if(p<=66)r=this.props.useDarkTheme?h("130158"):h("115740");else r=this.props.useDarkTheme?h("130164"):h("115746");q=c("React").createElement("div",{className:"_44_"},c("React").createElement("div",{className:"_454"},c("React").createElement(c("Image.react"),{className:"_5i0o",src:r})))}var s="_3s02"+(this.state.nubEngaged?" _gn1":"")+(this.state.focused?" _4v4":""),t="_3u33 _3s03",u=!this.getVolume()?j._("\u0625\u0644\u063a\u0627\u0621 \u0643\u062a\u0645 \u0627\u0644\u0635\u0648\u062a"):j._("\u0643\u062a\u0645"),v=c("React").createElement(c("EmbeddedVideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||false,volume:this.getVolume()}),w=c("React").createElement(c("AbstractButton.react"),{className:t,"data-testid":c("VideoWebDriverIDs").MUTE_UNMUTE_CONTROL,image:q,label:u,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}),x=this.props.showSpatialAudioNUX?c("React").createElement(c("SpatialAudioFeedNUX.react"),{contextRef:function(){return this.refs.button}.bind(this)}):null;if(this.props.isHorizontal)return c("React").createElement("div",{className:s},w,v,x);return c("React").createElement("div",{className:s},v,w,x)};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number,useDarkTheme:n.bool};o.defaultProps={useDarkTheme:false};f.exports=o}),null);
__d("EmbeddedVideoControls.react",["ix","cx","fbt","AbstractButton.react","BootloadedComponent.react","EmbeddedVideoFBIconControl.react","EmbeddedVideoFullscreenControl.react","JSResource","Image.react","EmbeddedVideoPlaybackControl.react","EmbeddedVideoPlaybackRateControl.react","EmbeddedVideoPlaybackTimer.react","React","EmbeddedVideoScrubber.react","EmbeddedVideoSidepaneToggleControl.react","TooltipData","EmbeddedVideoVolumeControl.react","VideoPlayerExperiments","fbglyph","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){"use strict";l.constructor.call(this,o)}n.prototype.shouldComponentUpdate=function(o,p){"use strict";return c("shallowCompare")(this,o,p)};n.prototype.isHidden=function(){"use strict";return this.props.hidden};n.prototype.isTransparent=function(){"use strict";return this.props.transparent};n.prototype.render=function(){"use strict";__p&&__p();var o=c("VideoPlayerExperiments").inlineSoundVisible,p="_2mbh"+(this.isHidden()?" _2mbi":"")+(this.isTransparent()&&!o?" _5744":""),q="_i5q"+(this.props.showSidePaneToggle?" _369t":"")+(this.props.useDarkTheme?" _3k_t":""),r="_2mbj _2mbk"+(this.isTransparent()&&o?" _5744":""),s="_2mbj _yaw"+(this.isTransparent()&&o?" _5744":""),t="_2mbj _2mbl"+(this.isTransparent()&&o?" _5744":""),u="_2mbj _4a9j"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _5744":""),v="_5rbl",w="_3rfy _4lqt _4ubd",x="_4lqt _4ubd _3t0x"+(!this.props.isCommentAttachment?" hidden_elem":""),y=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var z=this.props.playbackPosition-this.props.playbackDuration;y=c("React").createElement(c("EmbeddedVideoPlaybackTimer.react"),{className:"_25e2"+(this.props.displayMilliseconds?" _5ziu":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:z,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds})}var A=null,B=null,C=null,D=null,E=void 0;if(this.props.isInTahoe&&this.props.isLive)E=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("EmbeddedVideoQuietModeControl.react").__setRef("EmbeddedVideoControls.react"),bootloadPlaceholder:c("React").createElement("span",null),videoID:this.props.videoID});if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c("VideoPlayerExperiments").redesign)C=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("EmbeddedVideoSettingsControl.react").__setRef("EmbeddedVideoControls.react"),bootloadPlaceholder:c("React").createElement("span",null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isInline:this.props.isInline,isSphericalVideo:this.props.isSphericalVideo,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat});if(this.props.isLive)if(c("VideoPlayerExperiments").hlsButton)D=c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("EmbeddedVideoToHLSControl.react").__setRef("EmbeddedVideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"});var F=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&this.props.isInline){var G=c("React").createElement(c("Image.react"),{className:"_5i0o",src:h("115510")}),H=j._("\u0627\u0646\u0642\u0631 \u0644\u0644\u062a\u0643\u0628\u064a\u0631");F=c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(H,"above"),{className:"_3u33 _400z _1vek",image:G,label:H,labelIsHidden:true,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{var I=this.props.isFullscreen?j._("\u0627\u0646\u0642\u0631 \u0644\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0648\u0636\u0639 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629"):j._("\u0627\u0646\u0642\u0631 \u0644\u0644\u062f\u062e\u0648\u0644 \u0641\u064a \u0648\u0636\u0639 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629");F=c("React").createElement(c("EmbeddedVideoFullscreenControl.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(I,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}var J=null;if(this.props.hasWatchAndScroll&&!this.props.isFullscreen)J=c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("EmbeddedVideoWatchAndScrollControl.react").__setRef("EmbeddedVideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX});var K=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)K=c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("EmbeddedVideoCastingControl.react").__setRef("EmbeddedVideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var L=null;if(c("VideoPlayerExperiments").embeddedPlayerEnhancements)L=this.props.permalinkURL?c("React").createElement(c("EmbeddedVideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var M=null;if(this.props.permalinkURL){M=c("React").createElement(c("Image.react"),{className:"_5i0o",src:h("114229")});L=c("React").createElement(c("AbstractButton.react"),{className:"_3u33",href:this.props.permalinkURL,image:M,label:j._("\u0641\u062a\u062d \u0641\u064a \u0639\u0644\u0627\u0645\u0629 \u062a\u0628\u0648\u064a\u0628 \u062c\u062f\u064a\u062f\u0629"),labelIsHidden:true,ref:"button",tabIndex:"0",target:"_blank",type:"button"})}}var N=null,O=null,P=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){O=c("React").createElement(c("EmbeddedVideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var Q=j._("\u0645\u0639\u062f\u0644 \u0627\u0644\u0625\u0639\u0627\u062f\u0629");P=c("React").createElement(c("EmbeddedVideoPlaybackRateControl.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(Q,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber)N=c("React").createElement(c("EmbeddedVideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",isInTahoe:this.props.isInTahoe})}var R=null;if(this.props.showSidePaneToggle)R=c("React").createElement(c("EmbeddedVideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"});var S=null;if(!this.props.hideGradient)S=c("React").createElement("div",{className:"_4lqu"+(this.isTransparent()?" _5744":"")});var T=c("React").createElement(c("EmbeddedVideoVolumeControl.react"),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),U=null;if(this.props.useTwoRows){var V=c("React").createElement(c("EmbeddedVideoVolumeControl.react"),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:true,tabIndex:"0"});U=c("React").createElement("div",{className:x},c("React").createElement("div",{className:v},c("React").createElement("div",{className:p},c("React").createElement("div",{className:r}),c("React").createElement("div",{className:s},N),c("React").createElement("div",{className:t},y))),c("React").createElement("div",{className:v},c("React").createElement("div",{className:p},c("React").createElement("div",{className:r},O,P,V),c("React").createElement("div",{className:s}),c("React").createElement("div",{className:t},B,D,A,C,J,K,F,L))))}var W=null;if(c("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){var X=c("joinClasses")(p,c("VideoPlayerExperiments").embeddedPlayerEnhancements?"_3yhc":""),Y=c("joinClasses")(p,"_2cor");W=c("React").createElement("div",{className:X},c("React").createElement("div",{className:v},c("React").createElement("div",{className:Y},c("React").createElement("div",{className:r},O,P),c("React").createElement("div",{className:s},N),c("React").createElement("div",{className:t},y)),c("React").createElement("div",{className:p},c("React").createElement("div",{className:r}),c("React").createElement("div",{className:s}),c("React").createElement("div",{className:t},o||T,B,D,A,E,C,J,K,R,F,L),c("React").createElement("div",{className:u},!o||T))))}else W=!this.props.useTwoRows||!this.props.isCommentAttachment?c("React").createElement("div",{className:w},c("React").createElement("div",{className:v},c("React").createElement("div",{className:p},c("React").createElement("div",{className:r},O,P),c("React").createElement("div",{className:s},N),c("React").createElement("div",{className:t},y,o||T,B,D,A,E,C,J,K,R,F,L),c("React").createElement("div",{className:u},!o||T)))):null;return c("React").createElement("div",{className:q},S,W,U)};n.propTypes={allowFullscreen:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hidePlaybackScrubber:m.bool,hideRemainingTime:m.bool,hideGradient:m.bool,hideSettings:m.bool,isCommentAttachment:m.bool,isEmbedded:m.bool,isFullscreen:m.bool,isHD:m.bool,isInline:m.bool,isLive:m.bool,isSphericalVideo:m.bool,isMuted:m.bool,isPlaying:m.bool,isSidePaneOpen:m.bool,isSlidingWNSEligible:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onSetVideoPlaybackRate:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,displayMilliseconds:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,showPointOfInterestTimestamps:m.bool,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string,useTwoRows:m.bool,adBreaks:m.array,adBreaksDisableReasons:m.array,showSidePaneToggle:m.bool,showWNSNUX:m.bool,useDarkTheme:m.bool};n.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,displayMilliseconds:false,hidden:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,hideSettings:false,hideGradient:false,isCasting:false,isCastingSupported:false,isCommentAttachment:false,isMuted:false,isPlaying:false,isSphericalVideo:false,onSidePaneToggle:function o(){},onStartCast:function o(){},onStopCast:function o(){},playbackDuration:0,playbackPosition:0,showPlaybackRateControl:false,showSidePaneToggle:false,showWNSNUX:false,transparent:false,useTwoRows:false,volume:0,useDarkTheme:false};f.exports=n}),null);
__d("EmbeddedVideoControls",["cx","csx","Arbiter","AsyncRequest","CSS","DeferredComponent.react","EventListener","FullScreen","Parent","React","ReactDOM","Set","SubscriptionsHandler","TahoeVariables","VideoChannelViewVariables","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerUIComponentDrawer","VideoPlayerVersions","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","logVideosClickTracking","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("VideoChannelViewVariables").channelRedesign,k=new(c("Set"))([c("VideoPlayerLoggerSource").EMBEDDED,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO_PREVIEW,c("VideoPlayerLoggerSource").EMBEDDED_PAGE_PLUGIN,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO_FROM_UFI]),l=4936,m=c("VideoPlayerExperiments").persistentWNSEnabled;function n(o,p,q){"use strict";__p&&__p();this.$EmbeddedVideoControls6=function(){this.$EmbeddedVideoControls48=false;this.scheduleRenderReactComponent()}.bind(this);this.$EmbeddedVideoControls7=o;this.$EmbeddedVideoControls43=p;this.$EmbeddedVideoControls5=0;this.$EmbeddedVideoControls39=0;this.$EmbeddedVideoControls38=0;this.$EmbeddedVideoControls12=0;this.$EmbeddedVideoControls54=false;this.$EmbeddedVideoControls23=q.hideOnEvents.autoplay;this.$EmbeddedVideoControls24=q.hideOnEvents.finish;this.$EmbeddedVideoControls18=q.hideOnEvents.pause;this.$EmbeddedVideoControls19=q.hidePlaybackControl;this.$EmbeddedVideoControls20=q.hidePlaybackScrubber;this.$EmbeddedVideoControls46=q.showPlaybackRateControl;this.$EmbeddedVideoControls21=q.hideRemainingTime;this.$EmbeddedVideoControls22=q.hideSettings;this.$EmbeddedVideoControls52=q.useTwoRows;this.$EmbeddedVideoControls26=q.isCommentAttachment;this.$EmbeddedVideoControls71=q.pointsOfInterestConfig||{};this.$EmbeddedVideoControls72=q.displayElapsedTime||false;this.$EmbeddedVideoControls73=q.displayMilliseconds||false;this.$EmbeddedVideoControls74=q.adBreaks;this.$EmbeddedVideoControls75=q.adBreaksDisableReasons;this.$EmbeddedVideoControls76=q.showSpatialAudioNUX;this.$EmbeddedVideoControls34=false;this.$EmbeddedVideoControls45=q.shouldShowWNSNUX;this.$EmbeddedVideoControls48=false;this.$EmbeddedVideoControls49=false;this.$EmbeddedVideoControls80=q.insertedAdBreaks;this.$EmbeddedVideoControls81=q.isAdBreakDisabled;this.$EmbeddedVideoControls82=q.isAdBreakInsertionWithoutGapRule;var r=o.isPlayerVersion(c("VideoPlayerVersions").PLEASANTVILLE);this.$EmbeddedVideoControls16=q.showButtons.watchandscroll&&r;this.$EmbeddedVideoControls1=q.showButtons.casting;this.$EmbeddedVideoControls2=q.showButtons.fullscreen&&!!c("FullScreen").isSupported();this.$EmbeddedVideoControls37=q.permalinkURL;this.$EmbeddedVideoControls30=q.isLive;this.$EmbeddedVideoControls31=q.isSphericalVideo;this.$EmbeddedVideoControls78=q.forceVisible||false;this.$EmbeddedVideoControls79=q.hideGradient||false;this.$EmbeddedVideoControls83=q.useDarkTheme||false;this.$EmbeddedVideoControls17=false;this.$EmbeddedVideoControls68=q.showQualitySelector;this.$EmbeddedVideoControls69=q.qualitySelectorMinStreams;this.$EmbeddedVideoControls56=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls9=this.enterTahoe.bind(this);this.$EmbeddedVideoControls58=this.play.bind(this);this.$EmbeddedVideoControls57=this.pause.bind(this);this.$EmbeddedVideoControls59=this.scrubBegin.bind(this);this.$EmbeddedVideoControls60=this.scrubEnd.bind(this);this.$EmbeddedVideoControls50=this.startCasting.bind(this);this.$EmbeddedVideoControls51=this.stopCasting.bind(this);this.$EmbeddedVideoControls62=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls63=this.toggleHD.bind(this);this.$EmbeddedVideoControls64=this.toggleHLS.bind(this);this.$EmbeddedVideoControls65=this.toggleMuted.bind(this);this.$EmbeddedVideoControls66=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls55=this.changeVolume.bind(this);this.$EmbeddedVideoControls61=this.setVideoPlaybackRate.bind(this);this.$EmbeddedVideoControls67=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls70=this.$EmbeddedVideoControls7.registerDrawer(c("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,36);this.$EmbeddedVideoControls36=q.needsInitialVideoInfoUpdate;this.$EmbeddedVideoControls77=this.$EmbeddedVideoControls7.getSource();if(!m)c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(p)});var s=this.$EmbeddedVideoControls7.getRootNode();c("EventListener").listen(this.$EmbeddedVideoControls43,"focusin",function(){this.$EmbeddedVideoControls11=true;this.scheduleRenderReactComponent()}.bind(this));c("EventListener").listen(this.$EmbeddedVideoControls43,"focusout",function(){if(!c("containsNode")(this.$EmbeddedVideoControls43,c("getActiveElement")())){this.$EmbeddedVideoControls11=false;this.scheduleRenderReactComponent()}}.bind(this));c("EventListener").listen(s,"click",function(u){if(this.$EmbeddedVideoControls11&&u.detail)c("getActiveElement")().blur()}.bind(this));c("EventListener").listen(s,"mouseleave",function(){this.$EmbeddedVideoControls35=false;this.scheduleRenderReactComponent()}.bind(this));c("EventListener").listen(s,"mouseenter",function(){this.$EmbeddedVideoControls35=true;this.scheduleRenderReactComponent()}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","acquireForceHideLock",function(){this.$EmbeddedVideoControls12++;return{release:function(){this.$EmbeddedVideoControls12--;this.scheduleRenderReactComponent()}.bind(this)}}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","hideOnFinish",function(){return this.$EmbeddedVideoControls24}.bind(this),function(u){this.$EmbeddedVideoControls24=u}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","hideOnPause",function(){return this.$EmbeddedVideoControls18}.bind(this),function(u){this.$EmbeddedVideoControls18=u}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","available",function(){return true});this.$EmbeddedVideoControls7.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(u){c("EventListener").listen(this.$EmbeddedVideoControls7.getRootNode(),u,c("throttle")(this.flashControls.bind(this),200))}.bind(this));this.$EmbeddedVideoControls47=new(c("SubscriptionsHandler"))();this.scheduleRenderReactComponent();var t=["changeVolume","loadedSubtitles","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];t.forEach(function(event){return this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)))}.bind(this));this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener("beginPlayback",function(){return this.$EmbeddedVideoControls84()}.bind(this)),this.$EmbeddedVideoControls7.addListener("updateStatus",function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("casting/updateStatus",function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("updateBuffer",function(u){this.$EmbeddedVideoControls5=u.duration+u.offset;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("optionsChange",function(u){this.$EmbeddedVideoControls85()}.bind(this)),this.$EmbeddedVideoControls7.addListener("resumeAutoplay",function(u){this.$EmbeddedVideoControls86();this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)),this.$EmbeddedVideoControls7.addListener("turnOffAutoplay",function(u){this.$EmbeddedVideoControls25=false}.bind(this)));if(this.$EmbeddedVideoControls45)this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener("VideoWithStallRecovery/bufferingStateOn",function(){if(!this.$EmbeddedVideoControls49)this.$EmbeddedVideoControls87(l)}.bind(this)),this.$EmbeddedVideoControls7.addListener("VideoWithStallRecovery/bufferingStateOff",function(){this.$EmbeddedVideoControls48=false}.bind(this)));this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener("finishPlayback",function(){this.scheduleRenderReactComponent(true)}.bind(this)));this.$EmbeddedVideoControls86();this.$EmbeddedVideoControls88()}n.prototype.$EmbeddedVideoControls89=function(){"use strict";return this.$EmbeddedVideoControls7.isState("playing")&&this.$EmbeddedVideoControls7.getOption("FeedAutoplay","isAutoplaying")};n.prototype.$EmbeddedVideoControls88=function(){"use strict";this.$EmbeddedVideoControls44=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites");this.$EmbeddedVideoControls14=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails");this.$EmbeddedVideoControls40=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};n.prototype.$EmbeddedVideoControls86=function(){"use strict";this.$EmbeddedVideoControls25=this.$EmbeddedVideoControls7.getOption("FeedAutoplay","isAutoplaying")};n.prototype.$EmbeddedVideoControls85=function(){"use strict";this.$EmbeddedVideoControls86();this.$EmbeddedVideoControls88()};n.prototype.$EmbeddedVideoControls84=function(){"use strict";this.flashControls();this.$EmbeddedVideoControls33=true;this.scheduleRenderReactComponentWithVideoInfoUpdate()};n.prototype.$EmbeddedVideoControls87=function(o){"use strict";var p=c("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",o).getURI();new(c("AsyncRequest"))().setURI(p).setMethod("GET").setReadOnly(true).setHandler(function(q){var r=q.getPayload();this.$EmbeddedVideoControls48=r.should_show_nux}.bind(this)).send()};n.prototype.updateConfig_DEPRECATED=function(o,p){"use strict";this.$EmbeddedVideoControls37=o.permalinkURL||null;this.$EmbeddedVideoControls1=o.showButtons?o.showButtons.casting:false;this.$EmbeddedVideoControls30=!!o.isLive;this.scheduleRenderReactComponent()};n.prototype.updateAdBreaksConfig=function(o){"use strict";this.$EmbeddedVideoControls80=o.insertedAdBreaks;this.$EmbeddedVideoControls81=o.isAdBreakDisabled;this.$EmbeddedVideoControls82=o.isAdBreakInsertionWithoutGapRule;this.$EmbeddedVideoControls78=!o.isPreviewingAdBreak;this.scheduleRenderReactComponent()};n.prototype.flashControls=function(){"use strict";if(!this.$EmbeddedVideoControls41){this.$EmbeddedVideoControls41=true;this.scheduleRenderReactComponent()}clearTimeout(this.$EmbeddedVideoControls10);this.$EmbeddedVideoControls10=setTimeout(function(){this.$EmbeddedVideoControls41=false;this.scheduleRenderReactComponent()}.bind(this),3e3)};n.prototype.areControlsVisible=function(){"use strict";__p&&__p();if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls78||this.$EmbeddedVideoControls48)return true;if(this.$EmbeddedVideoControls7.isState("playing")){if(this.$EmbeddedVideoControls23&&this.$EmbeddedVideoControls25)return false;return this.$EmbeddedVideoControls11||this.$EmbeddedVideoControls35&&this.$EmbeddedVideoControls41}else if(this.$EmbeddedVideoControls7.isState("finished"))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls24;else if(this.$EmbeddedVideoControls7.isState("paused"))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls18;return false};n.prototype.areControlsEnabled=function(){"use strict";if(this.$EmbeddedVideoControls12>0||this.$EmbeddedVideoControls7.isState("loading")||this.$EmbeddedVideoControls7.isState("fallback")||this.$EmbeddedVideoControls7.isState("finished")&&this.$EmbeddedVideoControls24&&!this.$EmbeddedVideoControls7.isFullscreen())return false;return true};n.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){"use strict";this.$EmbeddedVideoControls36=true;this.scheduleRenderReactComponent(true)};n.prototype.shouldRenderComponent=function(){"use strict";__p&&__p();if(this.$EmbeddedVideoControls7.isState("loading")||this.$EmbeddedVideoControls7.isState("fallback"))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls17=false;return true}if(!this.$EmbeddedVideoControls17){this.$EmbeddedVideoControls17=true;return true}return false};n.prototype.scheduleRenderReactComponent=function(){var o=arguments.length<=0||arguments[0]===undefined?false:arguments[0];"use strict";if(!o&&!this.shouldRenderComponent())return;c("cancelAnimationFrame")(this.$EmbeddedVideoControls42);this.$EmbeddedVideoControls42=c("requestAnimationFrame")(this.renderReactComponent.bind(this))};n.prototype.renderReactComponent=function(){"use strict";__p&&__p();if(this.$EmbeddedVideoControls36)this.$EmbeddedVideoControls90();var o=this.areControlsVisible();if(this.$EmbeddedVideoControls54!==o){this.$EmbeddedVideoControls7.emit("VideoControls/visibilityUpdate",{areControlsVisible:o});if(o)this.$EmbeddedVideoControls70.reserve();else this.$EmbeddedVideoControls70.release();if(!this.$EmbeddedVideoControls7.isState("destroyed"))c("CSS").conditionClass(this.$EmbeddedVideoControls7.getRootNode(),"_6103",!o)}this.$EmbeddedVideoControls54=o;var p=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),q=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),r=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),s=this.$EmbeddedVideoControls7.getStreamingFormat(),t=null;if(this.$EmbeddedVideoControls7.hasOption("LiveHeatmap","interestLevels"))t=this.$EmbeddedVideoControls7.getOption("LiveHeatmap","interestLevels");var u=this.$EmbeddedVideoControls34;this.$EmbeddedVideoControls34=c("VideoPlayerExperiments").slidingWNSv3&&this.$EmbeddedVideoControls16&&c("VideoWatchAndScrollController").isSlidingEnabled(this.$EmbeddedVideoControls7);if(u!==this.$EmbeddedVideoControls34)this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls34?c("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_HIGHLIGHTED:c("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);var v=this.$EmbeddedVideoControls7.getSource()===c("VideoPlayerLoggerSource").TAHOE;c("ReactDOM").render(c("React").createElement(c("DeferredComponent.react"),{deferredPlaceholder:c("React").createElement("span",null),deferredComponent:function w(x){return e(["EmbeddedVideoControls.react"],x)},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,areSubtitlesActive:this.$EmbeddedVideoControls3,areHLSActive:this.$EmbeddedVideoControls4,bufferedPosition:this.$EmbeddedVideoControls5,finishedPlaying:this.$EmbeddedVideoControls7.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls13,hasSubtitles:this.$EmbeddedVideoControls15,hasWatchAndScroll:this.$EmbeddedVideoControls16&&!this.getIsInChannel()&&!(v&&c("TahoeVariables").wnsInBackAffordance),hidden:!this.areControlsEnabled(),hideGradient:this.$EmbeddedVideoControls79,isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls26,isEmbedded:k.has(this.$EmbeddedVideoControls77),isFullscreen:this.$EmbeddedVideoControls27,isHD:this.$EmbeddedVideoControls28,isInline:this.$EmbeddedVideoControls29,isInTahoe:v,isLive:this.$EmbeddedVideoControls30,isSphericalVideo:this.$EmbeddedVideoControls31,isMuted:this.$EmbeddedVideoControls32,isPlaying:this.$EmbeddedVideoControls33,isSidePaneOpen:this.getIsInChannel()&&!!c("Parent").bySelector(this.$EmbeddedVideoControls43,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls34,interestLevels:t,drawer:this.$EmbeddedVideoControls70,onEnterWatchAndScroll:this.$EmbeddedVideoControls56,onEnterTahoe:this.$EmbeddedVideoControls9,doesFullscreenEnterTahoe:this.$EmbeddedVideoControls8,onWNSNUXClose:this.$EmbeddedVideoControls6,onPause:this.$EmbeddedVideoControls57,onPlay:this.$EmbeddedVideoControls58,onScrubBegin:this.$EmbeddedVideoControls59,onScrubEnd:this.$EmbeddedVideoControls60,onSetVideoPlaybackRate:this.$EmbeddedVideoControls61,onSidePaneToggle:function w(){c("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$EmbeddedVideoControls50,onStopCast:this.$EmbeddedVideoControls51,onToggleFullscreen:this.$EmbeddedVideoControls62,onToggleHD:this.$EmbeddedVideoControls63,onToggleHLS:this.$EmbeddedVideoControls64,onToggleMuted:this.$EmbeddedVideoControls65,onToggleSubtitles:this.$EmbeddedVideoControls66,onVolumeChange:this.$EmbeddedVideoControls55,permalinkURL:this.$EmbeddedVideoControls37,playbackDuration:this.$EmbeddedVideoControls38,playbackPosition:this.$EmbeddedVideoControls39,transparent:!o,hidePlaybackControl:this.$EmbeddedVideoControls19,hidePlaybackScrubber:this.$EmbeddedVideoControls20,showPlaybackRateControl:this.$EmbeddedVideoControls46,hideRemainingTime:this.$EmbeddedVideoControls21,hideSettings:this.$EmbeddedVideoControls22,useTwoRows:this.$EmbeddedVideoControls52,volume:this.$EmbeddedVideoControls53,scrubberPreviewSprites:this.$EmbeddedVideoControls44,hasScrubberPreview:this.$EmbeddedVideoControls14,previewThumbnailInformation:this.$EmbeddedVideoControls40,availableQualities:p,selectedQuality:q,canAutoSelectVideoQuality:r,onSelectQuality:this.$EmbeddedVideoControls67,showQualitySelector:this.$EmbeddedVideoControls68,qualitySelectorMinStreams:this.$EmbeddedVideoControls69,streamingFormat:s,showSpatialAudioNUX:this.$EmbeddedVideoControls76,onPointOfInterestSelect:this.$EmbeddedVideoControls71.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls71.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls71.pointsOfInterest,showPointOfInterestTimestamps:this.$EmbeddedVideoControls71.showPointOfInterestTimestamps,displayElapsedTime:this.$EmbeddedVideoControls72,displayMilliseconds:this.$EmbeddedVideoControls73,adBreaks:this.$EmbeddedVideoControls74,adBreaksDisableReasons:this.$EmbeddedVideoControls75,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls27&&j,showWNSNUX:this.$EmbeddedVideoControls48&&this.areControlsEnabled()&&this.$EmbeddedVideoControls45,insertedAdBreaks:this.$EmbeddedVideoControls80,isAdBreakDisabled:this.$EmbeddedVideoControls81,isAdBreakInsertionWithoutGapRule:this.$EmbeddedVideoControls82,useDarkTheme:this.$EmbeddedVideoControls83,videoID:this.$EmbeddedVideoControls7.getVideoID()}),this.$EmbeddedVideoControls43);if(this.$EmbeddedVideoControls48&&this.areControlsEnabled()&&this.$EmbeddedVideoControls45)this.$EmbeddedVideoControls49=true};n.prototype.$EmbeddedVideoControls90=function(){"use strict";__p&&__p();var o=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(o){this.$EmbeddedVideoControls3=o.areSubtitlesActive;this.$EmbeddedVideoControls15=o.hasSubtitles;this.$EmbeddedVideoControls13=o.hasHD;this.$EmbeddedVideoControls28=o.isHD;this.$EmbeddedVideoControls32=o.isMuted;this.$EmbeddedVideoControls33=o.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls38=o.playbackDuration;this.$EmbeddedVideoControls53=o.volume;var p=this.$EmbeddedVideoControls7.getOption("CommercialBreakVideoAdOverlay","videoController");if(p)this.$EmbeddedVideoControls27=p.isFullscreen();else this.$EmbeddedVideoControls27=this.$EmbeddedVideoControls7.isFullscreen();this.$EmbeddedVideoControls29=this.$EmbeddedVideoControls7.getSource()===c("VideoPlayerLoggerSource").INLINE||this.$EmbeddedVideoControls7.getSource()===c("VideoPlayerLoggerSource").CONTINUE_WATCHING_RECOMMENDATION;this.$EmbeddedVideoControls30=o.isLiveStream;this.$EmbeddedVideoControls4=o.areHLSActive;this.$EmbeddedVideoControls36=false;this.$EmbeddedVideoControls8=this.$EmbeddedVideoControls7.listeners("enterTahoe").length!==0&&c("TahoeVariables").fullscreenControlBehavior==="tahoe"}};n.prototype.toggleHD=function(){"use strict";this.$EmbeddedVideoControls7.toggleHD()};n.prototype.setPreferredVideoQuality=function(o){"use strict";if(o)this.$EmbeddedVideoControls7.setPreferredVideoQuality(o);else this.$EmbeddedVideoControls7.unsetPreferredVideoQuality()};n.prototype.toggleHLS=function(){"use strict";this.$EmbeddedVideoControls7.switchToStreamType("hls")};n.prototype.enterWatchAndScroll=function(){"use strict";if(c("shouldWNSRenderToRHC")())this.$EmbeddedVideoControls7.emit("crossfadeWatchAndScroll");else this.$EmbeddedVideoControls7.emit("enterWatchAndScroll")};n.prototype.enterTahoe=function(){"use strict";this.$EmbeddedVideoControls7.emit("enterTahoe")};n.prototype.scrubBegin=function(){"use strict";if(!this.isCasting())this.$EmbeddedVideoControls7.pause(c("VideoPlayerReason").SEEK)};n.prototype.scrubEnd=function(o){"use strict";this.$EmbeddedVideoControls7.seek(o);this.$EmbeddedVideoControls39=o;var p=this.$EmbeddedVideoControls33||this.$EmbeddedVideoControls7.isState("finished")&&!this.$EmbeddedVideoControls24;if(!this.isCasting()&&p)this.$EmbeddedVideoControls7.play(c("VideoPlayerReason").SEEK)};n.prototype.toggleMuted=function(){"use strict";if(this.$EmbeddedVideoControls7.isMuted()){c("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.unmute()}else this.$EmbeddedVideoControls7.mute()};n.prototype.toggleFullscreen=function(){"use strict";if(!this.$EmbeddedVideoControls7.isFullscreen())c("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.toggleFullscreen()};n.prototype.toggleSubtitles=function(){"use strict";this.$EmbeddedVideoControls7.toggleSubtitles();this.scheduleRenderReactComponent()};n.prototype.changeVolume=function(o){"use strict";this.$EmbeddedVideoControls7.setVolume(o)};n.prototype.play=function(){"use strict";c("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode());if(this.isCasting())this.$EmbeddedVideoControls7.setOption("casting","isPlaying",true);else this.$EmbeddedVideoControls7.play(c("VideoPlayerReason").USER)};n.prototype.pause=function(){"use strict";if(this.isCasting())this.$EmbeddedVideoControls7.setOption("casting","isPlaying",false);else this.$EmbeddedVideoControls7.pause(c("VideoPlayerReason").USER)};n.prototype.setVideoPlaybackRate=function(o){"use strict";this.$EmbeddedVideoControls7.setPlaybackRate(o)};n.prototype.startCasting=function(){"use strict";this.$EmbeddedVideoControls7.setOption("casting","isCasting",true)};n.prototype.stopCasting=function(){"use strict";this.$EmbeddedVideoControls7.setOption("casting","isCasting",false)};n.prototype.isCastPlaying=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isPlaying")};n.prototype.hasFoundReceiver=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","hasFoundReceiver")};n.prototype.isCasting=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isCasting")};n.prototype.isCastingSupported=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isSupported")};n.prototype.updatePointsOfInterestConfig=function(o){"use strict";Object.assign(this.$EmbeddedVideoControls71,o);this.scheduleRenderReactComponent()};n.prototype.updateDisplayElapsedTime=function(o){"use strict";this.$EmbeddedVideoControls72=o;this.scheduleRenderReactComponent()};n.prototype.getIsInChannel=function(){"use strict";return this.$EmbeddedVideoControls7.getIsInChannel()};n.prototype.unregister=function(){"use strict";c("cancelAnimationFrame")(this.$EmbeddedVideoControls42);this.$EmbeddedVideoControls47.release()};f.exports=n}),null);
__d("StreamingReactionsTrayEvents",[],(function a(b,c,d,e,f,g){var h="streamingReactionsTray/AddReactionAnimate",i="streamingReactionsTray/HideChannelViewDetails",j="streamingReactionsTray/ShowChannelViewDetails",k="streamingReactionsTray/UpdateSurface",l="streamingReactionsTray/ResizeChannelViewWindow",m="streamingReactionsTray/ReactionStateChange",n="streamingReactionsTray/FireworksAnimating",o="streamingReactionsTray/DisableReactions",p="streamingReactionsTray/EnableReactions",q={AddReactionAnimate:h,HideChannelViewDetails:i,ReactionStateChange:m,ResizeChannelViewWindow:l,ShowChannelViewDetails:j,UpdateSurface:k,FireworksAnimating:n,DisableReactions:o,EnableReactions:p};f.exports=q}),null);