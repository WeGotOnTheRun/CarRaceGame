if (self.CavalryLogger) { CavalryLogger.start_js(["lmHYB"]); }

__d("BrowseWebSLRPELoggerClickType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("SearchInstantBootstrapEntityModule",["cx","fbt","Arbiter","BanzaiODS","Base64","ContextualComponent","CSS","CurrentUser","DOM","FacebarKeywordSearchUtils","PageTransitionsRegistrar","React","ReactDOM","ReactRenderer","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUIConfig","SearchBootstrapEntityModuleUtil","SearchEntityModule.react","SearchEntityModuleServerConstants","SearchEntityModuleUIConfig","SearchWWWTrackableClientViewConfig","SubscriptionsHandler","URI","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","XUISpinner.react","ge","generateBrowseSessionID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[i._("\u0627\u0644\u0643\u0644"),i._("\u0627\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062a"),i._("\u0627\u0644\u0623\u0634\u062e\u0627\u0635"),i._("\u0627\u0644\u0635\u0648\u0631"),i._("\u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648"),i._("\u0627\u0644\u0635\u0641\u062d\u0627\u062a"),i._("\u0627\u0644\u0623\u0645\u0627\u0643\u0646"),i._("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"),i._("\u0627\u0644\u062a\u0637\u0628\u064a\u0642\u0627\u062a"),i._("\u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062a")],k=void 0;function l(m){__p&&__p();this.$SearchInstantBootstrapEntityModule10=[];this.$SearchInstantBootstrapEntityModule11=false;this.$SearchInstantBootstrapEntityModule12=false;this.$SearchInstantBootstrapEntityModule16=function(n){__p&&__p();if(!c("SearchBootstrapEntityModuleUtil").isTopTabURI(n))return;this.$SearchInstantBootstrapEntityModule12=true;var o=void 0,p=c("FacebarKeywordSearchUtils").decodeFacebarURIParams(n);if(p!=null){this.$SearchInstantBootstrapEntityModule8=p.sid;o=p.bsid}if(o==null)o=c("generateBrowseSessionID")({appName:"www",edge:"keywords_search"});this.$SearchInstantBootstrapEntityModule9=o;this.$SearchInstantBootstrapEntityModule4=c("SearchBootstrapEntityModuleUtil").getQueryFromURI(n);this.$SearchInstantBootstrapEntityModule17();this.$SearchInstantBootstrapEntityModule18(n);if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading){if(this.$SearchInstantBootstrapEntityModule12&&this.$SearchInstantBootstrapEntityModule10.length>0){this.$SearchInstantBootstrapEntityModule19();this.$SearchInstantBootstrapEntityModule20()}this.$SearchInstantBootstrapEntityModule21()}}.bind(this);this.$SearchInstantBootstrapEntityModule24=function(n){if(this.$SearchInstantBootstrapEntityModule9==null)return;this.$SearchInstantBootstrapEntityModule10=c("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(n,this.$SearchInstantBootstrapEntityModule9)}.bind(this);this.$SearchInstantBootstrapEntityModule25=function(){this.$SearchInstantBootstrapEntityModule12=false;if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)this.$SearchInstantBootstrapEntityModule26();c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","shown")}.bind(this);this.$SearchInstantBootstrapEntityModule1=m.getCore();this.$SearchInstantBootstrapEntityModule2=new(c("SubscriptionsHandler"))();k=this}l.prototype.enable=function(){this.$SearchInstantBootstrapEntityModule7=c("ge")("content");if(this.$SearchInstantBootstrapEntityModule7==null)return;this.$SearchInstantBootstrapEntityModule13();this.$SearchInstantBootstrapEntityModule2.addSubscriptions(c("Arbiter").subscribe("page_transition",function(){this.$SearchInstantBootstrapEntityModule14();this.$SearchInstantBootstrapEntityModule15()}.bind(this)));this.$SearchInstantBootstrapEntityModule14();this.$SearchInstantBootstrapEntityModule15()};l.prototype.disable=function(){this.$SearchInstantBootstrapEntityModule2.release()};l.prototype.$SearchInstantBootstrapEntityModule14=function(){c("PageTransitionsRegistrar").registerHandler(this.$SearchInstantBootstrapEntityModule16)};l.prototype.$SearchInstantBootstrapEntityModule15=function(){__p&&__p();if(this.$SearchInstantBootstrapEntityModule11)return;var m=this.$SearchInstantBootstrapEntityModule7;if(m==null)return;var n=c("ContextualComponent").closestToNode(m);if(n==null)return;n.onUnmount(function(){this.$SearchInstantBootstrapEntityModule22();this.$SearchInstantBootstrapEntityModule11=false}.bind(this));this.$SearchInstantBootstrapEntityModule11=true};l.prototype.$SearchInstantBootstrapEntityModule22=function(){__p&&__p();if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading){if(c("SearchBootstrapEntityModuleUtil").isTopTabURI(c("URI").getNextURI())){if(this.$SearchInstantBootstrapEntityModule12&&this.$SearchInstantBootstrapEntityModule10.length===0){this.$SearchInstantBootstrapEntityModule19();this.$SearchInstantBootstrapEntityModule20()}return}this.$SearchInstantBootstrapEntityModule20();this.$SearchInstantBootstrapEntityModule19()}else this.$SearchInstantBootstrapEntityModule20()};l.prototype.$SearchInstantBootstrapEntityModule13=function(){__p&&__p();var m=c("DOM").create("div",{className:"_126b"});this.$SearchInstantBootstrapEntityModule3=c("DOM").create("div",{className:"_126c"},m);c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUISpinner.react"),{size:"large"},m);var n=[this.$SearchInstantBootstrapEntityModule3],j=c("SearchBootstrapEntityModuleUIConfig").hasTabBarPlaceholder?this.$SearchInstantBootstrapEntityModule23():null;if(j!=null)n.push(j);this.$SearchInstantBootstrapEntityModule6=c("DOM").create("div",{className:"_126d"},n);c("DOM").appendContent(this.$SearchInstantBootstrapEntityModule6,this.$SearchInstantBootstrapEntityModule3);c("CSS").hide(this.$SearchInstantBootstrapEntityModule6);c("DOM").appendContent(document.body,this.$SearchInstantBootstrapEntityModule6)};l.prototype.$SearchInstantBootstrapEntityModule23=function(){var m=j.map(function(p,q){return c("React").createElement(c("XUIPageNavigationItem.react"),{className:"_4gsg",href:"#",key:q},p)}),n=c("DOM").create("div"),o=c("DOM").create("div",{className:"_5sqx _4-u2 _4-u8","aria-hidden":true},c("DOM").create("div",{className:"_zz9 _5im-"},n));c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUIPageNavigation.react"),{children:c("React").createElement(c("XUIPageNavigationGroup.react"),null,m)},n);return o};l.prototype.$SearchInstantBootstrapEntityModule17=function(){var m=[];if(this.$SearchInstantBootstrapEntityModule4!=null){m=this.$SearchInstantBootstrapEntityModule1.getSquashedEntityIDsFromQueryString(this.$SearchInstantBootstrapEntityModule4);if(m==null)m=[]}c("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:this.$SearchInstantBootstrapEntityModule4,callback:this.$SearchInstantBootstrapEntityModule24,whitelistedEntIds:m},c("Arbiter").BEHAVIOR_PERSISTENT)};l.prototype.$SearchInstantBootstrapEntityModule18=function(m){__p&&__p();var n=this.$SearchInstantBootstrapEntityModule4,o=this.$SearchInstantBootstrapEntityModule10;if(n==null||o.length===0)return;var p=void 0,q=m.getQueryData().ref,r=c("FacebarKeywordSearchUtils").decodeFacebarURIParams(m);if(r==null)p=q;var s=o.map(function(v){return v.tuid}),t=this.$SearchInstantBootstrapEntityModule9;if(t==null)return;var u=babelHelpers["extends"]({},r,{preloaded_entity_ids:s,preloaded_entity_type:o[0].type,ent_ids:this.$SearchInstantBootstrapEntityModule1.getSquashedEntityIDsFromQueryString(n),bsid:t});if(p!=null)u.ref=p;m.setQueryData(babelHelpers["extends"]({},m.getQueryData(),{ref:c("Base64").encode(JSON.stringify(u)).replace(/\=+$/,"")}))};l.prototype.$SearchInstantBootstrapEntityModule21=function(){__p&&__p();var m=this.$SearchInstantBootstrapEntityModule10,n=this.$SearchInstantBootstrapEntityModule4,o=this.$SearchInstantBootstrapEntityModule9;if(m==null||n==null||o==null)return;if(m.length===0){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","no_matches");return}var p=c("DOM").create("div"),q=c("SearchBootstrapEntityModuleUtil").getTitleForResultType(m[0].type),r={plain_text_query:n,browse_query:"keywords_search("+n+")",results:m,module_role:c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[m[0].type],result_type:m[0].type,num_results_to_show:c("SearchBootstrapEntityModuleUIConfig").numResultsToShow,client_view_config:c("SearchWWWTrackableClientViewConfig"),browse_session_id:o,module_style:c("SearchEntityModuleUIConfig").moduleStyle,title:q,see_more_uri:c("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(m,this.$SearchInstantBootstrapEntityModule8,n),logging_unit_id:c("SearchBootstrapEntityModuleUtil").generateUnitIDWithPrefix("www_bem"),has_module_guidelines:c("SearchEntityModuleUIConfig").hasModuleGuidelines,viewer_id:c("CurrentUser").getID(),is_bootstrap_entity_module:true,should_render_footer:false};if(this.$SearchInstantBootstrapEntityModule5!=null)c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem","previous_bem_not_unmounted");this.$SearchInstantBootstrapEntityModule5=c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("SearchEntityModule.react"),r,p,this.$SearchInstantBootstrapEntityModule25);c("DOM").prependContent(this.$SearchInstantBootstrapEntityModule3,p)};l.prototype.$SearchInstantBootstrapEntityModule20=function(){__p&&__p();var f=this.$SearchInstantBootstrapEntityModule5;if(f==null)return;var m=false,n=c("ReactDOM").findDOMNode(f);if(n!=null&&n.parentNode!=null)m=c("ReactDOM").unmountComponentAtNode(n.parentNode);if(!m)c("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","current_bem_did_not_unmount");this.$SearchInstantBootstrapEntityModule5=null;this.$SearchInstantBootstrapEntityModule12=false};l.prototype.$SearchInstantBootstrapEntityModule26=function(){c("CSS").show(this.$SearchInstantBootstrapEntityModule6);if(document.body!=null)c("CSS").removeClass(document.body,"_2yq");if(this.$SearchInstantBootstrapEntityModule7!=null)c("CSS").hide(this.$SearchInstantBootstrapEntityModule7)};l.prototype.$SearchInstantBootstrapEntityModule19=function(){if(this.$SearchInstantBootstrapEntityModule7!=null)c("CSS").show(this.$SearchInstantBootstrapEntityModule7);c("CSS").hide(this.$SearchInstantBootstrapEntityModule6)};l.moveInsideWrapper=function(m){__p&&__p();if(k==null)return;if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)k.$SearchInstantBootstrapEntityModule19();else k.$SearchInstantBootstrapEntityModule21();var f=k.$SearchInstantBootstrapEntityModule5;if(f==null)return;var n=c("ReactDOM").findDOMNode(f);if(n==null)return;if(n.parentNode==null)return;c("DOM").appendContent(m,n.parentNode)};f.exports=l}),null);
__d("NodeHighlighter",["DOM","TokenizeUtil","concatMap","escapeRegex","getElementText","isTextNode"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(l,m){var n=c("getElementText")(l).split(m),o=n.map(function(p){if(m.test(p))return j(p);return p||""});return n.length>1?o:null}function j(l){var m=c("DOM").create("span",{"class":"highlightNode",className:"highlightNode"},l);return m}var k={getTextNodes:function l(m){if(this.isLeafNode(m)||this.isStopNode(m))return m;else if(this.isDiscardNode(m))return[];return c("concatMap")(this.getTextNodes.bind(this),Array.from(m.childNodes))},getHighlightCandidates:function l(){return[]},isLeafNode:function l(m){return c("isTextNode")(m)},isStopNode:function l(m){return false},isDiscardNode:function l(m){return false},createSegmentedRegex:function l(m){var n=c("TokenizeUtil").getPunctuation();m=this.escapeAndAddBidirectionalCharsToTokens(m);m=m.map(function(o){o=o.split(/\s+/).join("(?:"+n+"|\\s)+");return o});return"(^|\\s|"+n+")("+m.join("|")+")(?=(?:$|\\s|"+n+"))"},createNonSegmentedRegex:function l(m){return"("+m.map(c("escapeRegex")).join("|")+")"},escapeAndAddBidirectionalCharsToTokens:function l(m){var n="[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*";return m.map(function(o){return n+String(o).split("").map(c("escapeRegex")).join(n)+n})},createRegex:function l(m){__p&&__p();m=m.filter(function(t){return t});if(!m||m.length===0)return new RegExp(null);var n=m.join("|");if(h[n])return h[n];var o=/[\u0E00-\u109F\u2000-\uFFFF]/,p=[],q=[];m.forEach(function(t){if(o.test(t))q.push(t);else p.push(t)});var r="";if(p.length){r+=this.createSegmentedRegex(p);r+=q.length?"|":""}if(q.length)r+=this.createNonSegmentedRegex(q);var s=new RegExp(r,"i");h[n]=s;return s},searchNodes:function l(m,n){return c("DOM").scry(m,n)},highlight:function l(m,n){__p&&__p();n=n.filter(function(q){return q});if(!n||n.length===0||!m)return;var o=c("concatMap")(function(q){return c("concatMap")(this.getTextNodes.bind(this),this.searchNodes(m,q))}.bind(this),this.getHighlightCandidates()),p=this.createRegex(n);o.forEach(function(q){var r=i(q,p);if(r)if(this.isStopNode(q))c("DOM").setContent(q,r);else c("DOM").replace(q,r)}.bind(this))}};f.exports=k}),null);