if (self.CavalryLogger) { CavalryLogger.start_js(["z36n5"]); }

__d("CSSFade",["cx","CSS","DataStore","Event","idx","Style","requestAnimationFrameAcrossTransitions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="css-fade-animation",j="css-show-animation",k="_4rh4",l="CSSFade_hide",m="CSSFade_show",n=document.createElement("div").animate!==undefined,o={cancel:function u(){}};function p(u,v){var w=c("DataStore").get(u,v);if(w)w.cancel();return w}function q(u,v,w){var x,y=((x=u)!=null?(x=x.style)!=null?x.animation:x:x)||"",z=v+"s "+w;if(y.length>5)z=y.slice(0,-1)+(", "+z);return z}function r(u,v){var w,x=((w=u)!=null?(w=w.style)!=null?w.animation:w:w)||"",y=x.split(","),z=y.findIndex(function(A){return A.indexOf(v)>-1});if(z!==-1)y.splice(z,1);return y.join(",")}var s={show:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=w.duration!=null?w.duration/1e3:.3;p(v,i);p(v,j);c("CSS").removeClass(v,"hidden_elem");c("requestAnimationFrameAcrossTransitions")(function(){v.style.animation=q(v,x,m)});var y=c("Event").listen(v,"animationend",function(){if(w.callback)w.callback();v.style.animation=r(v,m)}),z={cancel:function A(){v.style.animation=r(v,m);y.remove();z.cancel=function(){}}};c("DataStore").set(v,j,z);return z},hide:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=function x(){c("CSS").addClass(v,"hidden_elem");if(w.callback)w.callback();v.style.animation=r(v,l)};if(w.simple){x();return o}var y=w.duration!=null?w.duration/1e3:.3;p(v,j);p(v,i);c("requestAnimationFrameAcrossTransitions")(function(){v.style.animation=q(v,y,l)});var z=c("Event").listen(v,"animationend",x),A={cancel:function B(){v.style.animation=r(v,l);z.remove();A.cancel=function(){}}};c("DataStore").set(v,i,A);return A}},t={show:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=w.duration!=null?w.duration:.3;p(v,i);p(v,j);c("CSS").removeClass(v,"hidden_elem");c("Style").set(v,"opacity","1");var y=v.animate([{opacity:"0"},{opacity:"1.0"}],{duration:x});if(w.callback)y.onfinish=w.callback;c("DataStore").set(v,j,y);return y},hide:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=w.duration!=null?w.duration:.3;p(v,j);if(w.simple===true){c("CSS").addClass(v,"hidden_elem");return o}else{p(v,i);c("Style").set(v,"opacity","0");var y=v.animate([{opacity:"1.0"},{opacity:"0"}],{duration:x});y.onfinish=function(){c("CSS").addClass(v,"hidden_elem");if(w.callback)w.callback()};c("DataStore").set(v,i,y);return y}}};f.exports=n?t:s}),null);
__d("AsyncLoader",["AsyncRequest","BaseAsyncLoader"],(function a(b,c,d,e,f,g){function h(i,j){this._endpoint=i;this._type=j}Object.assign(h.prototype,c("BaseAsyncLoader").prototype);h.prototype.send=function(i,j,k,l,m){new(c("AsyncRequest"))(i).setData({ids:j}).setHandler(l).setErrorHandler(m).setAllowCrossPageTransition(true).setMethod("GET").setReadOnly(true).send()};f.exports=h}),null);
__d("ChatHovercard",["Arbiter","AsyncLoader","Bootloader","JSLogger","TimeSlice","debounce","emptyFunction","gkx","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=5,i=new(c("AsyncLoader"))("/ajax/chat/hovercard/sidebar.php","hover"),j=c("JSLogger").create("chat_hovercard");c("Arbiter").subscribe("Hovercard/dirty",i.reset.bind(i));function k(p,q){var r=function r(){i.get(p,q)};if(c("gkx")("AT45Q0YAtTF77a1x8ZT9-rWfsF83gTI5tMuldZujY0KaNI6icTW09jBEE5BSuvPKdZtVIIdleK4appEhrvQPrVOyhvdXTeLDSdYEXUe9KmbS3Q"))c("TimeSlice").guard(r,"superfluous request to first open DD",{propagationType:c("TimeSlice").PropagationType.ORPHAN})();else r()}function l(p,q){__p&&__p();if(!p)return;k(p,function(r){__p&&__p();c("setTimeoutAcrossTransitions")(function(){__p&&__p();if(!r){j.error("fetch_failure",{id:p});return}c("Bootloader").loadModules(["Hovercard"],function(s){var t=s.getDialog(r);if(!t){j.error("no_hovercard",{id:p,endpoint:r});return}if(p==q.getActiveID())q.showHovercard(p,t)},"ChatHovercard")},0)})}function m(p,q){__p&&__p();var r=[];function s(v){if(v>=0&&v<p.length)r.push(p[v])}var t=p.indexOf(q);if(t>-1){s(t);for(var u=1;u<h;u++){s(t+u);s(t-u)}}return r.filter(function(v){return v})}function n(p,q){var r=q.getActiveID();if(r){var s=p.getShowingUsers(),t=m(s,r);k(t,c("emptyFunction"))}}function o(p){var q=p.getHoverController();q.registerDefault(l);q.subscribe("hover",c("debounce")(n.bind(null,p,q),100))}f.exports=o}),null);
__d("ChatImpressionLogger",["AsyncSignal","ChatConfig","ChatVisibility","Poller","PresencePrivacy","PresenceStatus","requireWeak","debounceAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;c("requireWeak")("AvailableList",function(m){return h=m});var i=null;function j(m){if(!i)m([]);else i.getSortedList(function(n){return m(n)})}function k(m){if(!i||!h)return"";var n=[];for(var o=0;o<m.length;o++)n[o]=h.get(m[o]);return n.toString()}var l={init:function m(n){__p&&__p();i=n;j(function(o){var p,q=o.toString(),r=k(o),s=c("ChatConfig").get("chat_impression_logging_periodical",0);if(s)(function(){var t=c("ChatConfig").get("periodical_impression_logging_config.interval"),u=new(c("Poller"))({interval:t,setupRequest:function v(w){w.setURI("/ajax/chat/imps_logging.php").setData({list_availability:r,sorted_list:q,source:"periodical_imps"})},clearOnQuicklingEvents:false,dontStart:true});c("PresencePrivacy").subscribe("privacy-user-presence-changed",c("debounceAcrossTransitions")(function(){if(c("ChatVisibility").isOnline())u.start();else u.stop()}))})()});this.init=function(){}},logImpression:function m(n,o,p){j(function(q){var r=c("ChatConfig").get("chat_impression_logging_with_click"),s={list_availability:r?k(q):"",sorted_list:r?q.toString():"",source:n,target:o,target_presence:c("PresenceStatus").get(o),viewport_width:document.body.clientWidth};new(c("AsyncSignal"))("/ajax/chat/ct.php",Object.assign(s,p)).send()})}};f.exports=l}),null);
__d("LayerHideSources",[],(function a(b,c,d,e,f,g){var h=Object.freeze({BLUR:"blur",ESCAPE:"escape",LAYER_CANCEL_BUTTON:"layerCancelButton",LAYER_HIDE_BUTTON:"layerHideButton"});f.exports=h}),null);
__d("LayerHideOnBlur",["LayerHideSources","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))];if(this._layer.isShown())this._attach()};h.prototype.disable=function(){"use strict";this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};h.prototype._detach=function(){"use strict";this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null};h.prototype._attach=function(){"use strict";this._onBlur=this._layer.subscribe("blur",function(){return c("requestAnimationFrame")(function(){this._layer.hide(c("LayerHideSources").BLUR);return false}.bind(this))}.bind(this))};Object.assign(h.prototype,{_subscriptions:null,_onBlur:null});f.exports=h}),null);
__d("shield",[],(function a(b,c,d,e,f,g){function h(i,j){if(typeof i!="function")throw new TypeError("shield expects a function as the first argument");var k=Array.prototype.slice.call(arguments,2);return function(){return i.apply(j,k)}}f.exports=h}),null);
__d("ChatOrderedListHover",["csx","ArbiterMixin","CSS","ErrorUtils","Event","LayerHideOnBlur","Parent","mixin","setTimeoutAcrossTransitions","shield"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;function k(n){c("CSS").addClass(n,"fetching")}function l(n){c("CSS").removeClass(n,"fetching")}i=babelHelpers.inherits(m,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function m(n){"use strict";j.constructor.call(this);this._orderedList=n;this._root=n.getRoot();c("Event").listen(this._root,"mouseover",this._mouseOver.bind(this));c("Event").listen(this._root,"mouseleave",this._mouseLeave.bind(this));n.subscribe("click",c("shield")(this._hide,this))}m.prototype._mouseOver=function(event){"use strict";if(this._paused)return;var n=event.getTarget(),o=c("Parent").bySelector(n,"._42fz")||c("Parent").bySelector(n,"._5a58");o&&this._setActiveItem(o)};m.prototype._mouseLeave=function(event){"use strict";this._setActiveItem(null)};m.prototype._clearTimeouts=function(){"use strict";this._showTimeout&&clearTimeout(this._showTimeout);this._showTimeout=null;this._hideTimeout&&clearTimeout(this._hideTimeout);this._hideTimeout=null};m.prototype._hide=function(){"use strict";if(this._showingDialog){this._showingDialog.hide();this._showingDialog=null;this._showingID=null}};m.prototype._show=function(){"use strict";var n=this.getActiveID(),o=false;if(this._defaultHandler){o=true;c("ErrorUtils").applyWithGuard(this._defaultHandler,{},[n,this])}if(o&&this._showingID!=this.getActiveID())k(this._activeItem)};m.prototype._setActiveItem=function(n){"use strict";__p&&__p();if(n!=this._activeItem){this._clearTimeouts();this._activeItem&&l(this._activeItem);if(n){this._activeItem=n;var o=this._showingDialog?0:600;this._showTimeout=c("setTimeoutAcrossTransitions")(function(){return this._show()}.bind(this),o);this.inform("hover")}else{this._activeItem=null;this._hideTimeout=c("setTimeoutAcrossTransitions")(function(){return this._hide()}.bind(this),10);this.inform("leave")}}};m.prototype.registerDefault=function(n){"use strict";this._defaultHandler=n};m.prototype.getActiveID=function(){"use strict";var n=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return n||null};m.prototype.showHovercard=function(n,o){"use strict";__p&&__p();if(n==this.getActiveID()&&n!=this._showingID){this._clearTimeouts();l(this._activeItem);this._hide();this._showingDialog=o;this._showingID=n;var p=o.subscribe("mouseenter",this._setActiveItem.bind(this,this._activeItem)),q=o.subscribe("mouseleave",function(){p.unsubscribe();this._setActiveItem(null)}.bind(this)),r=o.subscribe("hide",function(){this.inform("hovercard_hide");p.unsubscribe();q.unsubscribe();r.unsubscribe()}.bind(this));o.enableBehavior(c("LayerHideOnBlur")).setContext(this._activeItem).setPosition("left").show();this.inform("hovercard_show")}};Object.assign(m.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});f.exports=m}),null);
__d("ChatSidebarConstants",["ChatConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("ChatConfig").get("divebar_rounded_profile",false),i={IMAGE_SIZE:32,getImageSize:function j(){return i.IMAGE_SIZE+(h?2:0)},getItemHeight:function j(){return i.IMAGE_SIZE+8}};f.exports=i}),null);
__d("ErrorMarker.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return this.props.children};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("AbstractErrorBox.react",["cx","Event","Keys","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$AbstractErrorBox1=function(event){if(c("Event").getKeyCode(event)==c("Keys").ESC)this.props.onDismiss()}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_5oc-",this.props.className)},c("React").createElement("div",{className:"_5oc_"},c("React").createElement("h2",{className:"_5od0"},this.props.title),this.props.content),c("React").createElement("div",{className:"_5od1"},this.props.toolbarButtons.map(this.renderToolbarButton)))};k.prototype.renderToolbarButton=function(l){return c("React").cloneElement(l,{className:c("joinClasses")(l.props.className,"_5od2")})};k.prototype.componentDidMount=function(){this.$AbstractErrorBox2=c("Event").listen(document,"keydown",this.$AbstractErrorBox1)};k.prototype.componentWillUnmount=function(){this.$AbstractErrorBox2.remove()};f.exports=k}),null);
__d("RedBox.react",["cx","AbstractErrorBox.react","React","UserAgent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;function k(m){return m.trim().replace(/\.?__annotator\.module$/,"")}i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$RedBox1=function(){this.props.onDismissError()}.bind(this),this.$RedBox2=function(){document.location.reload()},n}l.prototype.render=function(){return c("React").createElement(c("AbstractErrorBox.react"),{className:"_4108",title:this.props.error.message,content:this.$RedBox3(this.props.error.stackFrames),toolbarButtons:this.$RedBox4(),onDismiss:this.$RedBox1})};l.prototype.$RedBox4=function(){return[c("React").createElement("button",{key:"dismiss",onClick:this.$RedBox1},"Dismiss (ESC)"),c("React").createElement("button",{key:"reload",onClick:this.$RedBox2},c("UserAgent").isPlatform("Windows")?"Reload page (Ctrl+R)":"Reload page (\u2318R)")]};l.prototype.$RedBox3=function(m){if(!m||!m.length)return null;return c("React").createElement("ul",null,m.map(this.$RedBox5))};l.prototype.$RedBox5=function(m,n){var o=k(m.identifier);if(!o)return null;return c("React").createElement("li",{key:n,className:"_50tv"},c("React").createElement("span",{className:"_50tw datawrap"},o),c("React").createElement("span",{className:"_50ty"},c("React").createElement("span",{className:"ellipsis"},m.script),c("React").createElement("span",{className:"_50tz"},"@ ",m.line,":",m.column)))};f.exports=l}),null);
__d("YellowBox.react",["cx","AbstractErrorBox.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$YellowBox1=function(){this.props.onDismissWarning()}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("AbstractErrorBox.react"),{className:"_2r1k",title:this.props.message,content:this.$YellowBox2(),toolbarButtons:this.$YellowBox3(),onDismiss:this.$YellowBox1})};k.prototype.$YellowBox2=function(){var l=this.props.count;return c("React").createElement("h4",{className:"_2r1l"},"Warning encountered ",l," time",l===1?"":"s",".")};k.prototype.$YellowBox3=function(){return[c("React").createElement("button",{key:"dismiss",onClick:this.$YellowBox1},"Dismiss (ESC)")]};f.exports=k}),null);
__d("ErrorMessageConsoleController.react",["React","RedBox.react","YellowBox.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(m,n){return m.message===n.message}function k(m,n,k){__p&&__p();var o=m.findIndex(function(s){return j(n,s)}),p=m.slice();if(o>-1){var q=k(m[o]);if(q)p.splice(o,1,q);else p.splice(o,1)}else{var r=k(null);if(r)p.push(r)}return p}h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(m){__p&&__p();i.constructor.call(this,m);this.$ErrorMessageConsoleController3=function(n){this.setState(function(o){return{errors:[].concat(o.errors,[n])}})}.bind(this);this.$ErrorMessageConsoleController5=function(){this.setState(function(n){var o=n.errors.slice();o.shift();return{errors:o}})}.bind(this);this.$ErrorMessageConsoleController4=function(n){this.setState(function(o){var p=k(o.warnings,n,function(q){var r=q&&q.count?q.count+1:1;return babelHelpers["extends"]({},n,{count:r})});return{warnings:p}})}.bind(this);this.$ErrorMessageConsoleController6=function(n){this.setState(function(o){var p=k(o.warnings,n,function(){return null});return{warnings:p}})}.bind(this);this.$ErrorMessageConsoleController7=function(){this.$ErrorMessageConsoleController6(this.state.warnings[0])}.bind(this);this.state={errors:m.initialErrors||[],warnings:m.initialWarnings||[]};this.$ErrorMessageConsoleController1=this.props.addErrorListener(this.$ErrorMessageConsoleController3);this.$ErrorMessageConsoleController2=this.props.addWarningListener(this.$ErrorMessageConsoleController4)}l.prototype.render=function(){var m=this.state,n=m.errors,o=m.warnings;if(n.length)return c("React").createElement(c("RedBox.react"),{error:n[0],onDismissError:this.$ErrorMessageConsoleController5});if(o.length)return c("React").createElement(c("YellowBox.react"),{count:o[0].count||1,message:o[0].message,onDismissWarning:this.$ErrorMessageConsoleController7});return null};l.prototype.componentWillUnmount=function(){this.$ErrorMessageConsoleController1.remove();this.$ErrorMessageConsoleController2.remove()};f.exports=l}),null);
__d("ErrorMessageConsole",["ErrorMessageConsoleController.react","ErrorUtils","EventEmitter","React","ReactDOM","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="on_error",i="on_warning",j=void 0;function k(){__p&&__p();if(j)return;j=new(c("EventEmitter"))();var t=document.createElement("div");document.body.appendChild(t);var u=[],v=[],w=j.addListener(h,function(y){return u.push(y)}),x=j.addListener(i,function(y){return v.push(y)});c("setImmediate")(function(){w.remove();x.remove();c("ReactDOM").render(c("React").createElement(c("ErrorMessageConsoleController.react"),{initialErrors:u,initialWarnings:v,addErrorListener:function y(z){return j.addListener(h,z)},addWarningListener:function y(z){return j.addListener(i,z)}}),t)})}function l(t){k();j.emit(h,c("ErrorUtils").normalizeError(t))}function m(t){k();j.emit(i,{message:t})}var n=false;function o(){if(n)return;n=true;c("ErrorUtils").addListener(l)}var p=false;function q(){__p&&__p();if(p)return;p=true;var t=console,u=t.error,v=t.warn;emptyFunction=function(){u.apply(console,arguments);if(typeof arguments[0]==="string"&&arguments[0].startsWith("Warning: "))m(String(arguments[0]))};emptyFunction=function(){v.apply(console,arguments);m(String(arguments[0]))}}function r(){o();q()}var s={addError:l,addWarning:m,listenAll:r,listenForUncaughtErrors:o,listenForWarnings:q};f.exports=s}),null);
__d("expectationViolation",["ErrorMessageConsole","FBLogger","emptyFunction","sprintf"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("emptyFunction");function i(k){var l;for(var m=arguments.length,n=Array(m>1?m-1:0),o=1;o<m;o++)n[o-1]=arguments[o];(l=c("FBLogger")("expectation_violation").blameToPrevious()).warn.apply(l,[k].concat(n))}i.setHandler=j;function j(k){h=k}f.exports=i}),null);
__d("getReactComponentDisplayName",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.displayName||i.name||"Unknown"}f.exports=h}),null);
__d("getReactElementDisplayName",["getReactComponentDisplayName"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){if(i==null)return"#empty";if(typeof i==="string"||typeof i==="number")return"#text";if(typeof i.type==="string")return i.type;return c("getReactComponentDisplayName")(i.type)}f.exports=h}),null);
__d("ErrorBoundary.react",["ErrorMarker.react","ErrorMessageConsole","expectationViolation","FBLogger","React","getReactElementDisplayName"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=this.props.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix;var l=c("React").Children.only(this.props.children);this.state={error:null,moduleName:c("getReactElementDisplayName")(l)}}j.prototype.componentDidCatch=function(k){var l=this.state.moduleName?this.state.moduleName:"UNKNOWN";try{c("FBLogger")("react_error_boundary").catching(k).mustfix("caught error in module "+l)}catch(m){c("expectationViolation")("encountered error: "+(m&&m.message)+" when logging to FBLogger.\n        Please check error boundary at module "+l)}try{this.props.onHandleError&&this.props.onHandleError(k,l)}catch(m){c("expectationViolation")("encountered error: "+(m&&m.message)+" when executing\n        onHandleError. Please check error boundary at module "+l)}this.setState({error:k})};j.prototype.componentDidUpdate=function(){if(this.state.error){var k=this.state.moduleName?this.state.moduleName:"UNKNOWN";try{this.props.onRenderFallback&&this.props.onRenderFallback(k)}catch(l){c("expectationViolation")("encountered error: "+(l&&l.message)+" when\n          executing onRenderFallback. please check error boundary at module\n          "+k)}}};j.prototype.render=function(){var k=this.state,l=k.error,m=k.moduleName;if(l){var n=this.props.fallbackComponent,o=null;if(n)o=c("React").createElement(n,{error:l,moduleName:m});return c("React").createElement(c("ErrorMarker.react"),null,o)}return c("React").Children.only(this.props.children)};j.defaultProps={hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix:false};f.exports=j}),null);
__d("SplitImage.react",["cx","React","Image.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderImages=function(){__p&&__p();if(!this.props.srcs)return null;var q=this.props.srcs,r=Array.isArray(q);if(r){q=q.filter(function(s){return s!==null});if(!q.length)return null}if(!r||q.length==1)return this.renderOne(r?q[0]:q);return q.length==2?this.renderTwo(q):this.renderThree(q)}.bind(this),this.renderOne=function(q){return c("React").createElement(c("Image.react"),{src:q,width:this.props.size,height:this.props.size,alt:""})}.bind(this),this.renderTwo=function(q){var r=this.props.size,s=Math.floor(r/2),t=-Math.floor(s/2),u="_55lu"+(this.props.border?" _57xo":"");return c("React").createElement("div",null,c("React").createElement("div",{className:"_55lu",style:{width:s}},c("React").createElement(c("Image.react"),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:""})),c("React").createElement("div",{className:u,style:{width:s}},c("React").createElement(c("Image.react"),{src:q[1],width:r,height:r,style:{marginLeft:t},alt:""})))}.bind(this),this.renderThree=function(q){var r=this.props.size,s=Math.floor(r/3*2),t=-Math.floor((r-s)/2),u=Math.floor(r/2),v=r-s,w=-Math.floor((u-v)/2),x="_55lu"+(this.props.border?" _57pl":""),y="_55lu"+(this.props.border?" _57pm":"");return c("React").createElement("div",null,c("React").createElement("div",{className:x,style:{width:s}},c("React").createElement(c("Image.react"),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:""})),c("React").createElement("div",{className:y,style:{width:v,height:u}},c("React").createElement(c("Image.react"),{src:q[1],width:u,height:u,style:{marginLeft:w},alt:""})),c("React").createElement("div",{className:"_55lu",style:{width:v,height:u}},c("React").createElement(c("Image.react"),{src:q[2],width:u,height:u,style:{marginLeft:w},alt:""})))}.bind(this),m}k.prototype.render=function(){"use strict";var l=babelHelpers["extends"]({},this.props);delete l.srcs;var m=this.props.size;return c("React").createElement("div",babelHelpers["extends"]({},l,{className:c("joinClasses")(this.props.className,"_55lt"),style:babelHelpers["extends"]({},this.props.style||{},{width:m,height:m})}),this.renderImages())};f.exports=k}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(n,o){return c("intlNumUtils").formatNumber(n,o)}function j(n,o){var p=h._({"*":"+{number}"},[h.param("number",c("intlNumUtils").formatNumberWithThousandDelimiters(n,o),[0,n])]);return p.toString()}function k(n,o){var p=h._({"*":"\u003C{number}"},[h.param("number",c("intlNumUtils").formatNumberWithThousandDelimiters(n,o),[0,n])]);return p.toString()}function l(n,o,p){return n>o?j(o,p):c("intlNumUtils").formatNumberWithThousandDelimiters(n,p)}function m(n,o,p){return n<o?k(o,p):c("intlNumUtils").formatNumberWithThousandDelimiters(n,p)}i.withThousandDelimiters=c("intlNumUtils").formatNumberWithThousandDelimiters;i.withMaxLimit=l;i.withMinLimit=m;f.exports=i}),null);
__d("AbstractBadge.react",["cx","invariant","React","formatNumber","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;function m(o){return parseInt(o,10)===o}j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(o){"use strict";k.constructor.call(this,o)}n.prototype.render=function(){"use strict";var o=this.props,p=o.count,q=o.maxcount,r=o.label,s=babelHelpers.objectWithoutProperties(o,["count","maxcount","label"]);m(p)||i(0);m(q)||i(0);var t="_51lp"+(p>q?" _51lr":"")+(!this.props.allowZero&&p===0?" hidden_elem":""),u=r?c("React").createElement("span",{className:"accessible_elem","aria-hidden":p?"false":"true"},"\xa0",r):null,v=c("formatNumber").withMaxLimit(p,q);if(u!==null)v=c("React").createElement("span",{"aria-hidden":"true"},v);return c("React").createElement("span",babelHelpers["extends"]({},s,{className:c("joinClasses")(this.props.className,t)}),v,u)};n.propTypes={className:l.string,count:l.number.isRequired,maxcount:l.number,label:l.string};n.defaultProps={maxcount:20};f.exports=n}),null);
__d("XUIBadge.react",["cx","React","AbstractBadge.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.type,n="_5ugh"+(m==="regular"?" _5ugf":"")+(m==="special"?" _5ugg":"");return c("React").createElement(c("AbstractBadge.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),type:null}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={type:k.oneOf(["regular","special"]),allowZero:k.bool};l.defaultProps={type:"regular"};f.exports=l}),null);
__d("ChatSidebarItem.react",["cssVar","cx","ix","xuiglyph","AvailableListConstants","CurrentUser","XUIBadge.react","BootloadOnRender.react","ChatConfig","ChatSidebarConstants","ErrorBoundary.react","Image.react","JSResource","LazyComponent.react","Link.react","React","SplitImage.react","TextWithEmoticons.react","emptyFunction","fbglyph","gkx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o=c("ChatConfig").get("divebar_rounded_profile",false),p=9,q=function q(){return c("React").createElement(c("Link.react"),{"aria-hidden":true,tabIndex:-1})};l=babelHelpers.inherits(r,c("React").PureComponent);m=l&&l.prototype;function r(){var y,z;for(var A=arguments.length,B=Array(A),C=0;C<A;C++)B[C]=arguments[C];return z=(y=m.constructor).call.apply(y,[this].concat(B)),this.state={hover:false},this.$ChatSidebarItem1=function(){this.setState({hover:true});this.props.onMouseEnter()}.bind(this),this.$ChatSidebarItem2=function(){this.setState({hover:false})}.bind(this),this.renderLastActiveTime=function(){return c("React").createElement("div",{className:"_568-"},this.props.statusTime)}.bind(this),z}r.prototype.render=function(){var y="_55ln"+(this.props.context?" _55lo":"")+(o?" _qhr":"");return c("React").createElement(c("ErrorBoundary.react"),{fallbackComponent:q},c("React").createElement(c("Link.react"),{className:y,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$ChatSidebarItem1,onMouseLeave:this.$ChatSidebarItem2,rel:"ignore"},c("React").createElement("div",{className:"_55lp"},c("React").createElement("div",{className:"_55lq","aria-hidden":true},c("React").createElement(c("SplitImage.react"),{size:this.props.imageSize||c("ChatSidebarConstants").IMAGE_SIZE,srcs:this.props.image||this.props.images})),c("React").createElement("div",{className:"_5bon"},this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),c("React").createElement("div",{className:"_55lr"},this.renderName()),c("React").createElement("div",{className:"_55ls"},this.props.context))))};r.prototype.renderName=function(){if(this.props.nameCanHaveEmoji)return c("React").createElement(c("TextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:this.props.name});else return this.props.name};r.prototype.renderUnreadCount=function(){var y=this.props.unreadCount;if(!y)return null;return c("React").createElement(c("XUIBadge.react"),{count:y,maxcount:p,type:"regular"})};r.prototype.renderStatus=function(){var y=this.$ChatSidebarItem3();if(!y&&!this.props.statusTime)return null;var z=true;if(this.props.unreadCount&&this.props.unreadCount>0){y=this.props.statusTime?null:y;z=false}return c("React").createElement("div",{className:"_568z"+(this.props.showRelationshipIndicator?" _2oov":"")},z?this.renderLastActiveTime():null,y)};r.prototype.renderWaveButton=function(){if(!this.props.showWave||!this.props.userID)return null;return c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};r.prototype.renderBirthday=function(){if(!this.props.birthday)return null;if(c("CurrentUser").isWorkUser()&&!c("gkx")("AT6xZmI2OdSYphpl234QKktFXq5sRz0kw7_B2KSTTJG4l__HXq2R95tfCOGk3WHJAmEbSfznHtUDjqZLC1cYF7k9"))return null;return c("React").createElement(c("Image.react"),{className:"_5dv3",src:v()})};r.prototype.renderPlayingGame=function(){if(this.props.statusTime||this.props.birthday||!this.props.isPlayingGame)return null;return c("React").createElement("div",{className:"_46b2"},c("React").createElement(c("Image.react"),{className:"_46b3",src:x()}))};r.prototype.$ChatSidebarItem3=function(){if(this.props.isMessengerOnlyContact)return c("React").createElement(c("Image.react"),{className:"_568_",src:w()});else if(this.props.status===c("AvailableListConstants").ACTIVE)if(this.props.showRelationshipIndicator)return c("React").createElement(c("Image.react"),{className:"_568_",src:j("118297")});else return c("React").createElement("span",{style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}});return null};r.defaultProps={onMouseEnter:c("emptyFunction")};r.propTypes={birthday:n.bool,context:n.node,href:n.string,imageSize:n.number,image:n.string,images:n.array,isPlayingGame:n.bool,isMessengerOnlyContact:n.bool,name:n.node.isRequired,nameCanHaveEmoji:n.bool,onClick:n.func,showRelationshipIndicator:n.bool,status:n.number,statusTime:n.string,unreadCount:n.number,userID:n.string,showWave:n.bool};var s=void 0,t=void 0,u=void 0;function v(){if(!s)s=j("74517");return s}function w(){if(!u)u=j("28076");return u}function x(){if(!t)t=j("89258");return t}f.exports=r}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){__p&&__p();this.$MercuryParticipantListRenderer6=function(s){var t=this.$MercuryParticipantListRenderer5;if(t){var u=c("MercuryIDs").getUserIDFromParticipantID(s.id);if(u&&t[u])return t[u]}return this.$MercuryParticipantListRenderer2?s.short_name:s.name}.bind(this);this.$MercuryParticipantListRenderer1=false;this.$MercuryParticipantListRenderer2=false;this.$MercuryParticipantListRenderer3=false;this.$MercuryParticipantListRenderer4=0;this.$MercuryParticipantListRenderer5=null}i.prototype.renderParticipantList=function(s){var t=s.map(this.$MercuryParticipantListRenderer6);switch(t.length){case 0:return j(this.$MercuryParticipantListRenderer1);case 1:return k(t);case 2:return this.$MercuryParticipantListRenderer3?m(t):l(t);case 3:return this.$MercuryParticipantListRenderer3?o(t):n(t);default:return this.$MercuryParticipantListRenderer3?q(t,this.$MercuryParticipantListRenderer4):p(t,this.$MercuryParticipantListRenderer4)}};i.prototype.setIsNewThread=function(s){this.$MercuryParticipantListRenderer1=s;return this};i.prototype.setNameRenderer=function(s){this.$MercuryParticipantListRenderer6=s;return this};i.prototype.setUseShortName=function(s){this.$MercuryParticipantListRenderer2=s;return this};i.prototype.setNickname=function(s){this.$MercuryParticipantListRenderer5=s;return this};i.prototype.setUseAndSeparator=function(s){this.$MercuryParticipantListRenderer3=s;return this};i.prototype.setTotalParticipantCount=function(s){this.$MercuryParticipantListRenderer4=s;return this};function j(s){if(s)return h._("\u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629");else return h._("\u0645\u0627 \u0645\u0646 \u0645\u0634\u0627\u0631\u0643\u064a\u0646")}function k(s){return s[0]}function l(s){return h._("{participant1} \u0648{participant2}",[h.param("participant1",s[0]),h.param("participant2",s[1])])}function m(s){return h._("{participant1} \u0648{participant2}",[h.param("participant1",s[0]),h.param("participant2",s[1])])}function n(s){return h._("{participant1} \u0648{participant2} \u0648{participant3}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("participant3",s[2])])}function o(s){return h._("{participant1} \u0648{participant2} \u0648{participant3}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("participant3",s[2])])}function p(s,t){return h._("{participant1} \u0648{participant2} \u0648{participant3} \u0648{others_link}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("participant3",s[2]),h.param("others_link",r((t||s.length)-3))])}function q(s,t){return h._("{participant1} \u0648{participant2} \u0648{others_link}",[h.param("participant1",s[0]),h.param("participant2",s[1]),h.param("others_link",r((t||s.length)-2))])}function r(s){if(s>1)return h._({"*":"{others_count} \u0622\u062e\u0631","8":"{others_count} \u0622\u062e\u0631\u0627\u0646","20":"{others_count} \u0622\u062e\u0631\u064a\u0646"},[h.param("others_count",s,[0])]);else return h._("1 \u0622\u062e\u0631")}f.exports=i}),null);
__d("ChatSidebarThread.react",["fbt","ChatOpenTabEventLogger","ChatSidebarItem.react","FantaTabActions","MercuryIDs","MercuryParticipantListRenderer","WebMessengerThreadPermalinks","React","TooltipData","requireWeak"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=10,m="\n";i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$ChatSidebarThread2=function(v){var w=this.props.threadFBID;v.preventDefault();if(w){c("FantaTabActions").openTabEventually(c("MercuryIDs").getThreadIDFromThreadFBID(w));c("ChatOpenTabEventLogger").logClickOpen(this.props.referrer,w)}}.bind(this),r}n.prototype.render=function(){var q=this.props.name,r=o(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),s=q?r:undefined,t=this.props.image?[]:p(this.props.participants),u=q?q:r;return c("React").createElement("div",c("TooltipData").propsFor(this.$ChatSidebarThread1()),c("React").createElement(c("ChatSidebarItem.react"),{context:s,href:this.props.threadFBID&&c("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:t,name:u,nameCanHaveEmoji:true,onClick:this.$ChatSidebarThread2,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount,showWave:false}))};n.prototype.$ChatSidebarThread1=function(){__p&&__p();var q=[],r=this.props.participants.length,s=this.props.numOtherParticipants,t=Math.min(l,r);if(s-t===1)t--;var u=0;while(q.length<t&&u<this.props.participants.length){var v=this.props.participants[u].name;if(v)q.push(v);u++}if(t<s)q.push(h._("\u0648 {num} \u0622\u062e\u0631\u064a\u0646",[h.param("num",s-t)]));return q.join(m)};n.propTypes={image:k.string,imageSize:k.number,name:k.string,participants:k.array.isRequired,numOtherParticipants:k.number.isRequired,referrer:k.string,status:k.number,threadFBID:k.string,unreadCount:k.number};n.defaultProps={numOtherParticipants:l};function o(q,r,s){return new(c("MercuryParticipantListRenderer"))().setIsNewThread(!q).setUseShortName(true).setTotalParticipantCount(s).renderParticipantList(r).toString()}function p(q){return q.map(function(r){return r.image_src}).filter(function(r){return r})}f.exports=n}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarThread.react","ChatSidebarSections","ChatSidebarConstants","PresencePrivacy","PresenceStatus","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ChatSidebarGroupThreadsGroup1=function(r){var s=r.mercury_thread.participants,t=this.props.isDisconnected||c("PresencePrivacy").isUserOffline();return c("React").createElement("li",{className:"_42fz"+(t?" _570-":""),"data-id":r.uid,key:r.uid},c("React").createElement(c("ChatSidebarThread.react"),{image:r.mercury_thread.image_src,imageSize:c("ChatSidebarConstants").getImageSize(),name:r.mercury_thread.name,participants:r.participants_to_render,numOtherParticipants:s.length-1,referrer:c("ChatSidebarSections").ORDERED_LIST,status:c("PresenceStatus").getGroup(s),threadFBID:r.uid}))}.bind(this),n}l.prototype.render=function(){return c("React").createElement("ul",null,this.props.groups.map(this.$ChatSidebarGroupThreadsGroup1))};l.propTypes={groups:k.array.isRequired,isDisconnected:k.bool};f.exports=l}),null);
__d("ChatSidebarHeader.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_55ob")}),c("React").createElement("div",{className:"_55oc"},this.props.children))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(k){return 50+Math.ceil(50-2*(Math.pow(7+k,2)%10))},j=function j(k){return c("React").createElement("li",{className:"_42fz"+(k.isDisconnected?" _570-":"")},c("React").createElement("div",{className:"_55ln"+(k.roundedProfile?" _qhr":"")},c("React").createElement("div",{className:"_55lp"},c("React").createElement("span",{className:"_1qh _55lq"}),c("React").createElement("span",{className:"_55lr"},c("React").createElement("span",{className:"_1qh",style:{width:i(k.slot)+"px"}})))))};f.exports=j}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatConfig","ChatOpenTabEventLogger","ChatSidebarItem.react","FantaTabActions","MercuryIDs","WebMessengerThreadPermalinks","React","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ChatSidebarUser1=function(q){var r=this.props,s=r.sectionName,t=r.slot,u=r.userID,v=c("MercuryIDs").getThreadIDFromUserID(u);c("FantaTabActions").openTabEventually(v,["divebar_"+s]);c("ChatOpenTabEventLogger").logUserClickOpen(s,u,{global_slot:t});q.preventDefault();this.$ChatSidebarUser2()}.bind(this),m}k.prototype.render=function(){"use strict";var l=c("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return c("React").createElement(c("ChatSidebarItem.react"),{onClick:this.$ChatSidebarUser1,href:l,imageSize:this.props.imageSize,image:this.props.image,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:false,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,showWave:this.props.showWave})};k.prototype.$ChatSidebarUser2=function(){"use strict";var l=this.props.sectionName;if(c("ChatConfig").get("in_recents_experiment"))c("Bootloader").loadModules(["FunnelLogger"],function(m){m.appendAction("WWW_DIVEBAR_RECENTS_FUNNEL","open_tab_"+l)},"ChatSidebarUser.react")};k.propTypes={birthday:j.bool,image:j.string,imageSize:j.number,isPlayingGame:j.bool,name:j.string,sectionName:j.string.isRequired,showRelationshipIndicator:j.bool,slot:j.number,status:j.number,statusTime:j.string,unreadCount:j.number,userID:j.string.isRequired,isMessengerOnlyContact:j.bool,context:j.string,showWave:j.bool};f.exports=k}),null);
__d("ChatSidebarUserGroup.react",["cx","AvailableListConstants","ChatConfig","ChatSidebarItemPlaceholder.react","ChatSidebarSections","ChatSidebarUser.react","LastActiveTimes","MercuryConfig","PresencePrivacy","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("ChatConfig").get("divebar_rounded_profile",false),k=Object.keys(c("ChatSidebarSections")).map(function(n){return c("ChatSidebarSections")[n]}),l=function l(n,o,p){if(!o)return c("React").createElement(c("ChatSidebarItemPlaceholder.react"),{isDisconnected:!!n.isDisconnected,key:"placeholder"+p,roundedProfile:j,slot:p});if(!o.id)return null;var q=n.statusMap[o.id],r=q!==c("AvailableListConstants").ACTIVE?c("LastActiveTimes").getShortDisplay(o.id):undefined,s=n.isDisconnected||!c("PresencePrivacy").allows(o.id),t=n.sectionName===c("ChatSidebarSections").NEARBY?o.location:undefined;return c("React").createElement("li",{className:"_42fz"+(s?" _570-":""),"data-id":o.id,key:o.id},c("React").createElement(c("ChatSidebarUser.react"),{birthday:o.is_birthday,image:o.thumbSrc,imageSize:n.imageSize,isPlayingGame:!!n.playingMap[o.id],name:o.name,roundedProfile:j,showRelationshipIndicator:o.show_relationship_indicator,sectionName:n.sectionName,slot:p,status:q,statusTime:r?r.toString():undefined,userID:o.id,unreadCount:n.unreadCounts[o.id],isMessengerOnlyContact:o.is_messenger_only,context:t,showWave:c("MercuryConfig").WaveOnDivebar}))},m=function m(n){var o=n.userData,p=babelHelpers.objectWithoutProperties(n,["userData"]);delete p.imageSize;delete p.isDisconnected;delete p.playingMap;delete p.sectionName;delete p.statusMap;delete p.unreadCounts;return c("React").createElement("ul",p,o.map(function(q,r){return l(n,q,r)}))};m.propTypes={imageSize:i.number.isRequired,isDisconnected:i.bool.isRequired,sectionName:i.oneOf(k).isRequired,playingMap:i.object.isRequired,statusMap:i.object.isRequired,unreadCounts:i.object.isRequired,userData:i.arrayOf(i.object).isRequired};f.exports=m}),null);
__d("ChatUnreadCountStore",["ChatDispatcher","ChatUnreadCountActionTypes","FluxStore","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"))}j.prototype.__onDispatch=function(k){var l=k.type;switch(l){case c("ChatUnreadCountActionTypes").COUNT_UPDATED:this.__emitChange();break;default:break}};j.prototype.get=function(k){return c("ifRequired")("ChatUnreadCount",function(l){return l.get().getUnreadCountForUID(k)},function(){return 0})};f.exports=new j()}),null);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"))}j.prototype.__onDispatch=function(k){var l=k.type;switch(l){case c("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};j.prototype.get=function(k){return c("PresenceStatus").get(k)};j.prototype.getIsPlaying=function(k){return c("PresenceStatus").isPlayingCanvasGameUser(k)};f.exports=new j()}),null);
__d("ShortProfilesActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({PROFILE_UPDATED:null})}),null);
__d("ShortProfilesStore",["ChatDispatcher","ChatProfileStore","FluxStore","ShortProfiles","ShortProfilesActionTypes","debounce","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"));if(c("gkx")("AT7b-T545bsAAbOyiRE0i8vzwAqg-R4NRaZ4WCkL5TZUAjQ3ntria2ZiM69962yv5cnbq6KuBYvaMYzUdYYVWB-O"))this.$ShortProfilesStore1=c("debounce")(this.$ShortProfilesStore1,50)}j.prototype.__onDispatch=function(k){var l=k.type;switch(l){case c("ShortProfilesActionTypes").PROFILE_UPDATED:this.__emitChange();break;default:break}};j.prototype.getNow=function(k){var l=c("ChatProfileStore").get(k);if(!l)l=c("ShortProfiles").getNow(k);return l};j.prototype.getMulti=function(k){c("ShortProfiles").getMulti(k,this.$ShortProfilesStore1)};j.prototype.$ShortProfilesStore1=function(k){c("ChatDispatcher").dispatch({type:c("ShortProfilesActionTypes").PROFILE_UPDATED})};f.exports=new j()}),null);
__d("ChatSidebarUserGroupContainer.react",["AvailableListConstants","ChatSidebarSections","ChatSidebarUserGroup.react","ChatUnreadCountStore","PresenceStatusStore","ShortProfilesStore","React","emptyFunction","requireWeak","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=400,l=5e3,m=Object.keys(c("ChatSidebarSections")).map(function(o){return c("ChatSidebarSections")[o]});h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;function n(o){__p&&__p();i.constructor.call(this,o);this.$ChatSidebarUserGroupContainer1={};this.$ChatSidebarUserGroupContainer2=null;this.$ChatSidebarUserGroupContainer3=null;this.$ChatSidebarUserGroupContainer4=null;this.componentWillReceiveProps=function(u){this.$ChatSidebarUserGroupContainer9(u)}.bind(this);this.componentWillUnmount=function(){this.$ChatSidebarUserGroupContainer2&&this.$ChatSidebarUserGroupContainer2.remove();this.$ChatSidebarUserGroupContainer3&&this.$ChatSidebarUserGroupContainer3.remove();this.$ChatSidebarUserGroupContainer4&&this.$ChatSidebarUserGroupContainer4.remove()}.bind(this);this.$ChatSidebarUserGroupContainer10=function(){if(!this.$ChatSidebarUserGroupContainer5)this.$ChatSidebarUserGroupContainer5=c("setTimeoutAcrossTransitions")(function(){c("requireWeak")("FantaTabsEagerBootloader",function(u){return u.bootload()});this.$ChatSidebarUserGroupContainer10=c("emptyFunction")}.bind(this),k)}.bind(this);this.$ChatSidebarUserGroupContainer11=function(){clearTimeout(this.$ChatSidebarUserGroupContainer5);this.$ChatSidebarUserGroupContainer5=null}.bind(this);var p=this.$ChatSidebarUserGroupContainer6(o.ids,o.loadExtras),q=p.playingMap,r=p.statusMap,s=this.$ChatSidebarUserGroupContainer7(o.ids),t=this.$ChatSidebarUserGroupContainer8(o.ids);this.state={playingMap:q,statusMap:r,unreadCounts:s,userData:t}}n.prototype.componentDidMount=function(){this.$ChatSidebarUserGroupContainer2=c("ChatUnreadCountStore").addListener(function(){this.$ChatSidebarUserGroupContainer9(this.props)}.bind(this));this.$ChatSidebarUserGroupContainer3=c("PresenceStatusStore").addListener(function(){this.$ChatSidebarUserGroupContainer9(this.props)}.bind(this));this.$ChatSidebarUserGroupContainer4=c("ShortProfilesStore").addListener(function(){this.$ChatSidebarUserGroupContainer9(this.props)}.bind(this))};n.prototype.shouldComponentUpdate=function(o,p){__p&&__p();for(var q=Object.keys(this.$ChatSidebarUserGroupContainer1),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;if(this.$ChatSidebarUserGroupContainer1[u])return false}if(this.props.ids!==o.ids||this.props.imageSize!==o.imageSize||this.props.isDisconnected!==o.isDisconnected||this.props.loadExtras!==o.loadExtras||this.props.sectionName!==o.sectionName||this.state.userData.length!==p.userData.length)return true;for(var v=Object.keys(this.state.unreadCounts),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(p.unreadCounts[z]!==this.state.unreadCounts[z])return true}for(var A=Object.keys(this.state.statusMap),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}var E=D;if(p.statusMap[E]!==this.state.statusMap[E])return true}for(var F=Object.keys(p.statusMap),G=Array.isArray(F),H=0,F=G?F:F[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=F.length)break;I=F[H++]}else{H=F.next();if(H.done)break;I=H.value}var J=I;if(p.statusMap[J]!==this.state.statusMap[J])return true}for(var K=0;K<this.state.userData.length;K++)if(!this.state.userData[K]||!p.userData[K]||this.state.userData[K].id!==p.userData[K].id)return true;return false};n.prototype.render=function(){return c("React").createElement(c("ChatSidebarUserGroup.react"),{imageSize:this.props.imageSize,isDisconnected:this.props.isDisconnected,playingMap:this.state.playingMap,sectionName:this.props.sectionName,statusMap:this.state.statusMap,unreadCounts:this.state.unreadCounts,userData:this.state.userData,onMouseEnter:this.$ChatSidebarUserGroupContainer10,onMouseLeave:this.$ChatSidebarUserGroupContainer11})};n.prototype.$ChatSidebarUserGroupContainer9=function(o){var p=this.$ChatSidebarUserGroupContainer7(o.ids),q=this.$ChatSidebarUserGroupContainer6(o.ids,o.loadExtras),r=q.playingMap,s=q.statusMap,t=this.$ChatSidebarUserGroupContainer8(o.ids);this.setState({playingMap:r,statusMap:s,unreadCounts:p,userData:t})};n.prototype.$ChatSidebarUserGroupContainer6=function(o,p){__p&&__p();var q={},r={};o.forEach(function(s){if(p){var t=c("PresenceStatusStore").getIsPlaying(s);q[s]=t}var u=c("PresenceStatusStore").get(s);if(u===c("AvailableListConstants").ACTIVE)r[s]=u});return{statusMap:r,playingMap:q}};n.prototype.$ChatSidebarUserGroupContainer7=function(o){var p={};o.forEach(function(q){p[q]=c("ChatUnreadCountStore").get(q)});return p};n.prototype.$ChatSidebarUserGroupContainer8=function(o){__p&&__p();var p=[],q=[];o.forEach(function(r){var s=c("ShortProfilesStore").getNow(r);p.push(s);if(s)this.$ChatSidebarUserGroupContainer12(r);else{this.$ChatSidebarUserGroupContainer13(r);q.push(r)}}.bind(this));if(q.length>0)c("ShortProfilesStore").getMulti(q);return p};n.prototype.$ChatSidebarUserGroupContainer13=function(o){if(this.$ChatSidebarUserGroupContainer1[o]===undefined)this.$ChatSidebarUserGroupContainer1[o]=c("setTimeoutAcrossTransitions")(function(){this.$ChatSidebarUserGroupContainer1[o]=null;this.$ChatSidebarUserGroupContainer9(this.props)}.bind(this),l)};n.prototype.$ChatSidebarUserGroupContainer12=function(o){var p=this.$ChatSidebarUserGroupContainer1[o];if(!p)return;clearTimeout(p);this.$ChatSidebarUserGroupContainer1[o]=null};n.propTypes={ids:j.arrayOf(j.string).isRequired,imageSize:j.number.isRequired,isDisconnected:j.bool.isRequired,loadExtras:j.bool.isRequired,sectionName:j.oneOf(m).isRequired};f.exports=n}),null);
__d("MessengerWebDriverTestIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",INFO_PANEL_BUTTON:"info_panel_button",INFO_PANEL_TOGGLER_OPTION:"info_panel_toggler_option",STICKER:"sticker"})}),null);
__d("XPagesBrowserController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/",{category:{type:"String"},ref:{type:"String"},cityid:{type:"Int"},similar:{type:"Int"},frompageid:{type:"Int"},actAsPageID:{type:"Int"},source:{type:"String"},pyml:{type:"Int"},viewallpywo:{type:"Bool",defaultValue:false},notif_id:{type:"Int"}})}),null);
__d("ChatSidebarOrderedList.react",["cx","fbt","ix","AvailableListConstants","Bootloader","BootloadOnRender.react","ChatConfig","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarConstants","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarSections","ChatSidebarUserGroupContainer.react","CurrentUser","CSS","Image.react","LazyComponent.react","JSResource","LeftRight.react","Link.react","MessengerWebDriverTestIDs","PresencePrivacy","PresenceStatus","React","ReactDOM","Run","Scroll","SubscriptionsHandler","URI","WorkInviteSource","WorkModeConfig","XPagesBrowserController","XUIButton.react","XWorkInviteCoworkersDialogController","fbglyph","ifRequired"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=3;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={isDisconnected:false,renderBelowFold:false},this.$ChatSidebarOrderedList1=null,this.$ChatSidebarOrderedList2=null,this.$ChatSidebarOrderedList3=null,this.$ChatSidebarOrderedList4=null,this.$ChatSidebarOrderedList5=null,q}o.prototype.componentDidMount=function(){c("ChatQuietLinks").nukeLinks(c("ReactDOM").findDOMNode(this.refs.noLinks));this.$ChatSidebarOrderedList1=new(c("SubscriptionsHandler"))();c("Run").onAfterLoad(function(){this.setState({renderBelowFold:true});this.$ChatSidebarOrderedList6()}.bind(this))};o.prototype.componentWillUnmount=function(){this.$ChatSidebarOrderedList1.release()};o.prototype.render=function(){var p=c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_WHITELIST&&c("PresencePrivacy").getVisibility()?this.$ChatSidebarOrderedList7():this.$ChatSidebarOrderedList8();if(c("WorkModeConfig").test_group_section_order||c("ChatConfig").get("display_groups_top"))return c("React").createElement("div",{"data-testid":c("MessengerWebDriverTestIDs").CHAT_SIDEBAR},c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList9()),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList10()),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList11(),this.$ChatSidebarOrderedList12(),this.$ChatSidebarOrderedList13(),this.$ChatSidebarOrderedList14()),this.$ChatSidebarOrderedList15(),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList16(),p,this.$ChatSidebarOrderedList17(),this.$ChatSidebarOrderedList18()));return c("React").createElement("div",{"data-testid":c("MessengerWebDriverTestIDs").CHAT_SIDEBAR},c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList9()),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList10()),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList12()),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList13(),this.$ChatSidebarOrderedList14()),this.$ChatSidebarOrderedList15(),c("React").createElement("div",{ref:"noLinks"},this.$ChatSidebarOrderedList16(),this.$ChatSidebarOrderedList11(),p,this.$ChatSidebarOrderedList17(),this.$ChatSidebarOrderedList18()))};o.prototype.$ChatSidebarOrderedList19=function(p){var q=this.props.scrollContainer;if(!q)return;var r=q.clientHeight,s=q.scrollHeight,t=c("Scroll").getTop(q),u=Math.min(p.offsetTop,s-r);if(t!==u)c("ifRequired")("Animation",function(v){var w=Math.abs(u-t)/q.clientHeight*500;new v(q).to("scrollTop",u).ease(v.ease.end).duration(w).go()},function(){c("Scroll").setTop(q,u)})};o.prototype.$ChatSidebarOrderedList13=function(){if(!c("ChatConfig").get("show_header")&&!c("WorkModeConfig").test_group_section_order&&!(c("ChatConfig").get("display_groups_top")&&this.props.groups.length!==0))return null;var p=this.state.isDisconnected||c("PresencePrivacy").isUserOffline();return c("React").createElement(c("ChatSidebarHeader.react"),{className:p?"_570-":"",key:"header"},i._("\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"))};o.prototype.$ChatSidebarOrderedList7=function(){var p=c("ChatSidebarConstants").getImageSize(),q=this.props.topUsers.filter(function(u){return!c("PresencePrivacy").allows(u)});q.splice(-2);var r=c("React").createElement("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog"},i._("\u062a\u0639\u062f\u064a\u0644")),s=c("WorkModeConfig").is_work_user?i._("\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0632\u0645\u0644\u0627\u0621 \u0627\u0644\u0639\u0645\u0644"):i._("\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"),t=c("WorkModeConfig").is_work_user?i._("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0644\u0632\u0645\u0644\u0627\u0621 \u0627\u0644\u0639\u0645\u0644 \u0647\u0624\u0644\u0627\u0621 \u0631\u0624\u064a\u062a\u0643 \u0641\u064a \u0627\u0644\u062f\u0631\u062f\u0634\u0629. {=link}",[i.param("=link",r)]):i._("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0644\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647 \u0631\u0624\u064a\u062a\u0643 \u0641\u064a \u0627\u0644\u062f\u0631\u062f\u0634\u0629. {=link}",[i.param("=link",r)]);return[c("React").createElement(c("ChatSidebarHeader.react"),{key:"usersSeparator1"},s),c("React").createElement(c("ChatSidebarHeader.react"),{className:"_5j9-",key:"usersSeparator2"},t),c("React").createElement(c("ChatSidebarUserGroupContainer.react"),{ids:q,isDisconnected:this.state.isDisconnected,imageSize:p,key:c("ChatSidebarSections").OFFLINE_USERS,loadExtras:this.state.renderBelowFold,sectionName:c("ChatSidebarSections").OFFLINE_USERS})]};o.prototype.$ChatSidebarOrderedList8=function(){__p&&__p();if(this.props.availableUsers.length===0)return null;if(!this.state.renderBelowFold){var p=c("ChatSidebarConstants").getItemHeight();return[c("React").createElement("div",{key:c("ChatSidebarSections").MORE_ONLINE_FRIENDS,style:{height:p*this.props.availableUsers.length}})]}var q=c("ChatSidebarConstants").getImageSize(),r=c("WorkModeConfig").is_work_user?i._({"*":"{MORE ONLINE COWORKERS} ({=count})"},[i.param("MORE ONLINE COWORKERS",i._("\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0632\u0645\u0644\u0627\u0621 \u0627\u0644\u0639\u0645\u0644")),i.param("=count",this.props.availableUsers.length,[0])]):i._({"*":"{MORE ONLINE CONTACTS} ({=count})"},[i.param("MORE ONLINE CONTACTS",i._("\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644")),i.param("=count",this.props.availableUsers.length,[0])]),s=c("React").createElement(c("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:q,isDisconnected:this.state.isDisconnected,key:c("ChatSidebarSections").MORE_ONLINE_FRIENDS,loadExtras:this.state.renderBelowFold,sectionName:c("ChatSidebarSections").MORE_ONLINE_FRIENDS});return[c("React").createElement(c("ChatSidebarHeader.react"),{ref:function(t){this.$ChatSidebarOrderedList4=t}.bind(this),key:"usersSeparator",onClick:function(){return this.$ChatSidebarOrderedList19(c("ReactDOM").findDOMNode(this.$ChatSidebarOrderedList4))}.bind(this)},r),s]};o.prototype.$ChatSidebarOrderedList15=function(){if(!c("ChatConfig").get("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;return c("React").createElement(c("ChatSidebarHeader.react"),{ref:"nearbySeparator",key:"nearbySeparator"},c("React").createElement(c("LeftRight.react"),null,i._("\u0628\u0627\u0644\u062c\u0648\u0627\u0631"),c("React").createElement(c("Link.react"),{target:"_blank",href:new(c("URI"))("/help/android-app/291236034364603")},c("React").createElement(c("Image.react"),{className:"_3-90",src:j("129548")}))))};o.prototype.$ChatSidebarOrderedList16=function(){if(!c("ChatConfig").get("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var p=c("ChatSidebarConstants").getImageSize(),q=this.props.nearby;if(c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE)q=this.props.nearby.filter(function(r){return c("PresencePrivacy").allows(r)});return c("React").createElement(c("ChatSidebarUserGroupContainer.react"),{key:c("ChatSidebarSections").NEARBY,ids:q,isDisconnected:this.state.isDisconnected,imageSize:p,loadExtras:this.state.renderBelowFold,sectionName:c("ChatSidebarSections").NEARBY})};o.prototype.$ChatSidebarOrderedList12=function(){if(!c("ChatConfig").get("show_rc_section")||this.props.recents.length===0)return null;var p=this.props.recents;p=this.props.recents.filter(function(r){return c("PresencePrivacy").allowsIfViewerIsOnline(r)});var q=c("ChatSidebarConstants").getImageSize();return[c("React").createElement(c("ChatSidebarHeader.react"),{ref:function(r){this.$ChatSidebarOrderedList5=r}.bind(this),key:"recentsSeparator",onClick:function(){return this.$ChatSidebarOrderedList19(c("ReactDOM").findDOMNode(this.$ChatSidebarOrderedList5))}.bind(this)},i._("\u0622\u062e\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a")),c("React").createElement(c("ChatSidebarUserGroupContainer.react"),{ids:p,isDisconnected:this.state.isDisconnected,imageSize:q,key:c("ChatSidebarSections").RECENTS,loadExtras:this.state.renderBelowFold,sectionName:c("ChatSidebarSections").RECENTS})]};o.prototype.$ChatSidebarOrderedList11=function(){__p&&__p();if(this.props.groups.length===0)return null;var p=this.state.isDisconnected||c("PresencePrivacy").isUserOffline(),q=this.props.groups;if(!p&&c("ChatConfig").get("only_active_groups"))q=this.props.groups.filter(function(s){return c("PresenceStatus").getGroup(s.mercury_thread.participants)===c("AvailableListConstants").ACTIVE});if(q.length===0)return null;var r=q.length;if(c("ChatConfig").get("only_active_groups"))r=Math.min(q.length,c("ChatConfig").get("num_groups_to_show"));return[c("React").createElement(c("ChatSidebarHeader.react"),{ref:function(s){this.$ChatSidebarOrderedList2=s}.bind(this),key:"groupSeparator",className:p?"_570-":"",onClick:function(){return this.$ChatSidebarOrderedList19(c("ReactDOM").findDOMNode(this.$ChatSidebarOrderedList2))}.bind(this)},i._("\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u062c\u0645\u0627\u0639\u064a\u0629")),c("React").createElement(c("ChatSidebarGroupThreadsGroup.react"),{groups:q.slice(0,r),isDisconnected:this.state.isDisconnected,key:"group_threads_section",loadExtras:this.state.renderBelowFold})]};o.prototype.$ChatSidebarOrderedList14=function(){var p=c("ChatSidebarConstants").getImageSize(),q=this.props.topUsers;if(c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE)q=this.props.topUsers.filter(function(r){return c("PresencePrivacy").allows(r)});return c("React").createElement(c("ChatSidebarUserGroupContainer.react"),{key:c("ChatSidebarSections").ORDERED_LIST,ids:q,isDisconnected:this.state.isDisconnected,imageSize:p,loadExtras:this.state.renderBelowFold,sectionName:c("ChatSidebarSections").ORDERED_LIST})};o.prototype.$ChatSidebarOrderedList18=function(){__p&&__p();if(!c("ChatConfig").get("work_show_invites"))return null;var p=this.state.isDisconnected||c("PresencePrivacy").isUserOffline();if(p){if(this.props.workWelcomeOverlay)this.$ChatSidebarOrderedList20(false);return null}var q=this.props.availableUsers.length===0&&this.props.topUsers.length===0&&this.props.workOthers.length===0&&this.props.groups.length===0,r=null;if(this.props.workWelcomeOverlay){if(c("CurrentUser").isWorkUser())this.$ChatSidebarOrderedList20(q)}else if(q)r=c("React").createElement("div",{className:"_3-8z"},c("React").createElement(c("Image.react"),{className:"_3-8z",src:j("286109")}),c("React").createElement("h3",{className:"_3-8k"},i._("\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0623\u064a \u0634\u062e\u0635 \u0641\u0648\u0631\u064b\u0627")),c("React").createElement("div",{className:"_3-8k _5-km"},i._("\u064a\u0645\u0643\u0646\u0643 \u062f\u0639\u0648\u0629 \u0632\u0645\u0644\u0627\u0621 \u0627\u0644\u0639\u0645\u0644 \u0644\u0631\u0624\u064a\u062a\u0647\u0645 \u0647\u0646\u0627 \u0643\u062c\u0647\u0627\u062a \u0627\u062a\u0635\u0627\u0644 \u0644\u0644\u062f\u0631\u062f\u0634\u0629.")));var s=c("XWorkInviteCoworkersDialogController").getURIBuilder().setEnum("source",c("WorkInviteSource").WWW_CHAT_SIDEBAR).getURI(),t=i._("\u062f\u0639\u0648\u0629 \u0632\u0645\u0644\u0627\u0621 \u0627\u0644\u0639\u0645\u0644");return c("React").createElement("div",{className:"_5-kn"},r,c("React").createElement(c("XUIButton.react"),{className:"_3-8i _2w3v ellipsis",label:t,use:"confirm",size:"large",href:"#",ajaxify:s,rel:"dialog"}))};o.prototype.$ChatSidebarOrderedList10=function(){if(!this.props.pymmList)return null;var p=this.props.pymmList.pages;if(!this.props.isSidebar||!c("ChatConfig").get("show_businesses")||!p||p.length===0)return null;return[c("React").createElement(c("BootloadOnRender.react"),{key:"bootloader",loader:c("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarOrderedList.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{key:"pymm_container",pymmList:p})})]};o.prototype.$ChatSidebarOrderedList9=function(){if(!c("ChatConfig").get("show_admined_pages")||this.props.adminedPages.length===0||!this.props.pageListModule)return null;var p=null;if(this.props.adminedPages.length>=n){var q=c("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",this.props.adminedPages[0].ref).getURI();p=c("React").createElement(c("Link.react"),{className:"_2l56",href:q,target:"_blank"},i._("\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"))}var r=this.props.pageListModule;return[c("React").createElement(c("ChatSidebarHeader.react"),{className:"_4kqp",key:c("ChatSidebarSections").ADMINED_PAGES},c("React").createElement(c("LeftRight.react"),null,i._("\u0635\u0641\u062d\u0627\u062a\u0643"),p)),c("React").createElement(r,{adminedPages:this.props.adminedPages,key:"pages_section"})]};o.prototype.$ChatSidebarOrderedList17=function(){if(!c("WorkModeConfig").is_work_user||this.props.workOthers.length===0)return null;var p=c("ChatSidebarConstants").getImageSize(),q=i._("({count}) {OTHERS}",[i.param("OTHERS",i._("\u0622\u062e\u0631\u0648\u0646")),i.param("count",this.props.workOthers.length)]),r=c("React").createElement(c("ChatSidebarUserGroupContainer.react"),{ids:this.props.workOthers,imageSize:p,isDisconnected:this.state.isDisconnected,key:c("ChatSidebarSections").WORKPLACE_OTHERS,loadExtras:this.state.renderBelowFold,sectionName:c("ChatSidebarSections").WORKPLACE_OTHERS});return c("React").createElement("div",null,c("React").createElement(c("ChatSidebarHeader.react"),{ref:function(s){this.$ChatSidebarOrderedList3=s}.bind(this),key:"othersSeparator",onClick:function(){return this.$ChatSidebarOrderedList19(c("ReactDOM").findDOMNode(this.$ChatSidebarOrderedList3))}.bind(this)},q),r)};o.prototype.$ChatSidebarOrderedList6=function(){c("Bootloader").loadModules(["ChannelConnection"],function(p){this.$ChatSidebarOrderedList1.addSubscriptions(p.subscribe([p.CONNECTED,p.RECONNECTING,p.SHUTDOWN,p.MUTE_WARNING,p.UNMUTE_WARNING],function(){var q=p.disconnected();if(q!==this.state.isDisconnected){if(q)c("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT();else c("ChatReliabilityInstrumentation").logCHANNEL_CONNECT();this.setState({isDisconnected:q})}}.bind(this)))}.bind(this),"ChatSidebarOrderedList.react")};o.prototype.$ChatSidebarOrderedList20=function(p){if(this.props.workWelcomeOverlay)if(p)c("CSS").show(this.props.workWelcomeOverlay);else c("CSS").hide(this.props.workWelcomeOverlay)};o.propTypes={availableUsers:m.array.isRequired,workOthers:m.array.isRequired,groups:m.array.isRequired,recents:m.array.isRequired,scrollContainer:m.object,topUsers:m.array.isRequired,nearby:m.array.isRequired,adminedPages:m.array.isRequired,pageListModule:m.func,pymmList:m.object.isRequired,isSidebar:m.bool,workWelcomeOverlay:m.object};f.exports=o}),null);
__d("MercuryParticipantTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend",SERVICE:"service"})}),null);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(k){if(h[k])return h[k];var l=(c("ShortProfiles").getNow(k)||{}).name;if(l)return h[k]=c("TokenizeUtil").flatten(l);return"~"}var j={sortAlphabetical:function k(l,m){var n=i(l),o=i(m);if(n!==o)return n<o?-1:1;return 0}};f.exports=j}),null);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function a(b,c,d,e,f,g){__p&&__p();function h(k){return k.map(function(l){var m=l.slice(0,-2),n=Number(l.slice(-1));return[m,n]})}function i(k,l){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?[]:arguments[2],n=[];k.forEach(function(o){var p=o[0],q=o[1];if(n.length>=l)return;if(c("PresencePrivacy").getFriendVisibility(p)==c("PresencePrivacy").BLACKLISTED)return;if(q==c("PresenceStatus").get(p)&&!m.includes(p))n.push(p)});return n}function j(){"use strict";this.$PresenceOrderedList1=null}j.prototype.getSorted=function(k,l){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];"use strict";if(this.$PresenceOrderedList1){l(i(this.$PresenceOrderedList1,k,m));return}c("ChatSidebarPreloadStore").onLoaded(function(n){var o=n.buddies;this.$PresenceOrderedList1=h(o);l(i(this.$PresenceOrderedList1,k,m))}.bind(this))};j.prototype.getAvailableSorted=function(k){"use strict";var l=c("PresenceStatus").getOnlineIDs();if(k)l=l.filter(function(m){return k&&k.indexOf(m)===-1});return l.sort(c("ChatSortUsers").sortAlphabetical)};j.prototype.getAllSorted=function(k){"use strict";var l=[],m=this.$PresenceOrderedList1||[];c("PresenceStatus").getAllIDs().concat(m.map(function(n){return n[0]})).forEach(function(n){return l.indexOf(n)===-1&&l.push(n)});if(k)l=l.filter(function(n){return k&&k.indexOf(n)===-1});return l.sort(c("ChatSortUsers").sortAlphabetical)};f.exports=new j()}),null);
__d("ChatOrderedList",["csx","Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","Bootloader","CSS","ChatConfig","ChatHovercard","ChatOptions","ChatOrderedListHover","ChatSidebarConstants","ChatSidebarOrderedList.react","ChatSidebarPreloadStore","DOM","DataStore","Event","JSLogger","MercuryParticipantTypes","Parent","PresenceOrderedList","PresencePrivacy","React","ReactDOM","ShortProfilesStore","WorkModeConfig","debounceAcrossTransitions","mixin","shield"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l,m,n){"use strict";__p&&__p();j.constructor.call(this);this._workWelcomeOverlay=n;this._root=m;this._isVisible=false;this._excludedIds={};this._numTopFriends=5;this._adminedPages=[];this._pageListModule=null;this._pymmList={config:null,pages:[]};this._groups=[];this._nearby=[];this._recents=[];this._hoverController=null;this._isHovering=false;this._skippedRenderDuringHover=false;this._isSidebar=l;this._orderedList=c("DOM").find(this._root,".fbChatOrderedList");c("Event").listen(this._orderedList,"mouseover",function(){this._isHovering=true}.bind(this));c("Event").listen(this._orderedList,"mouseout",function(){this._isHovering=false;if(this._skippedRenderDuringHover){this._skippedRenderDuringHover=false;this._render()}}.bind(this));this._scrollableOrderedList=c("Parent").byClass(this._root,"scrollableOrderedList");this._scrollableArea=c("Parent").byClass(this._root,"scrollable");if(l)new(c("ChatHovercard"))(this);c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(o,p){this.getSortedList(function(q){p.chat_lists=p.chat_lists||{sorted_list:q,available_list:c("PresenceOrderedList").getAvailableSorted(),excluded_list:this._excludedIds}}.bind(this))}.bind(this));c("PresencePrivacy").subscribe("privacy-user-presence-changed",c("shield")(this._render,this));c("AvailableList").subscribe(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,c("shield")(this._render,this));this._maybeStartRecentsSectionFunnelLog()}k.prototype.getShowingUsers=function(){"use strict";return c("DOM").scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode)};k.prototype.getUserForNode=function(l){"use strict";return c("DataStore").get(l,"id")||c("DataStore").get(l,"serverthreadid")};k.prototype.getHoverController=function(){"use strict";if(!this._hoverController)this._hoverController=new(c("ChatOrderedListHover"))(this);return this._hoverController};k.prototype.getItemHeight=function(){"use strict";return c("ChatSidebarConstants").getItemHeight()};k.prototype.getRoot=function(){"use strict";return this._root};k.prototype.getSortedList=function(l){"use strict";c("PresenceOrderedList").getSorted(this._numTopFriends,function(m){return l(m)})};k.prototype.hide=function(){"use strict";if(!this._isVisible)return;this._isVisible=false;c("CSS").hide(this._scrollableOrderedList||this._root);this.inform("hide")};k.prototype.setNumTopFriends=function(l,m){"use strict";__p&&__p();c("ChatSidebarPreloadStore").onLoaded(function(n){__p&&__p();var o=n.groups,p=n.nearby,q=n.adminedPages,r=n.pageListModule,s=n.pymmList,t=n.recents;l--;if(c("ChatConfig").get("show_header"))l--;var u=l,v=!c("ChatOptions").getSetting("hide_groups")?o:[],w=!c("ChatOptions").getSetting("hide_admined_pages")?q:[],x=!c("ChatOptions").getSetting("hide_businesses")&&s.pages?s:{config:null,pages:[]},y=Math.min(v.length,c("ChatConfig").get("num_groups_to_show"));if(y>0)u-=y+1;if(c("ChatConfig").get("nearby_friends_www_chatbar")&&p.length>0)u-=p.length+1;if(c("ChatConfig").get("show_admined_pages")&&w.length>0)u-=w.length+1;if(c("ChatConfig").get("show_rc_section")&&t.length>0)u-=t.length+1;if(c("ChatConfig").get("show_businesses")&&x.pages.length>0)u-=2;u=Math.min(l,Math.max(u,c("ChatConfig").get("min_top_friends")||0));if(u!==this._numTopFriends||v.length!==this._groups.length||p.length!==this._nearby.length||w.length!==this._adminedPages.length||x.pages.length!==this._pymmList.pages.length||t.length!==this._recents.length){this._groups=v;this._numTopFriends=u;this._nearby=p;this._adminedPages=w;this._pageListModule=r;this._pymmList=x;this._recents=t;if(m){typeof this._render.reset==="function"&&this._render.reset();this._renderOrderedList()}else this._render()}}.bind(this))};k.prototype._renderOrderedList=function(){"use strict";__p&&__p();if(!this._isVisible||this._isHovering){if(this._isHovering)this._skippedRenderDuringHover=true;return}c("PresenceOrderedList").getSorted(this._numTopFriends,function(l){var m=c("WorkModeConfig").is_work_user?c("PresenceOrderedList").getAllSorted(l.concat(this._nearby).concat(this._recents)).filter(function(p){var q=c("ShortProfilesStore").getNow(p);return!q||q.type===c("MercuryParticipantTypes").FB4C}):c("PresenceOrderedList").getAvailableSorted(l.concat(this._nearby).concat(this._recents)),n=c("WorkModeConfig").is_work_user?c("PresenceOrderedList").getAllSorted(l.concat(this._nearby).concat(this._recents)).filter(function(p){var q=c("ShortProfilesStore").getNow(p);return q&&q.type!==c("MercuryParticipantTypes").FB4C}):[],o=l.filter(function(p){return!this._nearby||this._nearby.indexOf(p)===-1}.bind(this));c("ReactDOM").render(c("React").createElement(c("ChatSidebarOrderedList.react"),{availableUsers:m,workOthers:n,scrollContainer:this._scrollContainer,topUsers:o,groups:this._groups,nearby:this._nearby,adminedPages:this._adminedPages,pageListModule:this._pageListModule,pymmList:this._pymmList,isSidebar:this._isSidebar,workWelcomeOverlay:this._workWelcomeOverlay,recents:this._recents}),this._orderedList);this.inform("render")}.bind(this),this._recents)};k.prototype._render=function(){"use strict";this._render=c("debounceAcrossTransitions")(this._renderOrderedList.bind(this),300);this._render()};k.prototype.show=function(){"use strict";if(this._isVisible)return;this._isVisible=true;c("CSS").show(this._scrollableOrderedList||this._root);this._render();this.inform("show")};k.prototype.isVisible=function(){"use strict";return this._isVisible};k.prototype.setScrollContainer=function(l){"use strict";if(c("DOM").contains(l,this._root))this._scrollContainer=l};k.prototype._maybeStartRecentsSectionFunnelLog=function(){"use strict";if(this._isSidebar&&c("ChatConfig").get("in_recents_experiment"))c("Bootloader").loadModules(["FunnelLogger"],function(l){l.startFunnel("WWW_DIVEBAR_RECENTS_FUNNEL");if(c("ChatConfig").get("show_rc_section"))l.appendAction("WWW_DIVEBAR_RECENTS_FUNNEL","show_recents")},"ChatOrderedList")};f.exports=k}),null);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=["input","select","textarea","object","embed"],j={button:1,checkbox:1,radio:1,submit:1,file:1},k={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187]},l={8:1,9:1,13:1,27:1,32:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1};function m(){"use strict";this.handlers={};document.onkeyup=this.onkeyevent.bind(this,"onkeyup");document.onkeydown=this.onkeyevent.bind(this,"onkeydown");document.onkeypress=this.onkeyevent.bind(this,"onkeypress")}m.prototype.mapKey=function(n){"use strict";__p&&__p();if(n>=0&&n<=9){if(typeof n!="number")n=n.charCodeAt(0)-48;return[48+n,96+n]}var o=k[n.toUpperCase()];if(o)return o;return[n.toUpperCase().charCodeAt(0)]};m.prototype.onkeyevent=function(n,o){__p&&__p();var p;"use strict";o=c("Event").$E(o);var q=this.handlers[o.keyCode]||this.handlers[o.which],r,s,t;if(q)for(var u=0;u<q.length;u++){r=q[u].callback;s=q[u].filter;try{if(!s||s(o,n)){var p=function(){t=r(o,n);var w=o.which||o.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(x){new x().setAction("key_shortcut").setKey(o.key||"").setKeyChar(String.fromCharCode(w)).setKeyCode(w).addToExtraData("is_trusted",o.isTrusted).log()},"KeyEventController");if(t===false)return{v:c("Event").kill(o)}}();if(typeof p==="object")return p.v}}catch(v){}}return true};m.prototype.resetHandlers=function(){"use strict";for(var n in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,n)){var o=this.handlers[n].filter(function(p){return p.preserve()});if(o.length)this.handlers[n]=o;else delete this.handlers[n]}};m.getInstance=function(){"use strict";return h||(h=new m())};m.defaultFilter=function(event,n){"use strict";event=c("Event").$E(event);return m.filterEventTypes(event,n)&&m.filterEventTargets(event,n)&&m.filterEventModifiers(event,n)};m.filterEventTypes=function(event,n){"use strict";if(n==="onkeydown")return true;return false};m.filterEventTargets=function(event,n){"use strict";var o=event.getTarget(),p=o.contentEditable==="true"||o.contentEditable==="plaintext-only";return!(p||c("DOMQuery").isNodeOfType(o,i))||o.type in j||event.keyCode in l&&(c("DOMQuery").isNodeOfType(o,["input","textarea"])&&o.value.length===0||p&&c("getElementText")(o).length===0)};m.filterEventModifiers=function(event,n){"use strict";if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true};m.registerKey=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?m.defaultFilter:arguments[2],q=arguments.length<=3||arguments[3]===undefined?false:arguments[3],r=arguments.length<=4||arguments[4]===undefined?c("emptyFunction").thatReturnsFalse:arguments[4];"use strict";var s=m.getInstance(),t=s.mapKey(n);if(c("isEmpty")(s.handlers))c("Run").onLeave(s.resetHandlers.bind(s));var u={};for(var v=0;v<t.length;v++){n=t[v];if(!s.handlers[n]||q)s.handlers[n]=[];var w={callback:o,filter:p,preserve:r};u[n]=w;s.handlers[n].push(w)}return{remove:function x(){for(var y in u){if(s.handlers[y]&&s.handlers[y].length){var z=s.handlers[y].indexOf(u[y]);z>=0&&s.handlers[y].splice(z,1)}delete u[y]}}}};f.exports=m}),null);
__d("ChatSidebar",["csx","Arbiter","AsyncRequest","Bootloader","ChatDispatcher","ChatImpressionLogger","ChatPerfInstrumentation","ChatSidebarActions","ChatSidebarHideReason","ChatSidebarStore","ChatSidebarBotsDispatcher","ChatSidebarBotsStore","ChatSidebarVisibility","CSS","CurrentUser","DOM","DOMDimensions","Event","LogHistory","JSLogger","KeyEventController","LitestandClassicPlaceHolders","Parent","PresencePrivacy","PresenceUtil","ScrollableArea","SidebarType","Style","TimeSlice","ViewportBounds","debounce","emptyFunction","ge","gkx","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("ChatSidebarBotsDispatcher").module,j=c("ChatSidebarBotsStore").module,k,l,m,n,o,p,q=null,r=false,s,t=true,u=null,v=c("LogHistory").getInstance("chat_sidebar");function w(){return c("ChatSidebarStore").getVisibleType()===c("SidebarType").SIDEBAR}function x(K,L){if(!w())return;if(c("CurrentUser").isWorkUser())y(!L);if(L)o.hide();else{o.show();C()}}function y(K){if(q)if(K&&r)c("CSS").show(q);else{r=c("CSS").shown(q);c("CSS").hide(q)}}function z(){return!w()||!n?0:206}function A(){c("CSS").removeClass(document.documentElement,"sidebarMode");if(c("ChatSidebarStore").isInitialized()){o.hide();c("CSS").hide(n);c("CSS").hide(m)}c("Arbiter").inform("sidebar/visibility",false,c("Arbiter").BEHAVIOR_STATE);c("Arbiter").inform("reflow");c("ViewportBounds").inform("change")}function B(K){C(K,J._cacheViewport)}function C(K,L){__p&&__p();var M=void 0,N=function N(){L&&L();if(!K||K.height!==u.height)M=F()},O=function O(){if(K==null||K.width!==u.width)c("ChatSidebarVisibility").shouldShowSidebar(u,function(P,Q){c("ChatSidebarActions").show(P?c("SidebarType").SIDEBAR:c("SidebarType").BUDDYLIST)});G(M)};if(t&&c("gkx")("AT6gbSBgUBpYuAamj-Rz5fewOuWMf45O4-fZ0I_ZTOLmTv6dwIqn7Xngr5mNrgu5Rdzam7lFHHlv-26MeM04h2_8")){N();O();return}c("queryThenMutateDOM")(N,O)}function D(K){var L=u||c("ChatSidebarVisibility").getViewport(),M=L.height;K.forEach(function(N){if(N&&N!==k&&!c("CSS").hasClass(N,"hidden_elem"))M-=c("DOMDimensions").getElementDimensions(N).height});if(s)M-=s.getOffset();if(p)M-=c("DOMDimensions").getElementDimensions(p).height;return Math.max(0,M)}function E(){c("CSS").show(m);c("CSS").show(n);c("CSS").addClass(document.documentElement,"sidebarMode");o.show();v.log("sidebar_show","{}");c("Arbiter").inform("sidebar/visibility",true,c("Arbiter").BEHAVIOR_STATE);c("LitestandClassicPlaceHolders").destroy("sidebar");c("ViewportBounds").inform("change")}function F(){return{body:J.getBodyHeight(),item:o.getItemHeight()}}function G(K){if(!K)return;var L=8,M=Math.floor((K.body-L)/K.item);o.setNumTopFriends(M,t);t=false;var N=Math.floor(K.body-L);c("Style").set(k,"height",K.body+"px");c("Arbiter").inform("sidebar/resized",N,c("Arbiter").BEHAVIOR_STATE);c("Arbiter").inform("reflow")}function H(){var K=void 0,L=function L(){K=F()},M=function M(){return G(K)};if(t&&c("gkx")("AT6gbSBgUBpYuAamj-Rz5fewOuWMf45O4-fZ0I_ZTOLmTv6dwIqn7Xngr5mNrgu5Rdzam7lFHHlv-26MeM04h2_8")){L();M();return}c("queryThenMutateDOM")(L,M)}function I(){new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(c("emptyFunction")).setErrorHandler(c("emptyFunction")).setData({sidebar_mode:c("ChatSidebarStore").isEnabled(),window_id:c("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(true).send()}var J={init:function K(L,M,N){__p&&__p();J.init=c("emptyFunction");c("ChatPerfInstrumentation").initDivebar();c("ChatDispatcher").explicitlyRegisterStore(c("ChatSidebarStore"));if(i&&j)i.explicitlyRegisterStore(j);c("ChatSidebarActions").loaded();n=L;o=M;q=N;k=c("DOM").find(L,"div.fbChatSidebarBody");m=c("DOM").find(L,"._51x_");p=c("DOM").find(L,"._5qqe");c("Event").listen(window,"resize",function(){var O=babelHelpers["extends"]({},u)||{};B(O)});c("KeyEventController").registerKey("q",function(event){__p&&__p();if(c("ChatSidebarStore").getVisibleType()!==c("SidebarType").SIDEBAR)return;if(!l){var O=c("DOM").scry(L,"._3rhb input");if(O.length>0)l=O[0]}if(l){l.focus();event.prevent()}});o.setScrollContainer(c("Parent").byClass(o.getRoot(),"uiScrollableAreaWrap"));o.subscribe(["render","show","hide"],c("debounce")(function(O){var P=c("ScrollableArea").getInstance(o.getRoot());P&&P.adjustGripper()}));c("Arbiter").subscribe("chat/option-changed",function(O,P){var Q=P.name;if(Q==="hide_groups"||Q==="hide_admined_pages"||Q==="hide_businesses")H()});c("Arbiter").subscribe(["AppsDivebar/show-apps","AppsDivebar/hide-apps","Ticker/resized","PagesDivebar/show-pages","PagesDivebar/hide-pages"],H);c("Arbiter").subscribe("sidebar/typeahead/active",x);c("PresencePrivacy").subscribe("privacy-user-presence-changed",C);c("ChatSidebarStore").addListener(function(){var O=c("ChatSidebarStore").getState(),P=c("ChatSidebarStore").getPrevState();if(O.visible!==P.visible)switch(O.visible){case c("SidebarType").SIDEBAR:E();break;case c("SidebarType").BUDDYLIST:A();break}if(O.enabled!==P.enabled)I()});if(j)j.addListener(function(){return H()});B();c("ChatImpressionLogger").init(o);c("ViewportBounds").addPersistentRight(z);c("Arbiter").inform("sidebar/initialized",J,c("Arbiter").BEHAVIOR_STATE);c("ChatSidebarActions").init();c("ChatPerfInstrumentation").logSIDEBAR_DISPLAY_DONE()},ensureLoaded:function K(){__p&&__p();if(!c("ChatSidebarStore").isEnabled())return;if(c("ChatSidebarStore").isLoaded())return;if(c("ge")("pagelet_sidebar"))return;c("Bootloader").loadModules(["UIPagelet"],function(L){var M=c("DOM").create("div",{id:"pagelet_sidebar"});c("DOM").appendContent(document.body,M);L.loadFromEndpoint("SidebarPagelet","pagelet_sidebar")},"ChatSidebar");c("ChatSidebarActions").loaded()},hide:function K(){if(!c("ChatSidebarStore").isEnabled())return;c("ChatSidebarActions").disable()},unhide:function K(){if(c("ChatSidebarStore").isEnabled())return;c("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(L,M){c("ChatSidebarActions").enable(L?c("SidebarType").SIDEBAR:c("SidebarType").BUDDYLIST)})},_cacheViewport:function K(){u=c("ChatSidebarVisibility").getViewport()},getBodyHeight:function K(){return D(Array.from(m.childNodes))}};c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(K,L){L.sidebar_visible=w()});J.init=c("TimeSlice").guard(J.init,"ChatSidebar init");f.exports=J}),null);